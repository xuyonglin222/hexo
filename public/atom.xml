<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>åºšåºš</title>
  
  <subtitle>ä»»é£é›¨é£˜æ‘‡ æˆ‘è‡ªæ€¡ç„¶ä¸åŠ¨</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-07-30T01:42:21.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>å¾æ°¸æ—</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç”±æ˜é•œé¡¹ç›®å¼•èµ·çš„å­¦ä¹ è®°å½•</title>
    <link href="http://yoursite.com/2019/07/25/MingJingNote/"/>
    <id>http://yoursite.com/2019/07/25/MingJingNote/</id>
    <published>2019-07-25T15:54:06.000Z</published>
    <updated>2019-07-30T01:42:21.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>å°†é¡¹ç›®é‡Œé‡åˆ°çš„å‘ï¼Œæˆ–è€…è¯´ä¸€äº›ä¼˜ç§€çš„æƒ³æ³•è®°ä¸‹æ¥</p></blockquote><a id="more"></a><h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><p>import(â€˜/src/nav.jsâ€™)æ˜¯importçš„åŠ¨æ€ç”¨æ³•ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªpromiseï¼Œresolveçš„å½¢å¦‚{ default: nav, __esModule: true }</p><h3 id="asyncComponent"><a href="#asyncComponent" class="headerlink" title="asyncComponent"></a>asyncComponent</h3><p>å¯¹äºåŠ è½½é¡µé¢æ—¶ï¼Œå¹¶æœªç«‹å³æ˜¾ç¤ºçš„ç»„ä»¶ï¼Œå¯ä»¥é‡‡ç”¨å¼‚æ­¥ç»„ä»¶çš„æ¨¡å¼æŒ‰éœ€åŠ è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> loadComponent(getComponent)&#123;</span><br><span class="line">    <span class="built_in">return</span> class AsyncComponent extend PureComponent&#123;</span><br><span class="line">        static AsyComponent = null;</span><br><span class="line">        state = &#123;</span><br><span class="line">            AsyComponent : AsyncComponent.AsyComponent</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="function"><span class="title">componentDidMount</span></span>()&#123;</span><br><span class="line">            <span class="keyword">if</span>(!this.state.AsyComponent)&#123;</span><br><span class="line">                getComponent().<span class="keyword">then</span>((&#123; default: Component &#125;) =&gt; &#123;</span><br><span class="line">                    this.setState(&#123;</span><br><span class="line">                        AsyComponent: Component</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="title">render</span></span>()&#123;</span><br><span class="line">            const &#123; AsyComponent &#125; = this.state;</span><br><span class="line">            <span class="built_in">return</span> (</span><br><span class="line">                <span class="keyword">if</span>(AsyComponent)&#123;</span><br><span class="line">                    &lt;AsyComponent/&gt;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">return</span> &lt;Spin title=<span class="string">'åŠ è½½ä¸­....'</span>/&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mapDispatchToProps"><a href="#mapDispatchToProps" class="headerlink" title="mapDispatchToProps"></a>mapDispatchToProps</h3><ul><li>mapDispatchToPropsç”¨äºå»ºç«‹ç»„ä»¶è·Ÿstore.dispatchçš„æ˜ å°„å…³ç³»</li><li>å¯ä»¥æ˜¯ä¸€ä¸ªobjectï¼Œä¹Ÿå¯ä»¥ä¼ å…¥å‡½æ•°</li><li>å¦‚æœmapDispatchToPropsæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥ä¼ å…¥dispatch,ownProps, å®šä¹‰UIç»„ä»¶å¦‚ä½•å‘å‡ºactionï¼Œå®é™…ä¸Šå°±æ˜¯è¦è°ƒç”¨dispatchè¿™ä¸ªæ–¹æ³•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/* å‡è®¾actionsæ˜¯ä¸€ä¸ªimportè¿›æ¥çš„å€¼ä¸ºactionCreatorçš„object */</span><br><span class="line">action.increase = <span class="keyword">function</span> (info) &#123;</span><br><span class="line">  <span class="built_in">return</span> &#123;</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="built_in">type</span>:<span class="string">'INCREASE'</span>ï¼Œ</span><br><span class="line">        info</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mapDispatchToProps = (dispatch, ownProps) =&gt; &#123;</span><br><span class="line">  <span class="built_in">return</span> &#123;</span><br><span class="line">    increase: (...args) =&gt; dispatch(actions.increase(...args)),</span><br><span class="line">    decrease: (...args) =&gt; dispatch(actions.decrease(...args))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨actions.increase()åªèƒ½å¾—åˆ°ä¸€ä¸ª actionå¯¹è±¡{type:â€™INCREASEâ€™} ï¼Œè¦è§¦å‘è¿™ä¸ª actionå¿…é¡»åœ¨store ä¸Šè°ƒç”¨ dispatch æ–¹æ³•ã€‚ diapatchæ­£æ˜¯ mapDispatchToPropsçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¸è®© ç»„ä»¶æ„ŸçŸ¥åˆ° dispatch çš„å­˜åœ¨ï¼Œéœ€è¦å°†increase å’Œ decrease ä¸¤ä¸ªå‡½æ•°åŒ…è£…ä¸€ä¸‹ï¼Œä½¿ä¹‹æˆä¸ºç›´æ¥å¯è¢«è°ƒç”¨çš„å‡½æ•°ï¼ˆå³ï¼Œè°ƒç”¨è¯¥æ–¹æ³•å°±ä¼šè§¦å‘ dispatch ï¼‰ã€‚</p><h4 id="bindActionCreator"><a href="#bindActionCreator" class="headerlink" title="bindActionCreator"></a>bindActionCreator</h4><p>bindActionCreatorå¯ä»¥å°†actionåŒ…è£…æˆå¯ä»¥è¢«è°ƒç”¨çš„å‡½æ•°ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123;bindActionCreators&#125; from <span class="string">'redux'</span>;</span><br><span class="line"></span><br><span class="line">const mapDispatchToProps = &#123;</span><br><span class="line">&#125; = (dispatch, ownProps) =&gt; &#123;</span><br><span class="line">  <span class="built_in">return</span> bindActionCreators(&#123;</span><br><span class="line">    increase: action.increase,</span><br><span class="line">    decrease: action.decrease</span><br><span class="line">  &#125;, dispatch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* è¿”å›è·Ÿä¸Šé¢ä¸€æ ·çš„object */</span><br><span class="line">&#123;</span><br><span class="line">   increase: (...args) =&gt; dispatch(action.increase(...args)),</span><br><span class="line">   decrease: (...args) =&gt; dispatch(action.decrease(...args)),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ul><li>å¦‚æœmapDispatchToPropsæ˜¯ä¸€ä¸ªå‡½æ•°, å¹¶ä¸”ä¼ å…¥ownProps, å½“ç»„ä»¶è·å–æ–°çš„propsçš„æ—¶å€™ï¼ŒmapDispatchToPropsä¹Ÿä¼šè¢«è°ƒç”¨.</li><li>ä¼ å…¥ä¸€ä¸ªobjectï¼Œå…¶ä¸­è¿™ä¸ªobjectæ‰€å¯¹åº”çš„valueå¿…é¡»æ˜¯actionCreatorï¼Œè¿™æ ·reduxé‡Œé¢ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨bindActionCreatorï¼Œæ‰€ä»¥ä¸Šé¢åˆå¯ä»¥å˜æˆ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const mapDispatchToProps = &#123;</span><br><span class="line">    ...action</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å‚è€ƒåœ°å€"><a href="#å‚è€ƒåœ°å€" class="headerlink" title="å‚è€ƒåœ°å€"></a>å‚è€ƒåœ°å€</h5><p><a href="https://imweb.io/topic/5a426d32a192c3b460fce354" target="_blank" rel="noopener">https://imweb.io/topic/5a426d32a192c3b460fce354</a></p><h3 id="antd-CheckBox-Bug"><a href="#antd-CheckBox-Bug" class="headerlink" title="antd CheckBox Bug"></a>antd CheckBox Bug</h3><ul><li>æè¿°ï¼š form.resetFieldsæ—¶ï¼Œä¸èƒ½é‡ç½®checkbox</li><li>è§£å†³åŠæ³•ï¼šåœ¨getFieldDecorator(key, options)çš„optionsé‡Œæ·»åŠ {valuePropName: â€˜checkedâ€™}</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å°†é¡¹ç›®é‡Œé‡åˆ°çš„å‘ï¼Œæˆ–è€…è¯´ä¸€äº›ä¼˜ç§€çš„æƒ³æ³•è®°ä¸‹æ¥&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="About" scheme="http://yoursite.com/tags/About/"/>
    
  </entry>
  
  <entry>
    <title>å°åŸ¹æ€»ç»“</title>
    <link href="http://yoursite.com/2019/07/22/%E5%B0%81%E5%9F%B9%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2019/07/22/å°åŸ¹æ€»ç»“/</id>
    <published>2019-07-22T02:44:48.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>æ­£å¼å¼€å§‹æ¥éœ€æ±‚ä¹‹å‰ï¼Œå…¬å¸å®‰æ’è¿›è¡Œäº†æ—¶æœŸ5å¤©çš„å°é—­åŸ¹è®­ï¼ŒçœŸçš„æ˜¯æ”¶è·äº†æ»¡æ»¡çš„æ„ŸåŠ¨å’Œâ€˜ç–²æƒ«â€™</p></blockquote><a id="more"></a><p>æ­¤æ¬¡å‚åŠ åœ¨å¼¦ä¸Šé¡¹ç›®é¢˜ç›®æ˜¯åŸºäºä¾›éœ€é¢„æµ‹çš„çƒ­åŠ›å›¾æ–¹æ¡ˆï¼Œå‰ç«¯æŠ€æœ¯æ ˆä¸»è¦æ˜¯react+dva+mapboxï¼Œä¸»è¦å®ç°äº†å¯¹äºä¹˜å®¢ç«¯çƒ­åŠ›åœ¨å†å²ã€ç°åœ¨ä»¥åŠæœªæ¥ä¸åŒæ—¶é—´çš„æŸ¥è¯¢ä¸å±•ç¤ºçš„åŸºç¡€åŠŸèƒ½ï¼Œå¦å¤–æ·»åŠ äº†è°ƒè‰²æ¿ï¼Œpopupï¼Œæ—¥å¤œé—´æ¨¡å¼ï¼Œæ›´æ¢åº•å›¾ä»¥åŠæ‰“ç‚¹çš„é™„åŠ åŠŸèƒ½ï¼Œå¦å¤–å› ä¸ºæˆ‘ä»¬æœ‰ç§»åŠ¨ç«¯çš„åŒå­¦ï¼Œå› æ­¤å¯¹å‰ç«¯è¿›è¡Œäº†é€‚é…ï¼Œä½¿ä¹‹åµŒå¥—åœ¨å®‰å“ç«¯å’Œiosç«¯ã€‚</p><ul><li>éš¾ç‚¹ï¼šmapboxçš„å®˜æ–¹æ–‡æ¡£åŠå…¶ä¸å‹å¥½ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­èŠ±è´¹äº†å¤§é‡çš„æ—¶é—´åœ¨æŸ¥è¯¢apiä¸Šã€‚</li></ul><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹:"></a>ä¼˜ç‚¹:</h3><ul><li>å¸®åŠ©å¦å¤–éreactæŠ€æœ¯æ ˆçš„åŒå­¦å¼€å‘ã€‚</li><li>èƒ½å¤Ÿä¸ºé‡åˆ°çš„é—®é¢˜æä¾›åˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚</li><li>å¼€å‘çƒ­æƒ…æŒç»­é«˜äº¢ï¼Œäº”å¤©ä¸­æœ‰ä¸‰å››å¤©ç†¬å¤œç†¬åˆ°äº†å‡Œæ™¨4ç‚¹åŠã€‚</li></ul><h3 id="ä¸è¶³ï¼š"><a href="#ä¸è¶³ï¼š" class="headerlink" title="ä¸è¶³ï¼š"></a>ä¸è¶³ï¼š</h3><ul><li>åœ¨æ‹†åˆ†äº§å“éœ€æ±‚é˜¶æ®µï¼Œå‰ç«¯æ–¹é¢çš„æ‹†åˆ†æœ‰ç–æ¼ï¼ŒåŸå› æ˜¯åœ°å›¾ç›¸å…³ä¸šåŠ¡çŸ¥è¯†çš„çŸ­ç¼ºï¼Œæ²¡æœ‰åŠæ—¶äº†è§£ç›¸å…³çŸ¥è¯†ã€‚</li><li>åŠŸèƒ½è¯„å®šleveléƒ¨åˆ†ä¸åˆç†ï¼Œåœ¨å‰åç«¯æœªè°ƒé€šä¹‹å‰ï¼Œä¸»è¦åŠŸèƒ½æ–¹é¢åªå¼€å‘äº†UIéƒ¨åˆ†ï¼Œå¿½è§†äº†é€»è¾‘éƒ¨åˆ†ï¼Œå°†ç²¾åŠ›å¤§é‡çš„æŠ•å…¥åˆ°äº†æ¢åº•å›¾ï¼Œæ‰“ç‚¹ï¼Œæ—¥å¤œé—´æ¨¡å¼åˆ‡æ¢çš„åŠŸèƒ½ä¸Šé¢ã€‚</li><li>å‰åç«¯æ²Ÿé€šä¸å……åˆ†ï¼Œå› æ­¤ï¼Œåœ¨é‡åˆ°é¡¹ç›®bugæ—¶ï¼Œæœªèƒ½åŠæ—¶å‡†ç¡®å®šä½å‡ºåŸå› ï¼Œæµªè´¹äº†ä¸€äº›ç²¾åŠ›ã€‚</li><li>éƒ¨åˆ†æ¥å£ç¼ºå°‘mockã€‚</li></ul><h3 id="æ”¶è·ä»¥åŠæ„Ÿæ‚Ÿï¼š"><a href="#æ”¶è·ä»¥åŠæ„Ÿæ‚Ÿï¼š" class="headerlink" title="æ”¶è·ä»¥åŠæ„Ÿæ‚Ÿï¼š"></a>æ”¶è·ä»¥åŠæ„Ÿæ‚Ÿï¼š</h3><ul><li>åœ¨é¡¹ç›®çš„äº§å“éœ€æ±‚æ‹†åˆ†é˜¶æ®µæˆ–è€…å¼€å‘åˆæœŸé˜¶æ®µï¼Œå°±åº”è¯¥æå‰äº†è§£è¯¥é¡¹ç›®çš„ç›¸å…³ä¸šåŠ¡çŸ¥è¯†ã€‚</li><li>åŠŸèƒ½æ‹†åˆ†åï¼Œåº”å½“å¯¹éœ€æ±‚çš„levelè¿›è¡Œåˆç†çš„åˆ’åˆ†ï¼Œè€Œä¸æ˜¯ç®€å•åœ°åˆ—ä¸€ä¸‹ï¼Œå°±è¿›è¡Œåˆ†å·¥ã€‚</li><li>åœ¨æˆ‘çœ‹æ¥ï¼Œæˆ‘ä»¬å°ç»„æ¯ä¸€ä½åŒå­¦éƒ½å°½å¯èƒ½åœ°æ•£å‘å‡ºäº†å…‰å’Œçƒ­ï¼Œæ¯ä¸€ä½åŒå­¦å¯¹æŠ€æœ¯éƒ½æœ‰ç€æå¤§åœ°çƒ­æƒ…ï¼Œæ¯ä¸ªäººéƒ½æƒ³ç€å»å®Œå–„è¿™ä¸ªé¡¹ç›®ï¼Œæœ€ç»ˆæ”¶è·äº†ä¸€ç­‰å¥–ã€‚</li></ul><p>æ­¤æ¬¡åœ¨å¼¦ä¸ŠåŸ¹è®­è®©æˆ‘æ„è¯†åˆ°äº†ä»€ä¹ˆæ˜¯å›¢é˜Ÿï¼Œè™½ç„¶åªæ˜¯çŸ­æš‚çš„äº”å¤©ï¼Œå´ç•™ä¸‹äº†æ»¡æ»¡çš„æ„ŸåŠ¨å’Œâ€™ç–²æƒ«â€™ï¼Œå¸Œæœ›ç¬¬å…«ç»„çš„æ¯ä¸ªåŒå­¦åœ¨å„è‡ªçš„å·¥ä½œå›¢é˜Ÿåšå‡ºå¥½æˆç»©ï¼Œä¹Ÿæ„Ÿè°¢åœ¨å¼¦ä¸Šçš„æ¯ä¸€ä½æ•™å§”è€å¸ˆï¼Œæ„Ÿè°¢æ•™ç»ƒï¼Œæ„Ÿè°¢ä¸¤ä½è¿è¥ç®¡å®¶ï¼Œä»¥åŠæœ€åçš„è¯„å§”è€å¸ˆï¼Œè€å¸ˆä»¬çœŸçš„æå‡ºäº†å¯¹æˆ‘ä»¬èŒä¸šç”Ÿæ¶¯å¾ˆé‡è¦çš„æ„è§ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ­£å¼å¼€å§‹æ¥éœ€æ±‚ä¹‹å‰ï¼Œå…¬å¸å®‰æ’è¿›è¡Œäº†æ—¶æœŸ5å¤©çš„å°é—­åŸ¹è®­ï¼ŒçœŸçš„æ˜¯æ”¶è·äº†æ»¡æ»¡çš„æ„ŸåŠ¨å’Œâ€˜ç–²æƒ«â€™&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>vueçš„diff</title>
    <link href="http://yoursite.com/2019/01/17/vue%E7%9A%84diff/"/>
    <id>http://yoursite.com/2019/01/17/vueçš„diff/</id>
    <published>2019-01-17T09:41:09.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>æ˜¨å¤©éƒ¨é—¨åšäº†åˆ†äº«ï¼Œä¸»é¢˜æ˜¯reactï¼Œä¸çŸ¥é“ä¸ºæ¯›æ‰¯åˆ°äº†vueçš„diffçš„ï¼Œä¹‹å‰æœ‰çœ‹è¿‡diffæ–‡ç« å’Œéƒ¨åˆ†æºç ï¼Œæ—¶é—´å¤ªä¹…ï¼Œå‘ç°ä¹Ÿå¿˜è®°äº†ï¼Œäºæ˜¯é‡æ–°å»ç…äº†ä¸€ä¸‹æºç ï¼Œåšä¸ªæ€»ç»“ï¼Œä¸¾äº†3ä¸ªğŸŒ°ï¼Œç”»äº†12å¼ å›¾ï¼Œæ‰€ä»¥æœ¬æ–‡æ›´ä¾§é‡äºå›¾æ–‡ï¼Œè€Œä¸æ˜¯æºç å­æ›°ï¼šæ¸©æ•…è€ŒçŸ¥æ–°ï¼Œå¤äººè¯šä¸æˆ‘æ¬ºã€‚</p></blockquote><a id="more"></a><h2 id="å…³é”®æºç "><a href="#å…³é”®æºç " class="headerlink" title="å…³é”®æºç "></a>å…³é”®æºç </h2><h3 id="updateChildren"><a href="#updateChildren" class="headerlink" title="updateChildren"></a>updateChildren</h3><p>vueå…³äºdiffæ¨¡å—æºç åœ°å€ï¼š<a href="https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js" target="_blank" rel="noopener">https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js</a></p><p>å…¶ä¸­æœ€å…³é”®çš„å°±æ˜¯åœ¨404è¡Œçš„updateChildrençš„å‡½æ•°é‡Œï¼Œé¡ºä¾¿åŠ ç‚¹æ³¨é‡Šï¼ŒPSï¼šæœ€å¥½ä»¥åé¢çš„å›¾æ–‡ä¸ºä¸»ã€‚</p><p>è§„åˆ™å¾ˆç®€å•ï¼Œå¾ªç¯ä½“å†…ï¼š</p><ul><li>é¦–å…ˆåˆ¤æ–­newStartå’ŒoldEndæ˜¯ä¸æ˜¯undefindï¼Œå¦‚æœæ˜¯å°±newStartå¾€åç§»ï¼ŒoldEndå¾€å‰ç§»åŠ¨ã€‚ï¼ˆæºç ä¸­ç”¨çš„oldStartIdxï¼ŒoldEndIdxï¼ŒnewStartIdxï¼ŒoldStartVnodeæŒ‡å¾—æ˜¯ç´¢å¼•ï¼Œæˆ‘çš„æè¿°å€¾å‘äºæŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯è¯¥vNodeèŠ‚ç‚¹ï¼Œæ²¡å•¥åŒºåˆ«ï¼‰</li><li>oldStartå’ŒnewStartåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œç„¶ånewStart++ï¼ŒoldStart++ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li>oldEndå’ŒnewEndåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œç„¶ånewEndâ€“ï¼ŒoldEndâ€“ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li>oldStartå’ŒnewEndåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œæ¥ç€å°†oldStartæ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹ç§»åŠ¨åˆ°çš„oldEndæ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é¢ï¼ˆå°±æ˜¯ç§»åŠ¨åˆ°oldENdçš„ä½ç½®ï¼‰ï¼Œç„¶ånewEndâ€“ï¼ŒoldStart++ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li><p>oldEndå’ŒnewStartåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œæ¥ç€å°†oldEndæ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹ç§»åŠ¨åˆ°oldStartçš„å‰é¢,ç„¶åoldEndâ€“ï¼ŒnewStart++ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p></li><li><p>å¦‚æœä¸¤ç»„æŒ‡é’ˆéƒ½ä¸èƒ½åˆ¤æ–­ä¸€ä¸ªnewVdomæ˜¯å¢åŠ çš„è¿˜æ˜¯åˆ é™¤ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªmapï¼Œå­˜å‚¨oldVnodeçš„æ˜ å°„ã€‚</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) &#123;</span><br><span class="line">    <span class="built_in">let</span> oldStartIdx = 0</span><br><span class="line">    <span class="built_in">let</span> newStartIdx = 0</span><br><span class="line">    <span class="built_in">let</span> oldEndIdx = oldCh.length - 1</span><br><span class="line">    <span class="built_in">let</span> oldStartVnode = oldCh[0]</span><br><span class="line">    <span class="built_in">let</span> oldEndVnode = oldCh[oldEndIdx]</span><br><span class="line">    <span class="built_in">let</span> newEndIdx = newCh.length - 1</span><br><span class="line">    <span class="built_in">let</span> newStartVnode = newCh[0]</span><br><span class="line">    <span class="built_in">let</span> newEndVnode = newCh[newEndIdx]</span><br><span class="line">    <span class="built_in">let</span> oldKeyToIdx, idxInOld, vnodeToMove, refElm</span><br><span class="line"></span><br><span class="line">    // removeOnly is a special flag used only by &lt;transition-group&gt;</span><br><span class="line">    // to ensure removed elements stay <span class="keyword">in</span> correct relative positions</span><br><span class="line">    // during leaving transitions</span><br><span class="line">    const canMove = !removeOnly</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">      checkDuplicateKeys(newCh)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isUndef(oldStartVnode)) &#123;</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx] // Vnode has been moved left</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isUndef(oldEndVnode)) &#123;</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldStartVnode, newStartVnode)) &#123;</span><br><span class="line">        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx]</span><br><span class="line">        newStartVnode = newCh[++newStartIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newEndVnode)) &#123;</span><br><span class="line">        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">        newEndVnode = newCh[--newEndIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldStartVnode, newEndVnode)) &#123; // Vnode moved right</span><br><span class="line">        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)</span><br><span class="line">        canMove &amp;&amp; nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx]</span><br><span class="line">        newEndVnode = newCh[--newEndIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newStartVnode)) &#123; // Vnode moved left</span><br><span class="line">        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">        canMove &amp;&amp; nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm)</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">        newStartVnode = newCh[++newStartIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       /*</span><br><span class="line">          ç”Ÿæˆä¸€ä¸ªkeyä¸æ—§VNodeçš„keyå¯¹åº”çš„å“ˆå¸Œè¡¨ï¼Œå½¢å¦‚&#123;oldKey0: 0,oldKey1: 1,oldKey2: 2,oldKey3:</span><br><span class="line">          3&#125;ï¼Œmapçš„KEY(olKeyn)ä¸ºvnodeçš„keyå€¼ï¼Œmapçš„VALUE(n)ä¸ºè¯¥vnodeåœ¨oldVnodeåºåˆ—çš„ç´¢å¼•</span><br><span class="line">        */</span><br><span class="line">        <span class="keyword">if</span> (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">        idxInOld = isDef(newStartVnode.key)</span><br><span class="line">          ? oldKeyToIdx[newStartVnode.key]</span><br><span class="line">          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">        <span class="keyword">if</span> (isUndef(idxInOld)) &#123; // New element</span><br><span class="line">          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, <span class="literal">false</span>, newCh, newStartIdx)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          vnodeToMove = oldCh[idxInOld]</span><br><span class="line">          <span class="keyword">if</span> (sameVnode(vnodeToMove, newStartVnode)) &#123;</span><br><span class="line">            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">            oldCh[idxInOld] = undefined</span><br><span class="line">            canMove &amp;&amp; nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            // same key but different element. treat as new element</span><br><span class="line">            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, <span class="literal">false</span>, newCh, newStartIdx)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        newStartVnode = newCh[++newStartIdx]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (oldStartIdx &gt; oldEndIdx) &#123;</span><br><span class="line">      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm</span><br><span class="line">      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newStartIdx &gt; newEndIdx) &#123;</span><br><span class="line">      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="keyword">function</span> createKeyToOldIdx (children, beginIdx, endIdx) &#123;</span><br><span class="line">  <span class="built_in">let</span> i, key</span><br><span class="line">  const map = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> (i = beginIdx; i &lt;= endIdx; ++i) &#123;</span><br><span class="line">    key = children[i].key</span><br><span class="line">    <span class="keyword">if</span> (isDef(key)) map[key] = i</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> map</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="patchVnode"><a href="#patchVnode" class="headerlink" title="patchVnode"></a>patchVnode</h3><p>ä»£ç åœ¨è¿™ï¼š<a href="https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js" target="_blank" rel="noopener">https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js</a>   ç¬¬501è¡Œã€‚<br>å…¶å®è¿™ä¸ªå‡½æ•°å°±æ˜¯åœ¨ä¸¤ä¸ªèŠ‚ç‚¹å€¼å¾—diffçš„æƒ…å†µä¸‹ï¼Œå»æ›´æ–°å·®å¼‚ã€‚<br>è§„åˆ™å¦‚ä¸‹ï¼š</p><p>1.å¦‚æœæ–°æ—§VNodeéƒ½æ˜¯é™æ€çš„ï¼ŒåŒæ—¶å®ƒä»¬çš„keyç›¸åŒï¼ˆä»£è¡¨åŒä¸€èŠ‚ç‚¹ï¼‰ï¼Œå¹¶ä¸”æ–°çš„VNodeæ˜¯cloneæˆ–è€…æ˜¯æ ‡è®°äº†onceï¼ˆæ ‡è®°v-onceå±æ€§ï¼Œåªæ¸²æŸ“ä¸€æ¬¡ï¼‰ï¼Œé‚£ä¹ˆåªéœ€è¦æ›¿æ¢elmä»¥åŠcomponentInstanceå³å¯ã€‚</p><p>2.æ–°è€èŠ‚ç‚¹å‡æœ‰childrenå­èŠ‚ç‚¹ï¼Œåˆ™å¯¹å­èŠ‚ç‚¹è¿›è¡Œdiffæ“ä½œï¼Œè°ƒç”¨updateChildrenï¼Œè¿™ä¸ªupdateChildrenä¹Ÿæ˜¯diffçš„æ ¸å¿ƒã€‚</p><p>3.å¦‚æœè€èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹è€Œæ–°èŠ‚ç‚¹å­˜åœ¨å­èŠ‚ç‚¹ï¼Œå…ˆæ¸…ç©ºè€èŠ‚ç‚¹DOMçš„æ–‡æœ¬å†…å®¹ï¼Œç„¶åä¸ºå½“å‰DOMèŠ‚ç‚¹åŠ å…¥å­èŠ‚ç‚¹ã€‚</p><p>4.å½“æ–°èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹è€Œè€èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œåˆ™ç§»é™¤è¯¥DOMèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</p><p>5.å½“æ–°è€èŠ‚ç‚¹éƒ½æ— å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œåªæ˜¯æ–‡æœ¬çš„æ›¿æ¢ã€‚</p><h3 id="sameVnode"><a href="#sameVnode" class="headerlink" title="sameVnode"></a>sameVnode</h3><p>ä»£ç é‡å¾ˆå°‘å°±è´´ä¸€ä¸‹ä»£ç ï¼Œå…¶å®åŠŸèƒ½å°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªè™šæ‹ŸdomèŠ‚ç‚¹æ˜¯ä¸æ˜¯å€¼å¾—patchã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> sameVnode (a, b) &#123;</span><br><span class="line">  <span class="built_in">return</span> (</span><br><span class="line">    a.key === b.key &amp;&amp; (</span><br><span class="line">      (</span><br><span class="line">        a.tag === b.tag &amp;&amp;</span><br><span class="line">        a.isComment === b.isComment &amp;&amp;</span><br><span class="line">        isDef(a.data) === isDef(b.data) &amp;&amp;</span><br><span class="line">        sameInputType(a, b)</span><br><span class="line">      ) || (</span><br><span class="line">        isTrue(a.isAsyncPlaceholder) &amp;&amp;</span><br><span class="line">        a.asyncFactory === b.asyncFactory &amp;&amp;</span><br><span class="line">        isUndef(b.asyncFactory.error)</span><br><span class="line">      )</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¼€å§‹BB"><a href="#å¼€å§‹BB" class="headerlink" title="å¼€å§‹BB"></a>å¼€å§‹BB</h2><p>é¦–å…ˆdiffæ˜¯å¯¹æ–°çš„å’Œè€çš„vNodeèŠ‚ç‚¹è¿›è¡Œæ¯”å¯¹ï¼Œæ¯”å¯¹ä¾èµ–äºä¸¤ä¸ªä¸œè¥¿ï¼š</p><ul><li><p>ä¸¤ç»„æŒ‡é’ˆï¼ŒnewStartï¼ŒnewEndä»¥åŠoldStartï¼ŒoldEndï¼Œé€šè¿‡å¯¹æ¯”ç§»åŠ¨ï¼Œæœ€åæ¯”è¾ƒä¸¤ç»„å€¼çš„å¤§å°ï¼Œæ¥ç¡®å®šåˆ é™¤å¢åŠ ç§»åŠ¨ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„æƒ…å†µéƒ½èƒ½è¦†ç›–ã€‚</p></li><li><p>ä¸€ä¸ªmapï¼Œæ˜¯ä¸€ä¸ªç”¨æ¥å»ºç«‹oldVnodeçš„keyå’Œç´¢å¼•çš„æ˜ å°„å…³ç³»ï¼Œå½¢å¦‚</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    oldKey0: 0,</span><br><span class="line">    oldKey1: 1,</span><br><span class="line">    oldKey2: 2,</span><br><span class="line">    oldKey3: 3,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸¾ä¸ªğŸŒ°"><a href="#ä¸¾ä¸ªğŸŒ°" class="headerlink" title="ä¸¾ä¸ªğŸŒ°"></a>ä¸¾ä¸ªğŸŒ°</h3><p>åŸæ¥domèŠ‚ç‚¹æ˜¯è¿™æ ·çš„ï¼ŒABCDå¯¹åº”èŠ‚ç‚¹çš„keyåˆ†åˆ«ä¸ºAï¼ŒBï¼ŒCï¼ŒDï¼Œåæ¥åœ¨Bå’ŒCæ’å…¥äº†ä¸€ä¸ªå…ƒç´ Xï¼Œé‚£ä¹ˆåœ¨diffçš„æ—¶å€™ï¼ŒæŒ‡é’ˆçš„æŒ‡å‘å¦‚ä¸‹åˆ—å›¾æ‰€ç¤ºã€‚</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/1.jpg" alt="1"></p><h4 id="ç¬¬1æ­¥"><a href="#ç¬¬1æ­¥" class="headerlink" title="ç¬¬1æ­¥"></a>ç¬¬1æ­¥</h4><p>åœ¨æ»¡è¶³oldStart&lt;= oldEnd &amp;&amp; newStart &lt;= newEndæ—¶ï¼ŒoldStartå’ŒnewStartè¿›è¡Œå¯¹æ¯”ï¼ŒsameVnodeå‡½æ•°è¿”å›trueï¼Œä¹Ÿå°±æ˜¯è¯´å€¼å¾—æ¯”è¾ƒï¼Œäºæ˜¯å°±patchVnodeå°±æ˜¯è®²æ–°äº§ç”Ÿçš„å˜åŒ–æ›´æ–°åˆ°çœŸå®çš„domèŠ‚ç‚¹ä¸Šï¼Œä¹‹åæ”¹å˜æŒ‡é’ˆæŒ‡å‘è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/2.jpg" alt="2"></p><h4 id="ç¬¬2æ­¥"><a href="#ç¬¬2æ­¥" class="headerlink" title="ç¬¬2æ­¥"></a>ç¬¬2æ­¥</h4><p>æ¥ç€å‘ç°newBå’ŒoldBä¹Ÿæ˜¯å€¼å¾—æ¯”è¾ƒçš„å°±é‡å¤ä¸Šè¿°çš„æ­¥éª¤</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/3.jpg" alt="2"></p><h4 id="ç¬¬3æ­¥"><a href="#ç¬¬3æ­¥" class="headerlink" title="ç¬¬3æ­¥"></a>ç¬¬3æ­¥</h4><p>Cå’ŒXä¸ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯è¯´sameVnodeè¿”å›çš„æ˜¯falseï¼Œé‚£ä¹ˆå°±ä¼šæ¯”è¾ƒoldEndå’ŒnewEndï¼Œå‘ç°æ˜¯å€¼å¾—æ¯”è¾ƒçš„ï¼Œæ²¡è¯è¯´ï¼Œä¸Šå»å°±æ˜¯ä¸€é¡¿patchï¼Œç„¶åæŒ‡é’ˆéƒ½å¾€å‰ç§»ï¼ŒğŸ‘‡</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/4.jpg" alt="2"></p><h4 id="ç¬¬4æ­¥"><a href="#ç¬¬4æ­¥" class="headerlink" title="ç¬¬4æ­¥"></a>ç¬¬4æ­¥</h4><p>è¿™ä¸ªæ—¶å€™è¿˜æ˜¯æ»¡è¶³whileçš„å¾ªç¯æ¡ä»¶çš„å˜›ï¼Œæ•…ä¸€é¡¿patchä¹‹åï¼ŒæŒ‡é’ˆå‰ç§»ï¼ŒğŸ‘‡</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/5.jpg" alt="2"></p><h4 id="ç¬¬5æ­¥"><a href="#ç¬¬5æ­¥" class="headerlink" title="ç¬¬5æ­¥"></a>ç¬¬5æ­¥</h4><p>è¿™ä¸ªæ—¶å€™oldEnd&gt;oldStartä¸æ»¡è¶³oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdxï¼Œè¿™ä¸ªæ—¶å€™</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/fenxi.jpeg" alt=""></p><p>oldStart &gt; oldEndï¼Œé‚£ä¹ˆnewStartå’ŒnewEndæ‰€æŒ‡å‘çš„èŠ‚ç‚¹å°±æ˜¯æ–°å¢çš„ï¼Œåè¿‡æ¥</p><p>newStart &gt; newEndï¼Œé‚£ä¹ˆoldStartå’ŒoldEndæ‰€æŒ‡å‘çš„èŠ‚ç‚¹å°±æ˜¯è¢«åˆ æ‰çš„ã€‚åˆ¤æ–­å‡ºè¯¥èŠ‚ç‚¹çš„çŠ¶æ€ä¹‹åï¼Œå°±ç›´æ¥åœ¨çœŸå®çš„domä¸Šå»æ›´æ–°äº†ï¼Œå°±æ˜¯ç”¨çš„addVnodesæˆ–è€…removeVnodesï¼Œçœ‹ç€æ˜¯ç©¿è¿›å»äº†å¾ˆå¤šå‚æ•°ï¼Œå…¶å®æœ€åï¼Œå°±æ˜¯insert(parentEle, X, C)ï¼Œå…¶å®æœ€ç»ˆå˜æ¢å½¢æ€å°±æ˜¯parentEle.insertBefore(X, C)ï¼Œåœ¨Cå‰æ’å…¥Xï¼Œæˆ‘ä¹‹å‰ä¸€ç›´ä»¥ä¸ºä¼šç”¨é˜Ÿåˆ—è¿›è¡Œç¼“å­˜è¿™ä¸ªæ’å…¥çš„çŠ¶æ€ï¼Œç„¶ååœ¨Domå¼•æ“ä¸€æ¬¡æ›´æ–°ï¼ˆæƒ³åˆ°å•¥ï¼Œå†™ç‚¹å•¥ï¼‰ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæ‰€è°“ç›´æ¥æ“ä½œdomæ€§èƒ½å·®çš„åŸå› ï¼š</p><blockquote><ol><li>jsæ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ˜¯Domæ“ä½œå’Œjsæ‰§è¡Œæ˜¯åœ¨ä¸åŒçš„å¼•æ“ä¸Šçš„ï¼Œdomè¿›è¡Œæ“ä½œæ—¶ï¼ŒJSå¼•æ“å°±å¾—è¢«æŒ‚èµ·ï¼Œåä¹‹äº¦ç„¶ã€‚</li><li>JS ä»£ç è°ƒç”¨ DOM API å¿…é¡»ç»è¿‡ <em>æŒ‚èµ· JS å¼•æ“ã€è½¬æ¢ä¼ å…¥å‚æ•°æ•°æ®ã€æ¿€æ´» DOM å¼•æ“</em>ï¼ŒDOM é‡ç»˜åå†è½¬æ¢å¯èƒ½æœ‰çš„è¿”å›å€¼ï¼Œæœ€åæ¿€æ´» JS å¼•æ“å¹¶ç»§ç»­æ‰§è¡Œï¼Œå†æŒ‚èµ·Domå¼•æ“ã€‚</li><li>è‹¥æœ‰é¢‘ç¹çš„ DOM API è°ƒç”¨ï¼Œä¸”æµè§ˆå™¨å‚å•†ä¸åšâ€œæ‰¹é‡å¤„ç†â€ä¼˜åŒ–ï¼Œå¼•æ“é—´åˆ‡æ¢çš„å•ä½ä»£ä»·å°†è¿…é€Ÿç§¯ç´¯ã€‚</li><li>è‹¥å…¶ä¸­æœ‰å¼ºåˆ¶é‡ç»˜çš„ DOM API è°ƒç”¨ï¼Œä¸ä½†å‚å•†è´¹å°½å¿ƒæœºåšçš„â€œæ‰¹é‡å¤„ç†â€ä¼˜åŒ–è¢«ä¸­æ–­ï¼Œ<strong>é‡æ–°è®¡ç®—å¸ƒå±€</strong>ã€<strong>é‡æ–°ç»˜åˆ¶å›¾åƒ</strong>ä¼šå¼•èµ·æ›´å¤§çš„æ€§èƒ½æ¶ˆè€—ã€‚</li></ol></blockquote><p>æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—é¢‘ç¹çš„æ›´æ–°Domï¼Œé¢‘ç¹çš„åˆ‡æ¢å¼•æ“ï¼Œå¼•æ“çš„ä¸æ–­æŒ‚èµ·å’Œæ¿€æ´»ï¼Œæ— ç–‘æ˜¯åœ¨æ¶ˆè€—å·¨å¤§çš„æ€§èƒ½ï¼Œæ•…ç”¨ä¸ªé˜Ÿåˆ—å­˜ä¸€ä¸‹ï¼Œä¸€æ¬¡æ›´æ–°ï¼Œé¿å…å¼€é”€ï¼Œç„¶è€Œçœ‹æºç ä¹‹åï¼Œå‘ç°vueå¹¶æ²¡æœ‰åšï¼Œå…¶å®å¾ˆæ˜¾ç„¶ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚æ‹¿é˜Ÿåˆ—å»å­˜å‚¨æ›´æ–°çš„domçš„çŠ¶æ€ï¼Œç„¶åå¾ªç¯éå†è¯»å–çŠ¶æ€å¹¶æ›´æ–°ä¹Ÿæ˜¯è¦åˆ‡æ¢å¼•æ“çš„ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ï¼ˆç«Ÿç„¶æŠŠä¸€ä¸ªé”™è¯¯çš„ç†è§£äº†è¿™ä¹ˆä¹…ï¼‰ã€‚ç°åœ¨å…¶å®åªç”¨äº†å¤´å’Œå¤´å°¾è·Ÿå°¾çš„æ¯”è¾ƒï¼Œè¿˜æœ‰å¤´è·Ÿå°¾ï¼Œå°¾å’Œå¤´çš„å‘¢ï¼Ÿé‚£å°±å†ä¸¾ä¸ªğŸŒ°</p><h3 id="å†ä¸¾ä¸ªğŸŒ°"><a href="#å†ä¸¾ä¸ªğŸŒ°" class="headerlink" title="å†ä¸¾ä¸ªğŸŒ°"></a>å†ä¸¾ä¸ªğŸŒ°</h3><h4 id="ç¬¬1æ­¥-1"><a href="#ç¬¬1æ­¥-1" class="headerlink" title="ç¬¬1æ­¥"></a>ç¬¬1æ­¥</h4><p>åŸæ¥çš„èŠ‚ç‚¹æ˜¯è¿™æ ·çš„ï¼šA B C Dï¼Œåæ¥çš„æ˜¯è¿™æ ·çš„ï¼šD C B Aï¼Œokï¼Œç»§ç»­çœ‹å›¾ä½œæ–‡ã€‚</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/6.jpg" alt=""></p><h4 id="ç¬¬2æ­¥-1"><a href="#ç¬¬2æ­¥-1" class="headerlink" title="ç¬¬2æ­¥"></a>ç¬¬2æ­¥</h4><p>ç›®å‰çœŸå®çš„domå’ŒoldNodeListæ˜¯ä¸€æ ·ï¼Œä»¥å<strong><em>ç§»åŠ¨èŠ‚ç‚¹æ˜¯åœ¨çœŸå®çš„domä¸Šç§»åŠ¨çš„</em></strong>ã€‚oldStartå’ŒnewStartä»¥åŠnewEndå’ŒoldEndéƒ½ä¸æ˜¯å€¼å¾—æ¯”è¾ƒï¼Œå› æ­¤ä¼šè¿›è¡Œåˆ°oldStartå’ŒnewEndçš„æ¯”è¾ƒï¼Œpatchä¹‹åå¼€å§‹ç§»åŠ¨ï¼Œ<br>æ ¹æ®æ–‡ç« ä¸€å¼€å§‹ä»‹ç»çš„è§„åˆ™ï¼Œå°†oldStartç§»åŠ¨åˆ°<strong><em>oldEnd</em></strong>æ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å°†Aç§»åŠ¨åˆ°Dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆåŠæ–‡æœ¬èŠ‚ç‚¹ï¼‰çš„å‰é¢ï¼Œé‚£ä¹ˆçœŸå®çš„domå°±å˜æˆäº†B C D Aï¼Œç„¶åç§»åŠ¨æŒ‡é’ˆ</p><p>moveçš„ä»£ç å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">canMove &amp;&amp; nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))</span><br></pre></td></tr></table></figure><p>nodeOpsæ˜¯vueå¯¹weexå’Œwebçš„uiå˜åŒ–è¿›è¡Œå°è£…äº†ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚insertBeforeï¼ŒremoveChildï¼ŒappendChildç­‰ç­‰ï¼Œåœ¨<a href="https://github.com/vuejs/vue/tree/2.6/src/platforms" target="_blank" rel="noopener">è¿™ä¸ªä½ç½®</a> ä¼šçœ‹åˆ°ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œwebå’Œweexï¼Œå„æœ‰ä¸€ä¸ªruntime/node-ops.jsã€‚</p><p>å¦‚å›¾<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/7.jpg" alt=""></p><h4 id="ç¬¬3æ­¥-1"><a href="#ç¬¬3æ­¥-1" class="headerlink" title="ç¬¬3æ­¥"></a>ç¬¬3æ­¥</h4><p>okï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œè¿˜æ˜¯è¿›å…¥oldStartä¸newEndçš„æ¯”è¾ƒï¼Œå’Œä¸Šä¸€æ­¥çš„æ¯”è¾ƒè§„åˆ™ä¸€æ ·ï¼Œè¿™æ¬¡æ˜¯æŠŠçœŸå®domBç§»åŠ¨åˆ°Dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå³çœŸå®DomAï¼‰çš„å‰é¢å°±å˜æˆäº†C D B Aï¼Œç„¶åç§»åŠ¨æŒ‡é’ˆã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/12.jpg" alt=""></p><h4 id="ç¬¬4æ­¥-1"><a href="#ç¬¬4æ­¥-1" class="headerlink" title="ç¬¬4æ­¥"></a>ç¬¬4æ­¥</h4><p>æœ€åä¸€æ­¥ï¼Œå·§äº†ï¼Œè¿˜æ˜¯æ¯”è¾ƒoldStartå’ŒnewEndï¼Œä¸åŒçš„æ˜¯è¿™æ¬¡æ˜¯domCï¼ŒæŒ‰ç…§è§„åˆ™ï¼Œæ˜¯æŠŠCç§»åŠ¨åˆ°Dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå³çœŸå®DomBï¼‰çš„å‰é¢ï¼Œå°±å˜æˆäº†D C B Aï¼Œæ˜¯ä¸æ˜¯å°±å’ŒnewVnodeçš„é¡ºåºæ˜¯ä¸€æ ·çš„äº†ã€‚</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/8.jpg" alt=""></p><h3 id="å†å†ä¸¾ä¸ªä¾‹å­"><a href="#å†å†ä¸¾ä¸ªä¾‹å­" class="headerlink" title="å†å†ä¸¾ä¸ªä¾‹å­"></a>å†å†ä¸¾ä¸ªä¾‹å­</h3><h4 id="ç¬¬1æ­¥-2"><a href="#ç¬¬1æ­¥-2" class="headerlink" title="ç¬¬1æ­¥"></a>ç¬¬1æ­¥</h4><p>åŸæ¥çš„domèŠ‚ç‚¹æ˜¯A B C Dï¼Œæ–°çš„æ˜¯C D A Bï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„keyå¯¹åº”çš„æ˜¯è‡ªå·±çš„åç§°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™æ—¶ï¼Œä¸¤ç»„æŒ‡é’ˆç›¸äº’å¯¹æ¯”å‘ç°ï¼Œå¹¶ä¸èƒ½å¾—å‡ºæŸä¸ªdomèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œè¿™å°±æ˜¯ä¸¤ç»„æŒ‡é’ˆä¸èƒ½æ¶µç›–çš„æƒ…å†µã€‚</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/9.jpg" alt=""></p><h4 id="ç¬¬2æ­¥-2"><a href="#ç¬¬2æ­¥-2" class="headerlink" title="ç¬¬2æ­¥"></a>ç¬¬2æ­¥</h4><p>äºæ˜¯keyå°±èµ·åˆ°äº†ä½œç”¨ï¼Œåˆ›å»ºä¸€ä¸ªmap{A: 0,B: 1, C: 2, D: 3}ï¼Œè¿™æ˜¯ä¸€ä¸ªoldVnodeå’ŒkeyæŠ½å‡ºæ¥çš„æ˜ å°„ï¼Œç„¶åé€šè¿‡map[newStart.key]å°±èƒ½æ‰¾åˆ°newVnodeåœ¨åŸæ¥è€èŠ‚ç‚¹çš„ä½ç½®ï¼Œåœ¨è¿™ä¸ªğŸŒ°ä¸­ï¼Œå°±æ˜¯map[C]ï¼Œç„¶åå¯¹æ¯”oldVnodeCå’ŒnewVnodeCï¼Œç„¶åå°†å·®å¼‚æ›´æ–°åˆ°çœŸå®çš„domä¸Šï¼Œç„¶å<strong><em>å°†newStartå¯¹åº”çš„çœŸå®domç§»åŠ¨åˆ°oldStartçš„å‰é¢</em></strong>ï¼Œä¹Ÿå°±æ˜¯å°†çœŸå®domCæ”¾åœ¨Açš„å‰é¢ï¼Œå…¶å®ç”¨çš„ä¹Ÿæ˜¯parentEle.insertBefore(C, A)ç„¶ånewStartå¾€åæŒªåŠ¨ä¸€ä½ï¼Œå†æŠŠoldVnodeä¸­çš„Cç½®ä¸ºundefinedï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/10.jpg" alt=""></p><h4 id="ç¬¬3æ­¥-2"><a href="#ç¬¬3æ­¥-2" class="headerlink" title="ç¬¬3æ­¥"></a>ç¬¬3æ­¥</h4><p>è‡³æ­¤ï¼Œæœ¬æ¬¡å¾ªç¯å°±ç»“æŸäº†ï¼Œè¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ï¼Œç„¶åä¼šè¿›å…¥åˆ°oldEndå’ŒnewStartï¼Œå°±æ˜¯oldVnodeçš„Då’ŒnewVnodeçš„Dçš„å¯¹æ¯”ï¼Œæ›´æ–°å·®å¼‚ä¹‹åï¼Œ<strong><em>å°†oldEndå¯¹åº”çš„çœŸå®domç§»åŠ¨åˆ°oldStartçš„å‰é¢</em></strong>ï¼Œä¹Ÿå°±æ˜¯æŠŠDæ”¾åœ¨Açš„å‰é¢ï¼Œç„¶åå°†oldEndå‰ç§»ï¼ŒnewStartåç§»ï¼Œå˜æˆä¸‹é¢çš„æ ·å­ï¼ˆæ³¨ï¼šå½“æŒ‡é’ˆæŒ‡å‘undefinedæ—¶ï¼Œendä¼šå‰ç§»ï¼Œstartä¼šåç§»ï¼Œæ‰€ä»¥æˆ‘æŠŠç®­å¤´ç›´æ¥æŒ‡å‘äº†Bï¼‰ã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/11.jpg" alt=""></p><h4 id="ç¬¬4æ­¥-2"><a href="#ç¬¬4æ­¥-2" class="headerlink" title="ç¬¬4æ­¥"></a>ç¬¬4æ­¥</h4><p>æ¥ä¸‹æ¥çš„æƒ…å†µå°±å¥½è¯´äº†ï¼Œdomå’ŒæœŸæœ›çš„é¡ºåºå·²ç»æ˜¯ä¸€è‡´çš„äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¿ç”¨diffçš„startä¹‹é—´çš„æ¯”è¾ƒæ›´æ–°ä¸‹å·®å¼‚å°±è¡Œäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ˜¨å¤©éƒ¨é—¨åšäº†åˆ†äº«ï¼Œä¸»é¢˜æ˜¯reactï¼Œä¸çŸ¥é“ä¸ºæ¯›æ‰¯åˆ°äº†vueçš„diffçš„ï¼Œä¹‹å‰æœ‰çœ‹è¿‡diffæ–‡ç« å’Œéƒ¨åˆ†æºç ï¼Œæ—¶é—´å¤ªä¹…ï¼Œå‘ç°ä¹Ÿå¿˜è®°äº†ï¼Œäºæ˜¯é‡æ–°å»ç…äº†ä¸€ä¸‹æºç ï¼Œåšä¸ªæ€»ç»“ï¼Œä¸¾äº†3ä¸ªğŸŒ°ï¼Œç”»äº†12å¼ å›¾ï¼Œæ‰€ä»¥æœ¬æ–‡æ›´ä¾§é‡äºå›¾æ–‡ï¼Œè€Œä¸æ˜¯æºç å­æ›°ï¼šæ¸©æ•…è€ŒçŸ¥æ–°ï¼Œå¤äººè¯šä¸æˆ‘æ¬ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>reactçš„setState</title>
    <link href="http://yoursite.com/2019/01/04/react%E7%9A%84setState/"/>
    <id>http://yoursite.com/2019/01/04/reactçš„setState/</id>
    <published>2019-01-04T10:04:57.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>è®°å¾—å½“æ—¶åˆå­¦çš„æ—¶å€™ï¼Œçœ‹çš„æ˜¯ã€Šæ·±å…¥æµ…å‡ºreactä¸reduxã€‹ï¼Œå­¦åˆ°äº†reactä¸reduxçš„åŸºæœ¬ç”¨æ³•ï¼Œå¼‚æ­¥actionçš„ä¸åŸç†ï¼Œä»¥åŠreact-reduxçš„åŸç†ï¼Œæ”¶è·é¢‡ä¸°ï¼Œä½†æ˜¯å¯¹äºreactæœ¬èº«çš„åŸç†å€’æ˜¯æ²¡æœ‰å¾ˆå¤šçš„é˜è¿°ï¼Œæœ€è¿‘å¾ˆå¤šäººæ¨èã€Šæ·±å…¥reactæŠ€æœ¯æ ˆã€‹ï¼Œå…¶å®è¿™æœ¬ä¹¦æœ‰ç‚¹è€äº†ï¼Œä½†æ˜¯ä¸ç®—è¿‡æ—¶ï¼Œå°±å»ç…äº†ç…ã€‚</p></blockquote><a id="more"></a><h3 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h3><p>çœ‹ä¹¦æ—¶ï¼ŒæŠ±ç€ç–‘é—®å»çœ‹çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ç›´ä»¥æ¥éƒ½æ˜¯ä¸€çŸ¥åŠè§£ï¼ŒsetStateæ˜¯å¼‚æ­¥çš„è¿˜æ˜¯åŒæ­¥çš„ï¼Ÿ</p><h3 id="setStateå…³é”®ç‚¹"><a href="#setStateå…³é”®ç‚¹" class="headerlink" title="setStateå…³é”®ç‚¹"></a>setStateå…³é”®ç‚¹</h3><ul><li>setStateä¸ä¼šç«‹åˆ»æ”¹å˜Reactç»„ä»¶ä¸­stateçš„å€¼</li><li>å¤šæ¬¡setStateå‡½æ•°è°ƒç”¨äº§ç”Ÿçš„æ•ˆæœä¼šåˆå¹¶ã€‚</li><li>setStateé€šè¿‡å¼•å‘ä¸€æ¬¡ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹æ¥å¼•å‘é‡æ–°ç»˜åˆ¶ï¼Œé‡ç»˜æŒ‡çš„å°±æ˜¯å¼•èµ·Reactçš„æ›´æ–°ç”Ÿå‘½å‘¨æœŸå‡½æ•°4ä¸ªå‡½æ•°ï¼š<ul><li>shouldComponentUpdateï¼ˆè¢«è°ƒç”¨æ—¶this.stateæ²¡æœ‰æ›´æ–°ï¼›å¦‚æœè¿”å›äº†falseï¼Œç”Ÿå‘½å‘¨æœŸè¢«ä¸­æ–­ï¼Œè™½ç„¶ä¸è°ƒç”¨ä¹‹åçš„å‡½æ•°äº†ï¼Œä½†æ˜¯stateä»ç„¶ä¼šè¢«æ›´æ–°ï¼‰</li><li>componentWillUpdateï¼ˆè¢«è°ƒç”¨æ—¶this.stateæ²¡æœ‰æ›´æ–°ï¼‰</li><li>renderï¼ˆè¢«è°ƒç”¨æ—¶this.stateå¾—åˆ°æ›´æ–°ï¼‰</li><li>componentDidUpdate</li></ul></li></ul><p>é¦–å…ˆä¸¾ä¸ªğŸŒ°ï¼Œä¿®æ”¹äº†ã€Šæ·±å…¥reactæŠ€æœ¯æ ˆã€‹ä¸­çš„ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">class App extends Component &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    num:0</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span></span>()&#123;</span><br><span class="line">    this.setState(&#123; </span><br><span class="line">      num: this.state.num+1</span><br><span class="line">     &#125;);</span><br><span class="line">     console.log(this.state.num);</span><br><span class="line">     this.setState(&#123; </span><br><span class="line">      num: this.state.num+1</span><br><span class="line">     &#125;);</span><br><span class="line">     console.log(this.state.num);</span><br><span class="line"></span><br><span class="line">     setTimeout(() =&gt; &#123;</span><br><span class="line">      this.setState(&#123; </span><br><span class="line">        num:this.state.num+1</span><br><span class="line">       &#125;)</span><br><span class="line">       console.log(<span class="string">'timeout'</span>, this.state.num);</span><br><span class="line">        this.setState(&#123; </span><br><span class="line">          num:this.state.num+1</span><br><span class="line">         &#125;)</span><br><span class="line">         console.log(<span class="string">'timeout'</span>, this.state.num);</span><br><span class="line">        &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">componentDidUpdate</span></span>()&#123;</span><br><span class="line">    // console.log(<span class="string">'update'</span>,this.state.num);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">    console.log(<span class="string">'rendering'</span>, this.state.num)</span><br><span class="line">    <span class="built_in">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">        &lt;p&gt;&#123;this.state.num&#125;&lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºæ˜¯è¿™æ ·çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">rendering 0</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line">rendering 1</span><br><span class="line">rendering 2</span><br><span class="line">timeout 2</span><br><span class="line">rendering 3</span><br><span class="line">timeout 3</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥setStateå¥½åƒæ˜¯å¼‚æ­¥çš„ï¼Œstateçš„å€¼å¹¶æ²¡æœ‰ç«‹åˆ»å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯setTimeouté‡ŒsetStateå´ç«‹åˆ»æ›´æ–°äº†ï¼Œç…äº†ä¸€çœ¼æºç å‘ç°äº†è¿™æ ·ä¸€ä¸²ä»£ç ã€‚</p><figure class="highlight plain"><figcaption><span>enqueueUpdate(component) &#123;</span><a href="//">...Â  if (!batchingStrategy.isBatchingUpdates) &#123;Â  Â  batchingStrategy.batchedUpdates(enqueueUpdate, component);Â  Â  return;Â  &#125;Â  dirtyComponents.push(component);&#125;</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function enqueueUpdate(component) &#123;</span><br><span class="line">  ensureInjected();</span><br><span class="line"></span><br><span class="line">  // Various parts of our code (such as ReactCompositeComponent&apos;s</span><br><span class="line">  // _renderValidatedComponent) assume that calls to render aren&apos;t nested;</span><br><span class="line">  // verify that that&apos;s the case. (This is called by each top-level update</span><br><span class="line">  // function, like setProps, setState, forceUpdate, etc.; creation and</span><br><span class="line">  // destruction of top-level components is guarded in ReactMount.)</span><br><span class="line"></span><br><span class="line">  if (!batchingStrategy.isBatchingUpdates) &#123;</span><br><span class="line">    batchingStrategy.batchedUpdates(enqueueUpdate, component);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  dirtyComponents.push(component);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>reactåœ¨æ•°æ®æ›´æ–°æ—¶ï¼Œå¹¶ä¸ä¼šç«‹åˆ»è§¦å‘renderï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—å»ç¼“å­˜ï¼Œç„¶åé€šè¿‡isBatchingUpdatesè¿™ä¸ªå˜é‡åˆ¤æ–­å½“å‰æ˜¯å¦ç«‹åˆ»æ›´æ–°ã€‚isBatchingUpdatesé»˜è®¤æ˜¯falseï¼Œä¹Ÿå°±è¡¨ç¤ºsetStateä¼šåŒæ­¥æ›´æ–°this.stateï¼Œå½“Reactåœ¨è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ä¹‹å‰å°±ä¼šè°ƒç”¨batchedUpdatesï¼Œè¿™ä¸ªå‡½æ•°ä¼šæŠŠisBatchingUpdatesä¿®æ”¹ä¸ºtrueï¼Œåœ¨componentDidMountæ—¶ï¼Œè¿™ä¸ªå€¼å·²ç»è¢«ç½®ä¸ºtrueï¼Œæ‰€ä»¥ä¸¤æ¬¡setStateå¹¶æ²¡æœ‰ç«‹åˆ»æ”¹å˜stateçš„å€¼ï¼Œè€Œæ˜¯ç¼“å­˜äº†èµ·æ¥ï¼Œè€ŒsetTimeoutçš„å›è°ƒå‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼ŒisBatchingUpdatesè¿™ä¸ªå€¼åˆè¢«é‡ç½®ä¸ºfalseï¼Œæ‰€ä»¥settimeoutç¦»å¾—setStateæ˜¯ç«‹åˆ»æ›´æ–°stateå¹¶è§¦å‘renderçš„ï¼ŒaddEventListenerä¹Ÿæ˜¯å’ŒsetTimeoutä¸€æ ·çš„æ•ˆæœã€‚</p><p><strong>æ‰€ä»¥ï¼Œç©¶å…¶æ ¹æœ¬ï¼ŒsetStateæœ¬èº«å°±æ˜¯åŒæ­¥çš„ï¼Œå®ƒçš„å®ç°å†…éƒ¨æ²¡æœ‰ç”¨åˆ°eventLoopï¼Œå…¨éƒ½æ˜¯åŒæ­¥ä»£ç ï¼Œæ‰€ä»¥åœ¨setTimeouté‡Œæ˜¯ä¸Šè¿°æƒ…å½¢</strong>ï¼Œæˆ‘ä»¬å†™çš„æ¯ä¸€ä¸ªç»„ä»·éƒ½æ˜¯å‡½æ•°ï¼Œéƒ½æ˜¯è·‘åœ¨reacté‡Œçš„ï¼Œä»–å±è”½äº†å¾ˆå¤šç»†èŠ‚ï¼ŒåŒ…æ‹¬setStateæ”¹å˜stateçš„æœºåˆ¶ã€‚</p><h3 id="setStateå¦ä¸€ä¸ªç”¨æ³•"><a href="#setStateå¦ä¸€ä¸ªç”¨æ³•" class="headerlink" title="setStateå¦ä¸€ä¸ªç”¨æ³•"></a>setStateå¦ä¸€ä¸ªç”¨æ³•</h3><p>setState(nextState, callback)ï¼ŒæŒ‡æ˜callbackï¼ŒnextStateä¼šç«‹å³ä¸å½“å‰stateè¿›è¡Œåˆå¹¶ã€‚</p><h3 id="æ¸²æŸ“"><a href="#æ¸²æŸ“" class="headerlink" title="æ¸²æŸ“"></a>æ¸²æŸ“</h3><p>seStateä¼šå¼•å‘è§†å›¾é‡æ–°æ¸²æŸ“ï¼Œæ— è®ºstateæœ‰æ²¡æœ‰æ”¹å˜ï¼Œå°±ç®—ä¼ ä¸€ä¸ªç©ºå¯¹è±¡è¿›å»ï¼Œä¹Ÿä¼šå¼•å‘é‡ç»˜ï¼Œæ‰€ä»¥å¾€å¾€éœ€è¦shouldComponentUpdateæ¥è¿›è¡Œä¼˜åŒ–ï¼Œå®ƒçš„å‚æ•°æ˜¯nextPropså’ŒnextStateï¼Œå¯ä»¥é€šè¿‡å’Œå½“å‰çš„stateï¼Œpropsè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸€è‡´ï¼Œå°±return falseï¼Œé˜»æ­¢renderå‡½æ•°è°ƒç”¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è®°å¾—å½“æ—¶åˆå­¦çš„æ—¶å€™ï¼Œçœ‹çš„æ˜¯ã€Šæ·±å…¥æµ…å‡ºreactä¸reduxã€‹ï¼Œå­¦åˆ°äº†reactä¸reduxçš„åŸºæœ¬ç”¨æ³•ï¼Œå¼‚æ­¥actionçš„ä¸åŸç†ï¼Œä»¥åŠreact-reduxçš„åŸç†ï¼Œæ”¶è·é¢‡ä¸°ï¼Œä½†æ˜¯å¯¹äºreactæœ¬èº«çš„åŸç†å€’æ˜¯æ²¡æœ‰å¾ˆå¤šçš„é˜è¿°ï¼Œæœ€è¿‘å¾ˆå¤šäººæ¨èã€Šæ·±å…¥reactæŠ€æœ¯æ ˆã€‹ï¼Œå…¶å®è¿™æœ¬ä¹¦æœ‰ç‚¹è€äº†ï¼Œä½†æ˜¯ä¸ç®—è¿‡æ—¶ï¼Œå°±å»ç…äº†ç…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>selfPromise</title>
    <link href="http://yoursite.com/2018/12/31/selfPromise/"/>
    <id>http://yoursite.com/2018/12/31/selfPromise/</id>
    <published>2018-12-30T16:34:38.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>æŠŠä¹‹å‰æ‰‹å†™è¿‡çš„promiseåœ¨æ¢³ç†ä¸€é</p></blockquote><a id="more"></a><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">var PENDING = 0;</span><br><span class="line">var FULFILLED = 1;</span><br><span class="line">var REJECTED = 2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> myPromise(fn) &#123;</span><br><span class="line">    var state = PENDING;</span><br><span class="line">    var value = null;</span><br><span class="line">    var handlers = [];</span><br><span class="line">    var e =null;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> resolve(val) &#123;</span><br><span class="line">        <span class="keyword">if</span> (val instanceof myPromise) &#123;</span><br><span class="line">            try&#123;</span><br><span class="line">                val.then(resolve);</span><br><span class="line">            &#125;catch(e)&#123;</span><br><span class="line">                reject(e)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        state = FULFILLED;</span><br><span class="line">        value = val;</span><br><span class="line">        setTimeout(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">            handlers.map(<span class="keyword">function</span> (handler) &#123;</span><br><span class="line">                handle(handler)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;, 0)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> reject(err) &#123;</span><br><span class="line">        state = REJECTED;</span><br><span class="line">        e = err</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> handle(handler) &#123;</span><br><span class="line">        <span class="keyword">if</span> (state === PENDING) &#123;</span><br><span class="line">            handlers.push(handler);</span><br><span class="line">            <span class="built_in">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        try&#123;</span><br><span class="line">            <span class="keyword">if</span> (state === FULFILLED &amp;&amp; typeof handler.onFulfilled === <span class="string">'function'</span>) &#123;</span><br><span class="line">                <span class="built_in">let</span> ret = handler.onFulfilled(value);</span><br><span class="line">                handler.resolve(ret);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;catch(e)&#123;</span><br><span class="line">            reject(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">//onFulfilled, onRejectedæ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æœä¸æ˜¯å‡½æ•°å¯ä»¥å¿½ç•¥</span><br><span class="line">    this.then = <span class="keyword">function</span> (onFulfilled, onRejected) &#123;</span><br><span class="line">        <span class="built_in">return</span> new myPromise(<span class="keyword">function</span> (resolve, reject) &#123;</span><br><span class="line">            handle(&#123;</span><br><span class="line">                onFulfilled,</span><br><span class="line">                resolve,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fn(resolve, reject);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>PSï¼šçŠ¶æ€åˆ‡æ¢å°±ä¸è¯´äº†ï¼Œå¾ˆæ˜¾ç„¶ã€‚</p><p>thenå‡½æ•°å°†å›è°ƒæ³¨å†Œåˆ°promiseå†…éƒ¨çš„é˜Ÿåˆ—é‡Œï¼Œåœ¨resolveé‡Œéå†è°ƒç”¨ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œresolveæ‰§è¡Œæ—¶ï¼Œå¾—æ˜¯å¼‚æ­¥ï¼Œè¦åœ¨thenæ³¨å†Œå®Œä¹‹åè°ƒç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">new myPromise(<span class="keyword">function</span>(resolve)&#123;</span><br><span class="line">    GET(url, <span class="keyword">function</span>(data1)&#123;</span><br><span class="line">        resolve(data1)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="keyword">then</span>(<span class="keyword">function</span>(data1)&#123;</span><br><span class="line">const toChainPoromise = new myPromise(<span class="keyword">function</span>(resolve)&#123;</span><br><span class="line">    POST(url, <span class="keyword">function</span>(data2)&#123;</span><br><span class="line">             resolve(data1+data2)</span><br><span class="line">    &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">return</span> toChainPoromise;</span><br><span class="line">&#125;).<span class="keyword">then</span>(<span class="keyword">function</span>(data)&#123;</span><br><span class="line">    console.log(data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¸ºäº†é“¾å¼è°ƒç”¨ï¼Œthenå‡½æ•°çš„è¿”å›å€¼ä¸€å®šæ˜¯ä¸ªpromiseï¼Œä½†æ˜¯åœ¨ç¬¬äºŒä¸ªthené‡Œå›è°ƒå‡½æ•°æ¥å—çš„æ•°æ®dataåº”è¯¥ä¾èµ–äºtoChainPoromiseï¼Œè€Œä¸æ˜¯thenå‡½æ•°æœ¬èº«è¿”å›çš„promiseï¼Œæ‰€ä»¥thenå‡½æ•°æ—¢è¦æŠŠtoChainPoromiseå’Œåé¢çš„thenè¡”æ¥èµ·æ¥ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æŠŠä¹‹å‰æ‰‹å†™è¿‡çš„promiseåœ¨æ¢³ç†ä¸€é&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>gitæ‚è®°</title>
    <link href="http://yoursite.com/2018/12/07/git%E6%9D%82%E8%AE%B0/"/>
    <id>http://yoursite.com/2018/12/07/gitæ‚è®°/</id>
    <published>2018-12-07T08:33:09.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸ä¼šgitçš„ç¨‹åºå‘˜å•¥ä¹Ÿä¸æ˜¯ã€‚ps:ä½œä¸ºæ‚è®°ç¯‡ï¼ŒæŒç»­æ›´æ–°ï¼Œå¯¹å·¥ä½œä¸Šé‡åˆ°çš„é—®é¢˜åšä¸ªç§¯ç´¯ã€‚<br><a id="more"></a></p><h3 id="gitçš„ä¸‰ä¸ªåŒºåŸŸ"><a href="#gitçš„ä¸‰ä¸ªåŒºåŸŸ" class="headerlink" title="gitçš„ä¸‰ä¸ªåŒºåŸŸ"></a>gitçš„ä¸‰ä¸ªåŒºåŸŸ</h3><ul><li>å·¥ä½œåŒºï¼Œå°±æ˜¯åœ¨ç¼–è¾‘å™¨é‡Œçœ‹åˆ°çš„é‚£äº›ä»£ç </li><li>ç¼“å­˜åŒºï¼Œé€šè¿‡git addå°†æŒ‡å®šæ–‡ä»¶æ·»åŠ åˆ°æ­¤åŒºåŸŸ</li><li>ç‰ˆæœ¬åº“ï¼Œé€šè¿‡git commitå¯ä»¥å°†æ–‡ä»¶å­˜ç¼“å­˜åŒºæäº¤åˆ°æ­¤åŒºåŸŸï¼Œå…¶å®å°±æ˜¯æäº¤è®°å½•çš„é›†åˆï¼Œå¯ä»¥é€šè¿‡commitIdè¿›è¡Œå›æ»šï¼Œä¹Ÿå¯ä»¥å°†æ­¤æ¬¡æäº¤pushåˆ°è¿œç¨‹ä»“åº“ã€‚</li></ul><h3 id="commitID"><a href="#commitID" class="headerlink" title="commitID"></a>commitID</h3><p>å½¢å¦‚ 1953<em>*</em>6c4ed4çš„è¿™ä¸ªä¸œä¸œï¼Œå°±æ˜¯æ–‡ä»¶è¿›è¡Œæ”¹åŠ¨åï¼Œé€šè¿‡git commitå‘½ä»¤ç”Ÿæˆçš„ï¼Œå¯ä»¥å½“åšä¸€æ¬¡æäº¤çš„å”¯ä¸€æ ‡è¯†ï¼Œä¹‹åå¯ä»¥é€šè¿‡git reset/revert/checkoutå›æ»šã€‚æŸ¥çœ‹æäº¤è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨  git log æˆ–è€…git log  â€“oneline</p><h3 id="ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤"><a href="#ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤" class="headerlink" title="ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤"></a>ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤</h3><h4 id="git-status-gst"><a href="#git-status-gst" class="headerlink" title="git status (gst)"></a>git status (gst)</h4><p>å½“ä½ å¤„äºæˆ‘æ˜¯è°æˆ‘åœ¨å“ªæˆ‘è¦å¹²å˜›çš„çŠ¶æ€æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹ä½ ä¹‹å‰æ”¹åŠ¨äº†ä»€ä¹ˆï¼Œä½ çš„å·¥ä½œç›®å½•å¤„äºä¸€ä¸ªä»€ä¹ˆæ ·çš„å·¥ä½œçŠ¶æ€ã€‚</p><h4 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h4><p>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å·²ç»å­˜åœ¨çš„åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å¸¦*ã€‚</p><ul><li>-r æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</li><li>dev åŠ åˆ†æ”¯åï¼Œåˆ›å»ºåˆ†æ”¯dev</li><li>-d dev åˆ é™¤åˆ†æ”¯dev</li></ul><h4 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h4><ul><li><p>dev åˆ‡æ¢åˆ°devåˆ†æ”¯ä¸Šï¼Œç„¶åæ›´æ–°å·¥ä½œç›®å½•ã€‚</p></li><li><p>-b dev åˆ›å»ºdevåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢ï¼Œ <strong>åˆ›å»ºåˆ†æ”¯æ—¶ï¼Œä¼šå¤åˆ¶å½“å‰åˆ†æ”¯çš„ä»£ç ï¼Œå¤šæ–¹åä½œæ—¶ï¼Œæœ€å¥½å…ˆåˆ‡æ¢åˆ°masterï¼Œå¹¶ä¸”git pullä¹‹ååœ¨åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</strong>ã€‚</p></li><li><p>commitID file<br>æŸ¥çœ‹æ–‡ä»¶ä¹‹å‰çš„ç‰ˆæœ¬ã€‚å®ƒå°†å·¥ä½œç›®å½•ä¸­çš„ file æ–‡ä»¶å˜æˆ commitID ä¸­é‚£ä¸ªæ–‡ä»¶çš„æ‹·è´ï¼Œå¹¶å°†å®ƒåŠ å…¥ç¼“å­˜åŒºã€‚</p></li><li><p>commitID<br>æ›´æ–°å·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä½¿å¾—å’ŒæŸä¸ªç‰¹å®šæäº¤ä¸­çš„æ–‡ä»¶ä¸€è‡´ã€‚ä½ å¯ä»¥å°†æäº¤çš„å“ˆå¸Œå­—ä¸²ï¼Œæˆ–æ˜¯æ ‡ç­¾ä½œä¸º commitIDå‚æ•°ã€‚è¿™ä¼šä½¿æŒ‡é’ˆå¤„äºåˆ†ç¦»HEADçš„çŠ¶æ€ï¼Œç„¶åä½ git logå‘ç°ï¼Œwocï¼Œè¿™ä¹‹åçš„æäº¤è®°å½•éƒ½æ²¡äº†ï¼ŒGGäº†ã€‚å…¶å®è¿™ä¸ªæ—¶å€™git checkoutåŠ ä½ çš„åˆ†æ”¯åï¼Œå°±åˆå›æ¥äº†ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„åˆ†æ”¯HEADçš„æ„æ€ï¼Œä»–å°±åƒä¸€ä¸ªè™šæ‹Ÿçš„åˆ†æ”¯ï¼Œä½ ä¹Ÿå¯ä»¥å†æ¬¡çŠ¶æ€ä¸‹åœ¨å¤åˆ¶ä¸€ä»½åˆ›å»ºåˆ†æ”¯ã€‚</p></li><li><p>-b dev origin/dev<br>  å°†ä¸Šæ¸¸devåˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°ï¼Œè€Œä¸”ä»–çš„commitè®°å½•æ˜¯å®Œå…¨å¤åˆ¶è‡ªä¸Šæ¸¸devçš„ï¼Œå’Œä¹‹å‰æ‰€åœ¨çš„åˆ†æ”¯æ²¡æœ‰åŠæ¯›é’±å…³ç³»ã€‚</p></li></ul><h4 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h4><p>å¦‚æœä½ åœ¨ç°åœ¨çš„åˆ†æ”¯åšäº†ä¸€åŠçš„å·¥ä½œï¼Œæƒ³åˆ‡å›å…¶ä»–çš„åˆ†æ”¯ï¼Œç›´æ¥checkoutï¼Œå¾€å¾€ä¼šæŠ¥é”™ï¼Œadd+commitçš„è¯ï¼Œè‡ªå·±çš„æäº¤è®°å½•åˆæ˜¯ä¸€å›¢ç³Ÿï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å°†æ›´æ”¹æš‚æ—¶å­˜å‚¨åˆ°gitçš„ä¸€ä¸ªå †æ ˆï¼Œç„¶åå°±å¯ä»¥æ”¾å¿ƒåœ°åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯å·¥ä½œï¼Œæœ€ååˆ‡å›æ¥æ—¶ï¼Œä½¿ç”¨git  stash popå°±å¯ä»¥æ¢å¤ä½ çš„ä¿®æ”¹ç»§ç»­å·¥ä½œã€‚PS:git stashæ˜¯å°†ä¿®æ”¹æäº¤åˆ°æœ¬åœ°ï¼Œå¹¶ä¸ä¼šéšç€pushæ¨åˆ°è¿œç¨‹ã€‚</p><h3 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h3><p>å°†ä¸Šæ¸¸æ›´æ”¹æ‹‰ä¸‹æ¥ä¸æœ¬åœ°åˆå¹¶ï¼Œç›¸å½“äºgit fetchå’Œgit  mergeï¼Œå¦‚æœè¯¥åˆ†æ”¯å°šæœªä¸ä¸Šæ¸¸å…³è”åˆ™è¦åŠ origin devã€‚ï¼ˆdevä¸ºåˆ†æ”¯åï¼‰</p><h3 id="git-revert"><a href="#git-revert" class="headerlink" title="git  revert"></a>git  revert</h3><p>Revert æ’¤é”€ä¸€ä¸ªæäº¤çš„åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ã€‚è¿™æ˜¯ä¸€ä¸ªå®‰å…¨çš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¸ä¼šé‡å†™æäº¤å†å²ã€‚æ¯”å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šæ‰¾å‡ºå€’æ•°ç¬¬äºŒä¸ªæäº¤ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤æ¥æ’¤é”€è¿™äº›æ›´æ”¹ï¼Œç„¶åæŠŠè¿™ä¸ªæäº¤åŠ å…¥é¡¹ç›®ä¸­ã€‚</p><h3 id="git-reset"><a href="#git-reset" class="headerlink" title="git  reset"></a>git  reset</h3><p>è¿™ä¸ªå‘½ä»¤å¯ä»¥æ¶ˆé™¤æäº¤è®°å½•ï¼Œæ¯”å¦‚git reset HEAD~2ï¼Œä½ çš„æœ€åçš„ä¸¤æ¬¡æäº¤è®°å½•å°±æ²¡äº†ï¼Œä½†æ˜¯ä½ çš„å·¥ä½œåŒºï¼Œå¹¶æ²¡æœ‰æ”¹å˜ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤è®©ä½ çš„æäº¤è®°å½•æ•´æ´èµ·æ¥ã€‚<br><br>å¦‚æœä½ åŠ ä¸Šâ€“hardï¼Œé‚£ä¹ˆä½ çš„å·¥ä½œåŒºå°±ä¼šå’Œä½ å›åˆ°resetçš„é‚£ä¸ªçŠ¶æ€ï¼Œä½†æ˜¯æ–°å¢çš„æ–‡ä»¶ä¾æ—§å­˜åœ¨ã€‚</p><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨åŸŸ</th><th>å¸¸ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>git reset</td><td>æäº¤å±‚é¢</td><td>åœ¨ç§æœ‰åˆ†æ”¯ä¸Šèˆå¼ƒä¸€äº›æ²¡æœ‰æäº¤çš„æ›´æ”¹</td></tr><tr><td>git reset</td><td></td><td>æ–‡ä»¶å±‚é¢</td><td>å°†æ–‡ä»¶ä»ç¼“å­˜åŒºä¸­ç§»é™¤</td></tr><tr><td>git checkout</td><td>æäº¤å±‚é¢</td><td>åˆ‡æ¢åˆ†æ”¯æˆ–æŸ¥çœ‹æ—§ç‰ˆæœ¬</td></tr><tr><td>git checkout</td><td>æ–‡ä»¶å±‚é¢</td><td>èˆå¼ƒå·¥ä½œç›®å½•ä¸­çš„æ›´æ”¹</td></tr><tr><td>git revert</td><td>æäº¤å±‚é¢</td><td>åœ¨å…¬å…±åˆ†æ”¯ä¸Šå›æ»šæ›´æ”¹</td></tr></tbody></table><ul><li><p><a href="https://github.com/xuyonglin222/git-recipes/blob/master/sources/1-%E6%9E%9C%E5%A3%B3%E4%B8%AD%E7%9A%84Git.md" target="_blank" rel="noopener">gitå¥½æ–‡</a></p></li><li><p><a href="https://learngitbranching.js.org" target="_blank" rel="noopener">ä¸€ä¸ªæœ‰æ„æ€çš„å­¦ä¹ gitçš„ç½‘ç«™</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ä¼šgitçš„ç¨‹åºå‘˜å•¥ä¹Ÿä¸æ˜¯ã€‚ps:ä½œä¸ºæ‚è®°ç¯‡ï¼ŒæŒç»­æ›´æ–°ï¼Œå¯¹å·¥ä½œä¸Šé‡åˆ°çš„é—®é¢˜åšä¸ªç§¯ç´¯ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="æ‚è®°" scheme="http://yoursite.com/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>koaMiddleWare</title>
    <link href="http://yoursite.com/2018/08/07/koaMiddle/"/>
    <id>http://yoursite.com/2018/08/07/koaMiddle/</id>
    <published>2018-08-07T13:09:48.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ"><a href="#jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ" class="headerlink" title="jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ"></a>jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ</h3><p>åœ¨javascripté‡Œï¼Œå¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>å›è°ƒ</li><li>promise</li><li>generator</li><li>async<br>ä¼˜é›…ç¨‹åº¦è‡ªä¸Šè€Œä¸‹ã€‚<a id="more"></a></li></ul><h3 id="express-koa1-koa2"><a href="#express-koa1-koa2" class="headerlink" title="express koa1 koa2"></a>express koa1 koa2</h3><p>éšç€ç¤¾ä¼šçš„ä¸æ–­å‘å±•å’Œè¿›æ­¥ï¼Œemmmmmï¼Œexpresså›¢é˜Ÿä»ä¸€å¼€å§‹é™†ç»­æå‡ºäº†expressã€koa1å’Œkoa2ï¼Œä¸ºæ¯›ä»–ä»¬é—²ç€æ²¡äº‹å¹²ï¼Œæè¿™ä¹ˆå¤šèµ·ç›¸åŒåŠŸèƒ½çš„è½®å­å‘¢ï¼Ÿä¸çŸ¥é“è€å­å­¦ä¸åŠ¨äº†å—?ï¼ˆå¼€ç©ç¬‘<br></p><p>koaç›¸æ¯”expressï¼Œè½»é‡äº†ä¸å°‘ï¼Œçœ‹å®˜æ–¹æ–‡æ¡£å°±èƒ½çŸ¥é“ï¼Œå…¶å®ä¹‹æ‰€ä»¥é‡å¤é€ è½®å­ï¼Œåº”è¯¥æ˜¯å› ä¸ºå¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆã€‚<br><br></p><p>åœ¨expressä¸­ï¼Œå¤„ç†å¼‚æ­¥çš„æ–¹å¼ï¼Œå°±æ˜¯å›è°ƒï¼Œå¦‚æœå›è°ƒå¤ªæ·±çš„è¯ï¼Œæ¶å¿ƒç¨‹åº¦å¯æƒ³è€ŒçŸ¥ï¼Œkoa1ä¸»è¦æ˜¯ç”¨generatorå‡½æ•°åšä¸­é—´ä»¶å‡½æ•°ï¼Œkoa2æ˜¯ç”¨asyncå‡½æ•°ã€‚<br>ä¸ªäººè®¤ä¸ºasyncæœ€ä¸ºä¼˜é›…ã€‚ä½¿ç”¨æ–¹å¼ä¸åŒï¼Œæ˜¯å› ä¸ºå†…éƒ¨å¯¹ä¸­é—´ä»¶å‡½æ•°çš„å¤„ç†ä¸åŒï¼Œlooklookã€‚<br></p><h3 id="application-js"><a href="#application-js" class="headerlink" title="application.js"></a>application.js</h3><p>koaçš„æºç ä¹Ÿå°±4ä¸ªæ–‡ä»¶ï¼Œåœ¨ä¸‹ä¸»è¦çœ‹äº†application.js,ä»£ç ä»¥åŠéƒ¨åˆ†æ³¨é‡Šå¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'use strict'</span>;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Module dependencies.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">const isGeneratorFunction = require(<span class="string">'is-generator-function'</span>);</span><br><span class="line">const debug = require(<span class="string">'debug'</span>)(<span class="string">'koa:application'</span>);</span><br><span class="line">const onFinished = require(<span class="string">'on-finished'</span>);</span><br><span class="line">const response = require(<span class="string">'./response'</span>);</span><br><span class="line">const compose = require(<span class="string">'koa-compose'</span>);</span><br><span class="line">const isJSON = require(<span class="string">'koa-is-json'</span>);</span><br><span class="line">const context = require(<span class="string">'./context'</span>);</span><br><span class="line">const request = require(<span class="string">'./request'</span>);</span><br><span class="line">const statuses = require(<span class="string">'statuses'</span>);</span><br><span class="line">const Emitter = require(<span class="string">'events'</span>);</span><br><span class="line">const util = require(<span class="string">'util'</span>);</span><br><span class="line">const Stream = require(<span class="string">'stream'</span>);</span><br><span class="line">const http = require(<span class="string">'http'</span>);</span><br><span class="line">const only = require(<span class="string">'only'</span>);</span><br><span class="line">const convert = require(<span class="string">'koa-convert'</span>);</span><br><span class="line">const deprecate = require(<span class="string">'depd'</span>)(<span class="string">'koa'</span>);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Expose `Application` class.</span><br><span class="line"> * Inherits from `Emitter.prototype`.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"> //ç»§æ‰¿Emitter  å› æ­¤ koaçš„å®ä¾‹ thiså¯ä»¥è°ƒç”¨on</span><br><span class="line">module.exports = class Application extends Emitter &#123;</span><br><span class="line">  /**</span><br><span class="line">   * Initialize a new `Application`.</span><br><span class="line">   *</span><br><span class="line">   * @api public</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span></span>() &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.proxy = <span class="literal">false</span>; //ä»£ç†è®¾ç½®</span><br><span class="line">    this.middleware = [];</span><br><span class="line">    this.subdomainOffset = 2; //åŸŸååç§»</span><br><span class="line">    this.env = process.env.NODE_ENV || <span class="string">'development'</span>;</span><br><span class="line">    this.context = Object.create(context);</span><br><span class="line">    this.request = Object.create(request);</span><br><span class="line">    this.response = Object.create(response);</span><br><span class="line">    <span class="keyword">if</span> (util.inspect.custom) &#123;</span><br><span class="line">      this[util.inspect.custom] = this.inspect;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Shorthand <span class="keyword">for</span>:</span><br><span class="line">   *</span><br><span class="line">   *    http.createServer(app.callback()).listen(...)</span><br><span class="line">   *</span><br><span class="line">   * @param &#123;Mixed&#125; ...</span><br><span class="line">   * @<span class="built_in">return</span> &#123;Server&#125;</span><br><span class="line">   * @api public</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">  listen(...args) &#123;</span><br><span class="line">    debug(<span class="string">'listen'</span>);</span><br><span class="line">    const server = http.createServer(this.callback());</span><br><span class="line">    <span class="built_in">return</span> server.listen(...args);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Return JSON representation.</span><br><span class="line">   * We only bother showing settings.</span><br><span class="line">   *</span><br><span class="line">   * @<span class="built_in">return</span> &#123;Object&#125;</span><br><span class="line">   * @api public</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">toJSON</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> only(this, [</span><br><span class="line">      <span class="string">'subdomainOffset'</span>,</span><br><span class="line">      <span class="string">'proxy'</span>,</span><br><span class="line">      <span class="string">'env'</span></span><br><span class="line">    ]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Inspect implementation.</span><br><span class="line">   *</span><br><span class="line">   * @<span class="built_in">return</span> &#123;Object&#125;</span><br><span class="line">   * @api public</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">inspect</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> this.toJSON();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Use the given middleware `fn`.</span><br><span class="line">   *</span><br><span class="line">   * Old-style middleware will be converted.</span><br><span class="line">   *</span><br><span class="line">   * @param &#123;Function&#125; fn</span><br><span class="line">   * @<span class="built_in">return</span> &#123;Application&#125; self</span><br><span class="line">   * @api public</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">  //å¯¹ generator å‡½æ•°åˆ©ç”¨ koa-convert åº“è¿›è¡Œè½¬åŒ–(å°† generator å‡½æ•°åŒ…è£…æˆ Promise),</span><br><span class="line">  //å¦‚æœä¸æ˜¯åˆ™ä¸è½¬åŒ–, ç„¶åå°†è¿™ä¸ªä¸­é—´ä»¶å‡½æ•° push è¿›å®ä¾‹å¯¹è±¡çš„ middleware æ•°ç»„ä¸­.</span><br><span class="line">  use(fn) &#123;</span><br><span class="line">    <span class="keyword">if</span> (typeof fn !== <span class="string">'function'</span>) throw new TypeError(<span class="string">'middleware must be a function!'</span>);</span><br><span class="line">    <span class="keyword">if</span> (isGeneratorFunction(fn)) &#123;</span><br><span class="line">      deprecate(<span class="string">'Support for generators will be removed in v3. '</span> +</span><br><span class="line">                <span class="string">'See the documentation for examples of how to convert old middleware '</span> +</span><br><span class="line">                <span class="string">'https://github.com/koajs/koa/blob/master/docs/migration.md'</span>);</span><br><span class="line">      fn = convert(fn);</span><br><span class="line">    &#125;</span><br><span class="line">    debug(<span class="string">'use %s'</span>, fn._name || fn.name || <span class="string">'-'</span>);</span><br><span class="line">    this.middleware.push(fn);</span><br><span class="line">    <span class="built_in">return</span> this;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Return a request handler callback</span><br><span class="line">   * <span class="keyword">for</span> node<span class="string">'s native http server.</span></span><br><span class="line"><span class="string">   *</span></span><br><span class="line"><span class="string">   * @return &#123;Function&#125;</span></span><br><span class="line"><span class="string">   * @api public</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  callback() &#123;</span></span><br><span class="line"><span class="string">    //åˆå¹¶ä¸­é—´ä»¶</span></span><br><span class="line"><span class="string">    const fn = compose(this.middleware);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    if (!this.listenerCount('</span>error<span class="string">')) this.on('</span>error<span class="string">', this.onerror);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    const handleRequest = (req, res) =&gt; &#123;</span></span><br><span class="line"><span class="string">      const ctx = this.createContext(req, res);</span></span><br><span class="line"><span class="string">      return this.handleRequest(ctx, fn);</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    return handleRequest;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * Handle request in callback.</span></span><br><span class="line"><span class="string">   *</span></span><br><span class="line"><span class="string">   * @api private</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  handleRequest(ctx, fnMiddleware) &#123;</span></span><br><span class="line"><span class="string">    const res = ctx.res;</span></span><br><span class="line"><span class="string">    res.statusCode = 404;</span></span><br><span class="line"><span class="string">    const onerror = err =&gt; ctx.onerror(err);</span></span><br><span class="line"><span class="string">    const handleResponse = () =&gt; respond(ctx);</span></span><br><span class="line"><span class="string">    onFinished(res, onerror);</span></span><br><span class="line"><span class="string">    return fnMiddleware(ctx).then(handleResponse).catch(onerror);</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * Initialize a new context.</span></span><br><span class="line"><span class="string">   *</span></span><br><span class="line"><span class="string">   * @api private</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   //åˆ›å»ºcotext request reponse ä¸httpæ¨¡å—çš„å…³ç³»</span></span><br><span class="line"><span class="string">  createContext(req, res) &#123;</span></span><br><span class="line"><span class="string">    const context = Object.create(this.context);</span></span><br><span class="line"><span class="string">    const request = context.request = Object.create(this.request);</span></span><br><span class="line"><span class="string">    const response = context.response = Object.create(this.response);</span></span><br><span class="line"><span class="string">    context.app = request.app = response.app = this;</span></span><br><span class="line"><span class="string">    context.req = request.req = response.req = req;</span></span><br><span class="line"><span class="string">    context.res = request.res = response.res = res;</span></span><br><span class="line"><span class="string">    request.ctx = response.ctx = context;</span></span><br><span class="line"><span class="string">    request.response = response;</span></span><br><span class="line"><span class="string">    response.request = request;</span></span><br><span class="line"><span class="string">    context.originalUrl = request.originalUrl = req.url;</span></span><br><span class="line"><span class="string">    context.state = &#123;&#125;;</span></span><br><span class="line"><span class="string">    return context;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * Default error handler.</span></span><br><span class="line"><span class="string">   *</span></span><br><span class="line"><span class="string">   * @param &#123;Error&#125; err</span></span><br><span class="line"><span class="string">   * @api private</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  onerror(err) &#123;</span></span><br><span class="line"><span class="string">    if (!(err instanceof Error)) throw new TypeError(util.format('</span>non-error thrown: %j<span class="string">', err));</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    if (404 == err.status || err.expose) return;</span></span><br><span class="line"><span class="string">    if (this.silent) return;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    const msg = err.stack || err.toString();</span></span><br><span class="line"><span class="string">    console.error();</span></span><br><span class="line"><span class="string">    console.error(msg.replace(/^/gm, '</span>  <span class="string">'));</span></span><br><span class="line"><span class="string">    console.error();</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/**</span></span><br><span class="line"><span class="string"> * Response helper.</span></span><br><span class="line"><span class="string"> */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">function respond(ctx) &#123;</span></span><br><span class="line"><span class="string">  // allow bypassing koa</span></span><br><span class="line"><span class="string">  if (false === ctx.respond) return;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  const res = ctx.res;</span></span><br><span class="line"><span class="string">  if (!ctx.writable) return;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  let body = ctx.body;</span></span><br><span class="line"><span class="string">  const code = ctx.status;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // ignore body</span></span><br><span class="line"><span class="string">  if (statuses.empty[code]) &#123;</span></span><br><span class="line"><span class="string">    // strip headers</span></span><br><span class="line"><span class="string">    ctx.body = null;</span></span><br><span class="line"><span class="string">    return res.end();</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  if ('</span>HEAD<span class="string">' == ctx.method) &#123;</span></span><br><span class="line"><span class="string">    if (!res.headersSent &amp;&amp; isJSON(body)) &#123;</span></span><br><span class="line"><span class="string">      ctx.length = Buffer.byteLength(JSON.stringify(body));</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    return res.end();</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // status body</span></span><br><span class="line"><span class="string">  if (null == body) &#123;</span></span><br><span class="line"><span class="string">    body = ctx.message || String(code);</span></span><br><span class="line"><span class="string">    if (!res.headersSent) &#123;</span></span><br><span class="line"><span class="string">      ctx.type = '</span>text<span class="string">';</span></span><br><span class="line"><span class="string">      ctx.length = Buffer.byteLength(body);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    return res.end(body);</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // responses</span></span><br><span class="line"><span class="string">  if (Buffer.isBuffer(body)) return res.end(body);</span></span><br><span class="line"><span class="string">  if ('</span>string<span class="string">' == typeof body) return res.end(body);</span></span><br><span class="line"><span class="string">  if (body instanceof Stream) return body.pipe(res);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // body: json</span></span><br><span class="line"><span class="string">  body = JSON.stringify(body);</span></span><br><span class="line"><span class="string">  if (!res.headersSent) &#123;</span></span><br><span class="line"><span class="string">    ctx.length = Buffer.byteLength(body);</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  res.end(body);</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></p><p>å…¶å®ä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œkoaä¸­æœ‰ä¸€ä¸ªmiddlewareå»å‚¨å­˜ä¸­é—´ä»¶å‡½æ•°ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚<br><br><br>å½“useçš„æ—¶å€™ï¼Œkoa1ä¸­ä¼šæŠŠgeneratorå‡½æ•°è½¬åŒ–æˆpromiseå½¢å¼ï¼Œkoa2ä¼šæŠŠasyncè½¬åŒ–æˆpromiseå½¢å¼ï¼Œç”¨çš„éƒ½æ˜¯koa-convertæ¨¡å—ï¼Œç„¶åå°†å‡½æ•°pushåˆ°middlewareä¸­ã€‚<br><br>æœ€ååœ¨createServerçš„callbackä¸­ï¼Œå°†ä¸­é—´ä»¶å‡½æ•°æ•°ç»„è¿›è¡Œäº†åˆå¹¶ï¼Œç”¨äº†ä¸€ä¸ªå«koa-composeçš„ä¸­é—´ä»¶ã€‚</p><h3 id="compose-js"><a href="#compose-js" class="headerlink" title="compose.js"></a>compose.js</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">use strict<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/**</span></span><br><span class="line"><span class="string"> * Expose compositor.</span></span><br><span class="line"><span class="string"> */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">module.exports = compose</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/**</span></span><br><span class="line"><span class="string"> * Compose `middleware` returning</span></span><br><span class="line"><span class="string"> * a fully valid middleware comprised</span></span><br><span class="line"><span class="string"> * of all those which are passed.</span></span><br><span class="line"><span class="string"> *</span></span><br><span class="line"><span class="string"> * @param &#123;Array&#125; middleware</span></span><br><span class="line"><span class="string"> * @return &#123;Function&#125;</span></span><br><span class="line"><span class="string"> * @api public</span></span><br><span class="line"><span class="string"> */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">function compose (middleware) &#123;</span></span><br><span class="line"><span class="string">  if (!Array.isArray(middleware)) throw new TypeError('</span>Middleware stack must be an array!<span class="string">')</span></span><br><span class="line"><span class="string">  for (const fn of middleware) &#123;</span></span><br><span class="line"><span class="string">    if (typeof fn !== '</span><span class="keyword">function</span><span class="string">') throw new TypeError('</span>Middleware must be composed of <span class="built_in">functions</span>!<span class="string">')</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * @param &#123;Object&#125; context</span></span><br><span class="line"><span class="string">   * @return &#123;Promise&#125;</span></span><br><span class="line"><span class="string">   * @api public</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  return function (context, next) &#123;</span></span><br><span class="line"><span class="string">    // last called middleware #</span></span><br><span class="line"><span class="string">    let index = -1; //å½“å‰ä¸­é—´ä»¶çš„ç´¢å¼•</span></span><br><span class="line"><span class="string">    return dispatch(0)</span></span><br><span class="line"><span class="string">    function dispatch (i) &#123;</span></span><br><span class="line"><span class="string">      if (i &lt;= index) return Promise.reject(new Error('</span>next() called multiple <span class="built_in">times</span><span class="string">'))</span></span><br><span class="line"><span class="string">      index = i</span></span><br><span class="line"><span class="string">      let fn = middleware[i]</span></span><br><span class="line"><span class="string">      if (i === middleware.length) fn = next</span></span><br><span class="line"><span class="string">      if (!fn) return Promise.resolve()</span></span><br><span class="line"><span class="string">      try &#123;</span></span><br><span class="line"><span class="string">        return Promise.resolve(fn(context, dispatch.bind(null, i + 1)));</span></span><br><span class="line"><span class="string">      &#125; catch (err) &#123;</span></span><br><span class="line"><span class="string">        return Promise.reject(err)</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>composeä¸­ä¸»è¦æ˜¯dispatchï¼Œé€’å½’è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œå…¶å®å°±æ˜¯åœ¨ç¬¬ä¸€ä¸ªå‡½æ•°é‡Œæ‰§è¡Œç¬¬äºŒä¸ªå‡½æ•°ï¼Œåœ¨ç¬¬äºŒä¸ªå‡½æ•°é‡Œæ‰§è¡Œç¬¬ä¸‰ä¸ªã€‚ã€‚ã€‚ã€‚ã€‚ å°±åƒä¸€ä¸ªæ´‹è‘±ã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/onion.png"><br>å…¶å®å°±æ˜¯ä¸€ä¸ªè°ƒç”¨æ ˆï¼Œç„¶ååŒ…è£…æˆäº†promiseï¼Œå½“next()æ—¶ï¼Œgeneratorå‡½æ•°ï¼Œå¯¹åº”çš„å°±yieldï¼Œå°±è·³åˆ°äº†ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ&quot; class=&quot;headerlink&quot; title=&quot;jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;/a&gt;jsçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;&lt;p&gt;åœ¨javascripté‡Œï¼Œå¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å›è°ƒ&lt;/li&gt;
&lt;li&gt;promise&lt;/li&gt;
&lt;li&gt;generator&lt;/li&gt;
&lt;li&gt;async&lt;br&gt;ä¼˜é›…ç¨‹åº¦è‡ªä¸Šè€Œä¸‹ã€‚
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="koa" scheme="http://yoursite.com/tags/koa/"/>
    
  </entry>
  
  <entry>
    <title>sort</title>
    <link href="http://yoursite.com/2018/07/25/sort/"/>
    <id>http://yoursite.com/2018/07/25/sort/</id>
    <published>2018-07-25T03:33:49.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å…ˆæ¥å¼ å›¾ç‰‡<br><img src="http://pdqpny9og.bkt.clouddn.com/paixu.png"><br><a id="more"></a></p><h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><h4 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h4><ul><li><1>.æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼›</1></li><li><2>.å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼›</2></li><li><3>.é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªï¼›</3></li><li><4>.é‡å¤æ­¥éª¤1~3ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚</4></li></ul><h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><p>è®¾ç½®ä¸€æ ‡å¿—æ€§å˜é‡pos,ç”¨äºè®°å½•æ¯è¶Ÿæ’åºä¸­æœ€åä¸€æ¬¡è¿›è¡Œäº¤æ¢çš„ä½ç½®ã€‚ç”±äºposä½ç½®ä¹‹åçš„è®°å½•å‡å·²äº¤æ¢åˆ°ä½,æ•…åœ¨è¿›è¡Œä¸‹ä¸€è¶Ÿæ’åºæ—¶åªè¦æ‰«æåˆ°posä½ç½®å³å¯ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> bubbleSort(arr) &#123;</span><br><span class="line">    var i = arr.length-1;  //åˆå§‹æ—¶,æœ€åä½ç½®ä¿æŒä¸å˜</span><br><span class="line">    <span class="keyword">while</span> ( i&gt; 0) &#123;</span><br><span class="line">        var pos= 0; //æ¯è¶Ÿå¼€å§‹æ—¶,æ— è®°å½•äº¤æ¢</span><br><span class="line">        <span class="keyword">for</span> (var j= 0; j&lt; i; j++)</span><br><span class="line">            <span class="keyword">if</span> (arr[j]&gt; arr[j+1]) &#123;</span><br><span class="line">                pos= j; //è®°å½•äº¤æ¢çš„ä½ç½®</span><br><span class="line">                var tmp = arr[j]; arr[j]=arr[j+1];arr[j+1]=tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        i= pos; //ä¸ºä¸‹ä¸€è¶Ÿæ’åºä½œå‡†å¤‡</span><br><span class="line">     &#125;</span><br><span class="line">     console.timeEnd(<span class="string">'æ”¹è¿›åå†’æ³¡æ’åºè€—æ—¶'</span>);</span><br><span class="line">     <span class="built_in">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><h4 id="ç®—æ³•æè¿°-1"><a href="#ç®—æ³•æè¿°-1" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h4><ul><li><1>.åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n]ï¼Œæœ‰åºåŒºä¸ºç©ºï¼›</1></li><li><2>.ç¬¬iè¶Ÿæ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶ï¼Œå½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶Ÿæ’åºä»å½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k]ï¼Œå°†å®ƒä¸æ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢ï¼Œä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢åŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒºï¼›</2></li><li><3>.n-1è¶Ÿç»“æŸï¼Œæ•°ç»„æœ‰åºåŒ–äº†ã€‚</3></li></ul><h4 id="ä»£ç å®ç°-1"><a href="#ä»£ç å®ç°-1" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> selectionSort(arr) &#123;</span><br><span class="line">    var len = arr.length;</span><br><span class="line">    var minIndex, temp;</span><br><span class="line">    <span class="keyword">for</span> (var i = 0; i &lt; len - 1; i++) &#123;</span><br><span class="line">        minIndex = i;</span><br><span class="line">        <span class="keyword">for</span> (var j = i + 1; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;     //å¯»æ‰¾æœ€å°çš„æ•°</span><br><span class="line">                minIndex = j;                 //å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = arr[i];</span><br><span class="line">        arr[i] = arr[minIndex];</span><br><span class="line">        arr[minIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><h4 id="ç®—æ³•æè¿°-2"><a href="#ç®—æ³•æè¿°-2" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h4><ul><li><1>.ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼›</1></li><li><2>.å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼›</2></li><li><3>.å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼›</3></li><li><4>.é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼›</4></li><li><5>.å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åï¼›</5></li><li><6>.é‡å¤æ­¥éª¤2~5ã€‚</6></li></ul><h4 id="ä»£ç æè¿°"><a href="#ä»£ç æè¿°" class="headerlink" title="ä»£ç æè¿°"></a>ä»£ç æè¿°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> insertionSort(array) &#123;</span><br><span class="line">    <span class="keyword">for</span> (var i = 1; i &lt; array.length; i++) &#123;</span><br><span class="line">            var key = array[i];</span><br><span class="line">            var j = i - 1;</span><br><span class="line">            <span class="keyword">while</span> (j &gt;= 0 &amp;&amp; array[j] &gt; key) &#123;</span><br><span class="line">                array[j + 1] = array[j];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            array[j + 1] = key;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç®—æ³•åˆ†æ"><a href="#ç®—æ³•åˆ†æ" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h4><ul><li>æœ€ä½³æƒ…å†µï¼šè¾“å…¥æ•°ç»„æŒ‰å‡åºæ’åˆ—ã€‚T(n) = O(n)</li><li>æœ€åæƒ…å†µï¼šè¾“å…¥æ•°ç»„æŒ‰é™åºæ’åˆ—ã€‚T(n) = O(n2)</li><li>å¹³å‡æƒ…å†µï¼šT(n) = O(n2)</li></ul><h3 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h3><h4 id="ç®—æ³•æè¿°-3"><a href="#ç®—æ³•æè¿°-3" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h4><ul><li><1>. é€‰æ‹©ä¸€ä¸ªå¢é‡åºåˆ—t1ï¼Œt2ï¼Œâ€¦ï¼Œtkï¼Œå…¶ä¸­ti&gt;tjï¼Œtk=1ï¼›</1></li><li><2>.æŒ‰å¢é‡åºåˆ—ä¸ªæ•°kï¼Œå¯¹åºåˆ—è¿›è¡Œk è¶Ÿæ’åºï¼›</2></li><li><3>.æ¯è¶Ÿæ’åºï¼Œæ ¹æ®å¯¹åº”çš„å¢é‡tiï¼Œå°†å¾…æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²é•¿åº¦ä¸ºm çš„å­åºåˆ—ï¼Œåˆ†åˆ«å¯¹å„å­è¡¨è¿›è¡Œç›´æ¥æ’å…¥æ’åºã€‚ä»…å¢é‡å› å­ä¸º1 æ—¶ï¼Œæ•´ä¸ªåºåˆ—ä½œä¸ºä¸€ä¸ªè¡¨æ¥å¤„ç†ï¼Œè¡¨é•¿åº¦å³ä¸ºæ•´ä¸ªåºåˆ—çš„é•¿åº¦ã€‚</3></li></ul><h4 id="ä»£ç å®ç°-2"><a href="#ä»£ç å®ç°-2" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> shellSort(arr) &#123;</span><br><span class="line">    var len = arr.length,</span><br><span class="line">        temp,</span><br><span class="line">        gap = 1;</span><br><span class="line">    console.time(<span class="string">'å¸Œå°”æ’åºè€—æ—¶:'</span>);</span><br><span class="line">    <span class="keyword">while</span>(gap &lt; len/5) &#123;          //åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—</span><br><span class="line">        gap =gap*5+1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (gap; gap &gt; 0; gap = Math.floor(gap/5)) &#123;</span><br><span class="line">        <span class="keyword">for</span> (var i = gap; i &lt; len; i++) &#123;</span><br><span class="line">            temp = arr[i];</span><br><span class="line">            <span class="keyword">for</span> (var j = i-gap; j &gt;= 0 &amp;&amp; arr[j] &gt; temp; j-=gap) &#123;</span><br><span class="line">                arr[j+gap] = arr[j];</span><br><span class="line">            &#125;</span><br><span class="line">            arr[j+gap] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    console.timeEnd(<span class="string">'å¸Œå°”æ’åºè€—æ—¶:'</span>);</span><br><span class="line">    <span class="built_in">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç®—æ³•åˆ†æ-1"><a href="#ç®—æ³•åˆ†æ-1" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h4><ul><li>æœ€ä½³æƒ…å†µï¼šT(n) = O(nlog2 n)</li><li>æœ€åæƒ…å†µï¼šT(n) = O(nlog2 n)</li><li>å¹³å‡æƒ…å†µï¼šT(n) =O(nlog n)</li></ul><h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><h4 id="ç®—æ³•æè¿°-4"><a href="#ç®—æ³•æè¿°-4" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h4><ul><li><1>æŠŠé•¿åº¦ä¸ºnçš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸ºn/2çš„å­åºåˆ—ï¼›</1></li><li><2>å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æ’åºï¼›</2></li><li><3>å°†ä¸¤ä¸ªæ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æ’åºåºåˆ—ã€‚</3></li></ul><h4 id="ä»£ç å®ç°-3"><a href="#ä»£ç å®ç°-3" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> mergeSort(arr) &#123;  //é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•</span><br><span class="line">    var len = arr.length;</span><br><span class="line">    <span class="keyword">if</span>(len &lt; 2) &#123;</span><br><span class="line">        <span class="built_in">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    var middle = Math.floor(len / 2),</span><br><span class="line">        left = arr.slice(0, middle),</span><br><span class="line">        right = arr.slice(middle);</span><br><span class="line">    <span class="built_in">return</span> merge(mergeSort(left), mergeSort(right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> merge(left, right)</span><br><span class="line">&#123;</span><br><span class="line">    var result = [];</span><br><span class="line">    console.time(<span class="string">'å½’å¹¶æ’åºè€—æ—¶'</span>);</span><br><span class="line">    <span class="keyword">while</span> (left.length &amp;&amp; right.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (left[0] &lt;= right[0]) &#123;</span><br><span class="line">            result.push(left.shift());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result.push(right.shift());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (left.length)</span><br><span class="line">        result.push(left.shift());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (right.length)</span><br><span class="line">        result.push(right.shift());</span><br><span class="line">    console.timeEnd(<span class="string">'å½’å¹¶æ’åºè€—æ—¶'</span>);</span><br><span class="line">    <span class="built_in">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç®—æ³•åˆ†æ-2"><a href="#ç®—æ³•åˆ†æ-2" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h4><ul><li>æœ€ä½³æƒ…å†µï¼šT(n) = O(n)</li><li>æœ€åæƒ…å†µï¼šT(n) = O(nlog n)</li><li>å¹³å‡æƒ…å†µï¼šT(n) =O(nlog n)</li></ul><h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><h4 id="ç®—æ³•æè¿°-5"><a href="#ç®—æ³•æè¿°-5" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h4><ul><li><1>ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸º â€œåŸºå‡†â€ï¼ˆpivotï¼‰ï¼›</1></li><li><2>é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼›</2></li><li><3>é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºã€‚</3></li></ul><h4 id="ä»£ç å®ç°-4"><a href="#ä»£ç å®ç°-4" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">var arr = [12,3,23,5,17,9,15,46];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> quickSort(arr,left, right)&#123;</span><br><span class="line">  var i,j,t,temp;</span><br><span class="line">  <span class="keyword">if</span>(left&gt;right)&#123;</span><br><span class="line">    <span class="built_in">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  i = left;</span><br><span class="line">  j = right;</span><br><span class="line">  temp = arr[left];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(i!==j)&#123;</span><br><span class="line">    <span class="keyword">while</span>(temp&lt;=arr[j]&amp;&amp;i&lt;j)&#123;</span><br><span class="line">      j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(temp&gt;=arr[i]&amp;&amp;i&lt;j)&#123;</span><br><span class="line">      i++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i&lt;j)&#123;</span><br><span class="line">      [arr[j], arr[i]] = [arr[i], arr[j]];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  arr[left] = arr[i];</span><br><span class="line">  arr[i] = temp;</span><br><span class="line">  quickSort(arr,left,i-1);</span><br><span class="line">  quickSort(arr,i+1,right);</span><br><span class="line">&#125;</span><br><span class="line">quickSort(arr,0, arr.length-1);</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure><h4 id="ç®—æ³•åˆ†æ-3"><a href="#ç®—æ³•åˆ†æ-3" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h4><ul><li>æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn)</li><li>æœ€åæƒ…å†µï¼šT(n) = O(n2)</li><li>å¹³å‡æƒ…å†µï¼šT(n) =O(nlog n)</li></ul><h3 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h3><h4 id="ç®—æ³•æè¿°-6"><a href="#ç®—æ³•æè¿°-6" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h4><ul><li><1>å°†åˆå§‹å¾…æ’åºå…³é”®å­—åºåˆ—(R1,R2â€¦.Rn)æ„å»ºæˆå¤§é¡¶å †ï¼Œæ­¤å †ä¸ºåˆå§‹çš„æ— åºåŒºï¼›</1></li><li><2>å°†å †é¡¶å…ƒç´ R[1]ä¸æœ€åä¸€ä¸ªå…ƒç´ R[n]äº¤æ¢ï¼Œæ­¤æ—¶å¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)å’Œæ–°çš„æœ‰åºåŒº(Rn),ä¸”æ»¡è¶³R[1,2â€¦n-1]&lt;=R[n]ï¼›</2></li><li><3>ç”±äºäº¤æ¢åæ–°çš„å †é¡¶R[1]å¯èƒ½è¿åå †çš„æ€§è´¨ï¼Œå› æ­¤éœ€è¦å¯¹å½“å‰æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)è°ƒæ•´ä¸ºæ–°å †ï¼Œç„¶åå†æ¬¡å°†R[1]ä¸æ— åºåŒºæœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œå¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2â€¦.Rn-2)å’Œæ–°çš„æœ‰åºåŒº(Rn-1,Rn)ã€‚ä¸æ–­é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æœ‰åºåŒºçš„å…ƒç´ ä¸ªæ•°ä¸ºn-1ï¼Œåˆ™æ•´ä¸ªæ’åºè¿‡ç¨‹å®Œæˆã€‚<h4 id="ä»£ç å®ç°-5"><a href="#ä»£ç å®ç°-5" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> heapify(arr, x, len) &#123;</span><br><span class="line">    <span class="keyword">if</span> (Object.prototype.toString.call(arr).slice(8, -1) === <span class="string">'Array'</span> &amp;&amp; typeof x === <span class="string">'number'</span>) &#123;</span><br><span class="line">        var l = 2 * x + 1, r = 2 * x + 2, largest = x, temp;</span><br><span class="line">        <span class="keyword">if</span> (l &lt; len &amp;&amp; arr[l] &gt; arr[largest]) &#123;</span><br><span class="line">            largest = l;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (r &lt; len &amp;&amp; arr[r] &gt; arr[largest]) &#123;</span><br><span class="line">            largest = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (largest != x) &#123;</span><br><span class="line">            temp = arr[x];</span><br><span class="line">            arr[x] = arr[largest];</span><br><span class="line">            arr[largest] = temp;</span><br><span class="line">            heapify(arr, largest, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="string">'arr is not an Array or x is not a number!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">/*æ–¹æ³•è¯´æ˜ï¼šç»´æŠ¤å †çš„æ€§è´¨</span><br><span class="line">@param  arr æ•°ç»„</span><br><span class="line">@param  x   æ•°ç»„ä¸‹æ ‡</span><br><span class="line">@param  len å †å¤§å°*/</span><br><span class="line"><span class="keyword">function</span> heapify(arr, x, len) &#123;</span><br><span class="line">    <span class="keyword">if</span> (Object.prototype.toString.call(arr).slice(8, -1) === <span class="string">'Array'</span> &amp;&amp; typeof x === <span class="string">'number'</span>) &#123;</span><br><span class="line">        var l = 2 * x + 1, r = 2 * x + 2, largest = x, temp;</span><br><span class="line">        <span class="keyword">if</span> (l &lt; len &amp;&amp; arr[l] &gt; arr[largest]) &#123;</span><br><span class="line">            largest = l;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (r &lt; len &amp;&amp; arr[r] &gt; arr[largest]) &#123;</span><br><span class="line">            largest = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (largest != x) &#123;</span><br><span class="line">            temp = arr[x];</span><br><span class="line">            arr[x] = arr[largest];</span><br><span class="line">            arr[largest] = temp;</span><br><span class="line">            heapify(arr, largest, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="string">'arr is not an Array or x is not a number!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></3></li></ul><h4 id="ç®—æ³•åˆ†æ-4"><a href="#ç®—æ³•åˆ†æ-4" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h4><ul><li>æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn)</li><li>æœ€åæƒ…å†µï¼šT(n) = O(nlogn)</li><li>å¹³å‡æƒ…å†µï¼šT(n) =O(nlogn)</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…ˆæ¥å¼ å›¾ç‰‡&lt;br&gt;&lt;img src=&quot;http://pdqpny9og.bkt.clouddn.com/paixu.png&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Ngnix</title>
    <link href="http://yoursite.com/2018/07/19/Ngnix/"/>
    <id>http://yoursite.com/2018/07/19/Ngnix/</id>
    <published>2018-07-19T04:25:14.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Nginxæ˜¯å•¥"><a href="#Nginxæ˜¯å•¥" class="headerlink" title="Nginxæ˜¯å•¥"></a>Nginxæ˜¯å•¥</h3><p>Nginxæ˜¯ä¸€ä¸ªä½¿ç”¨cè¯­è¨€å¼€å‘çš„é«˜æ€§èƒ½httpæœåŠ¡å™¨ä»¥åŠåå‘ä»£ç†æœåŠ¡å™¨ã€‚Nginxæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„http æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨ã€‚å®˜æ–¹æµ‹è¯•nginxèƒ½å¤Ÿæ”¯æ”¯æ’‘5ä¸‡å¹¶å‘é“¾æ¥ï¼Œå¹¶ä¸”cpuã€å†…å­˜ç­‰èµ„æºæ¶ˆè€—å´éå¸¸ä½ï¼Œè¿è¡Œéå¸¸ç¨³å®šã€‚<br><a id="more"></a></p><h3 id="Nginxå¯ä»¥å¹²ä»€ä¹ˆ"><a href="#Nginxå¯ä»¥å¹²ä»€ä¹ˆ" class="headerlink" title="Nginxå¯ä»¥å¹²ä»€ä¹ˆ"></a>Nginxå¯ä»¥å¹²ä»€ä¹ˆ</h3><p>ç½‘ç«™èµ„æºæœåŠ¡å™¨ï¼Œåå‘ä»£ç†è´Ÿè½½å‡è¡¡ã€‚</p><h3 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h3><p>åœ¨å¦‚ä»Šçš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å¦‚æœç”±äºæŠ€æœ¯éœ€è¦è¦å»è®¿é—®å›½å¤–çš„æŸäº›ç½‘ç«™ï¼Œæ­¤æ—¶ä½ ä¼šå‘ç°ä½äºå›½å¤–çš„æŸç½‘ç«™æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨æ˜¯æ²¡æœ‰åŠæ³•è®¿é—®çš„ï¼Œæ­¤æ—¶å¤§å®¶å¯èƒ½éƒ½ä¼šç”¨ä¸€ä¸ªæ“ä½œFQè¿›è¡Œè®¿é—®ï¼ŒFQçš„æ–¹å¼ä¸»è¦æ˜¯æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥è®¿é—®å›½å¤–ç½‘ç«™çš„ä»£ç†æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å°†è¯·æ±‚å‘é€ç»™ä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å»è®¿é—®å›½å¤–çš„ç½‘ç«™ï¼Œç„¶åå°†è®¿é—®åˆ°çš„æ•°æ®ä¼ é€’ç»™æˆ‘ä»¬ï¼</p><p>ä¸Šè¿°è¿™æ ·çš„ä»£ç†æ¨¡å¼ç§°ä¸ºæ­£å‘ä»£ç†ï¼Œæ­£å‘ä»£ç†æœ€å¤§çš„ç‰¹ç‚¹æ˜¯å®¢æˆ·ç«¯éå¸¸æ˜ç¡®è¦è®¿é—®çš„æœåŠ¡å™¨åœ°å€ï¼›æœåŠ¡å™¨åªæ¸…æ¥šè¯·æ±‚æ¥è‡ªå“ªä¸ªä»£ç†æœåŠ¡å™¨ï¼Œè€Œä¸æ¸…æ¥šæ¥è‡ªå“ªä¸ªå…·ä½“çš„å®¢æˆ·ç«¯ï¼›æ­£å‘ä»£ç†æ¨¡å¼å±è”½æˆ–è€…éšè—äº†çœŸå®å®¢æˆ·ç«¯ä¿¡æ¯ã€‚</p><h3 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h3><p>å¤šä¸ªå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€çš„è¯·æ±‚ï¼ŒNginxæœåŠ¡å™¨æ¥æ”¶åˆ°ä¹‹åï¼ŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†å‘ç»™äº†åç«¯çš„ä¸šåŠ¡å¤„ç†æœåŠ¡å™¨è¿›è¡Œå¤„ç†äº†ã€‚æ­¤æ—¶~è¯·æ±‚çš„æ¥æºä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯æ˜¯æ˜ç¡®çš„ï¼Œä½†æ˜¯è¯·æ±‚å…·ä½“ç”±å“ªå°æœåŠ¡å™¨å¤„ç†çš„å¹¶ä¸æ˜ç¡®äº†ï¼ŒNginxæ‰®æ¼”çš„å°±æ˜¯ä¸€ä¸ªåå‘ä»£ç†è§’è‰²ï¼Œä¸»è¦ç”¨äºæœåŠ¡å™¨é›†ç¾¤åˆ†å¸ƒå¼éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼Œåå‘ä»£ç†éšè—äº†æœåŠ¡å™¨çš„ä¿¡æ¯ï¼</p><h3 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h3><p>é¦–å…ˆæ˜ç¡®ä¸¤ä¸ªæ¦‚å¿µï¼š</p><ul><li>è´Ÿè½½é‡ï¼šå®¢æˆ·ç«¯å‘é€çš„ã€Nginxåå‘ä»£ç†æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚æ•°é‡ã€‚</li><li>å‡è¡¡è§„åˆ™ï¼šè¯·æ±‚æ•°é‡æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†é…åˆ°ä¸åŒæœåŠ¡å™¨å¤„ç†çš„è§„åˆ™ã€‚<br>æ•…å°†æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚æŒ‰ç…§è§„åˆ™åˆ†å‘çš„è¿‡ç¨‹ï¼Œç§°ä¸ºè´Ÿè½½å‡è¡¡ã€‚<h4 id="HTTPé‡å®šå‘å®ç°"><a href="#HTTPé‡å®šå‘å®ç°" class="headerlink" title="HTTPé‡å®šå‘å®ç°"></a>HTTPé‡å®šå‘å®ç°</h4>å½“ç”¨æˆ·å‘èµ·httpè¯·æ±‚æ—¶ï¼Œè¯·æ±‚å…ˆè¢«é›†ç¾¤è°ƒåº¦è€…æ•è·ï¼Œè°ƒåº¦è€…æ ¹æ®ä¸åŒçš„è°ƒåº¦ç®—æ³•åˆ†é…æœåŠ¡å™¨IPï¼Œå¹¶å°†å…¶æ”¾å…¥responseçš„locationå­—æ®µï¼Œstatusè¿”å›302ï¼Œç„¶åæµè§ˆå™¨æ‹¿åˆ°å“åº”æ¶ˆæ¯åï¼Œè§£æLocationå­—æ®µï¼Œå¹¶å‘urlå‘èµ·è¯·æ±‚ï¼Œç„¶åæŒ‡å®šçš„æœåŠ¡å™¨å¤„ç†è¯¥ç”¨æˆ·çš„è¯·æ±‚ï¼Œæœ€åå°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚<br></li></ul><p>åœ¨ä½¿ç”¨HTTPé‡å®šå‘æ¥å®ç°æœåŠ¡å™¨é›†ç¾¤è´Ÿè½½å‡è¡¡çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸€å°æœåŠ¡å™¨ä½œä¸ºè¯·æ±‚è°ƒåº¦è€…ã€‚ç”¨æˆ·çš„ä¸€é¡¹æ“ä½œéœ€è¦å‘èµ·ä¸¤æ¬¡HTTPè¯·æ±‚ï¼Œä¸€æ¬¡å‘è°ƒåº¦æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè·å–åç«¯æœåŠ¡å™¨çš„IPï¼Œç¬¬äºŒæ¬¡å‘åç«¯æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè·å–å¤„ç†ç»“æœã€‚<br></p><p>è°ƒåº¦æœåŠ¡å™¨æ”¶åˆ°ç”¨æˆ·çš„è¯·æ±‚åï¼Œç©¶ç«Ÿé€‰æ‹©å“ªå°åç«¯æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿™ç”±è°ƒåº¦æœåŠ¡å™¨æ‰€ä½¿ç”¨çš„è°ƒåº¦ç­–ç•¥å†³å®šã€‚<br></p><ul><li><p>éšæœºåˆ†é…ç­–ç•¥ :å½“è°ƒåº¦æœåŠ¡å™¨æ”¶åˆ°ç”¨æˆ·è¯·æ±‚åï¼Œå¯ä»¥éšæœºå†³å®šä½¿ç”¨å“ªå°åç«¯æœåŠ¡å™¨ï¼Œç„¶åå°†è¯¥æœåŠ¡å™¨çš„IPå°è£…åœ¨HTTPå“åº”æ¶ˆæ¯çš„Locationå±æ€§ä¸­ï¼Œè¿”å›ç»™æµè§ˆå™¨å³å¯ã€‚</p></li><li><p>è½®è¯¢ç­–ç•¥(RR):è°ƒåº¦æœåŠ¡å™¨éœ€è¦ç»´æŠ¤ä¸€ä¸ªå€¼ï¼Œç”¨äºè®°å½•ä¸Šæ¬¡åˆ†é…çš„åç«¯æœåŠ¡å™¨çš„IPã€‚é‚£ä¹ˆå½“æ–°çš„è¯·æ±‚åˆ°æ¥æ—¶ï¼Œè°ƒåº¦è€…å°†è¯·æ±‚ä¾æ¬¡åˆ†é…ç»™ä¸‹ä¸€å°æœåŠ¡å™¨ã€‚</p></li></ul><p>ç”±äºè½®è¯¢ç­–ç•¥éœ€è¦è°ƒåº¦è€…ç»´æŠ¤ä¸€ä¸ªå€¼ç”¨äºè®°å½•ä¸Šæ¬¡åˆ†é…çš„æœåŠ¡å™¨IPï¼Œå› æ­¤éœ€è¦é¢å¤–çš„å¼€é”€ï¼›æ­¤å¤–ï¼Œç”±äºè¿™ä¸ªå€¼å±äºäº’æ–¥èµ„æºï¼Œé‚£ä¹ˆå½“å¤šä¸ªè¯·æ±‚åŒæ—¶åˆ°æ¥æ—¶ï¼Œä¸ºäº†é¿å…çº¿ç¨‹çš„å®‰å…¨é—®é¢˜ï¼Œå› æ­¤éœ€è¦é”å®šäº’æ–¥èµ„æºï¼Œä»è€Œé™ä½äº†æ€§èƒ½ã€‚è€Œéšæœºåˆ†é…ç­–ç•¥ä¸éœ€è¦ç»´æŠ¤é¢å¤–çš„å€¼ï¼Œä¹Ÿå°±ä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› æ­¤æ€§èƒ½æ¯”è½®è¯¢è¦é«˜ã€‚<br></p><h5 id="ä¼˜ç¼ºç‚¹åˆ†æ"><a href="#ä¼˜ç¼ºç‚¹åˆ†æ" class="headerlink" title="ä¼˜ç¼ºç‚¹åˆ†æ"></a>ä¼˜ç¼ºç‚¹åˆ†æ</h5><p>é‡‡ç”¨HTTPé‡å®šå‘æ¥å®ç°æœåŠ¡å™¨é›†ç¾¤çš„è´Ÿè½½å‡è¡¡å®ç°èµ·æ¥è¾ƒä¸ºå®¹æ˜“ï¼Œé€»è¾‘æ¯”è¾ƒç®€å•ï¼Œä½†ç¼ºç‚¹ä¹Ÿè¾ƒä¸ºæ˜æ˜¾ã€‚<br></p><p>åœ¨HTTPé‡å®šå‘æ–¹æ³•ä¸­ï¼Œè°ƒåº¦æœåŠ¡å™¨åªåœ¨å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘ç½‘ç«™å‘èµ·è¯·æ±‚çš„æ—¶å€™èµ·ä½œç”¨ã€‚å½“è°ƒåº¦æœåŠ¡å™¨å‘æµè§ˆå™¨è¿”å›å“åº”ä¿¡æ¯åï¼Œå®¢æˆ·ç«¯æ­¤åçš„æ“ä½œéƒ½åŸºäºæ–°çš„URLè¿›è¡Œçš„(ä¹Ÿå°±æ˜¯åç«¯æœåŠ¡å™¨)ï¼Œæ­¤åæµè§ˆå™¨å°±ä¸ä¼šä¸è°ƒåº¦æœåŠ¡å™¨äº§ç”Ÿå…³ç³»ï¼Œè¿›è€Œä¼šäº§ç”Ÿå¦‚ä¸‹å‡ ä¸ªé—®é¢˜ï¼š<br></p><p>ç”±äºä¸åŒç”¨æˆ·çš„è®¿é—®æ—¶é—´ã€è®¿é—®é¡µé¢æ·±åº¦æœ‰æ‰€ä¸åŒï¼Œä»è€Œæ¯ä¸ªç”¨æˆ·å¯¹å„è‡ªçš„åç«¯æœåŠ¡å™¨æ‰€é€ æˆçš„å‹åŠ›ä¹Ÿä¸åŒã€‚è€Œè°ƒåº¦æœåŠ¡å™¨åœ¨è°ƒåº¦æ—¶ï¼Œæ— æ³•çŸ¥é“å½“å‰ç”¨æˆ·å°†ä¼šå¯¹æœåŠ¡å™¨é€ æˆå¤šå¤§çš„å‹åŠ›ï¼Œå› æ­¤è¿™ç§æ–¹å¼æ— æ³•å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„è´Ÿè½½å‡è¡¡ï¼Œåªä¸è¿‡æ˜¯æŠŠè¯·æ±‚æ¬¡æ•°å¹³å‡åˆ†é…ç»™æ¯å°æœåŠ¡å™¨ç½¢äº†ã€‚<br></p><p>è‹¥åˆ†é…ç»™è¯¥ç”¨æˆ·çš„åç«¯æœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œå¹¶ä¸”å¦‚æœé¡µé¢è¢«æµè§ˆå™¨ç¼“å­˜ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·å†æ¬¡è®¿é—®ç½‘ç«™æ—¶ï¼Œè¯·æ±‚éƒ½ä¼šå‘ç»™å‡ºç°æ•…éšœçš„æœåŠ¡å™¨ï¼Œä»è€Œå¯¼è‡´è®¿é—®å¤±è´¥ã€‚<br></p><h4 id="DNSè´Ÿè½½å‡è¡¡"><a href="#DNSè´Ÿè½½å‡è¡¡" class="headerlink" title="DNSè´Ÿè½½å‡è¡¡"></a>DNSè´Ÿè½½å‡è¡¡</h4><p>DNSæœåŠ¡å™¨æœ‰ä¸€ä¸ªå¤©ç„¶çš„ä¼˜åŠ¿ï¼Œå¦‚æœä¸€ä¸ªåŸŸåæŒ‡å‘äº†å¤šä¸ªIPåœ°å€ï¼Œé‚£ä¹ˆæ¯æ¬¡è¿›è¡ŒåŸŸåè§£ææ—¶ï¼ŒDNSåªè¦é€‰ä¸€ä¸ªIPè¿”å›ç»™ç”¨æˆ·ï¼Œå°±èƒ½å¤Ÿå®ç°æœåŠ¡å™¨é›†ç¾¤çš„è´Ÿè½½å‡è¡¡ã€‚</p><h5 id="å…·ä½“åšæ³•"><a href="#å…·ä½“åšæ³•" class="headerlink" title="å…·ä½“åšæ³•"></a>å…·ä½“åšæ³•</h5><p>é¦–å…ˆéœ€è¦å°†æˆ‘ä»¬çš„åŸŸåæŒ‡å‘å¤šä¸ªåç«¯æœåŠ¡å™¨(å°†ä¸€ä¸ªåŸŸåè§£æåˆ°å¤šä¸ªIPä¸Š)ï¼Œå†è®¾ç½®ä¸€ä¸‹è°ƒåº¦ç­–ç•¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å‡†å¤‡å·¥ä½œå°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥çš„è´Ÿè½½å‡è¡¡å°±å®Œå…¨ç”±DNSæœåŠ¡å™¨æ¥å®ç°ã€‚</p><p>å½“ç”¨æˆ·å‘æˆ‘ä»¬çš„åŸŸåå‘èµ·è¯·æ±‚æ—¶ï¼ŒDNSæœåŠ¡å™¨ä¼šè‡ªåŠ¨åœ°æ ¹æ®æˆ‘ä»¬äº‹å…ˆè®¾å®šå¥½çš„è°ƒåº¦ç­–ç•¥é€‰ä¸€ä¸ªåˆé€‚çš„IPè¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·å†å‘è¯¥IPå‘èµ·è¯·æ±‚ã€‚</p><h5 id="è°ƒåº¦ç­–ç•¥"><a href="#è°ƒåº¦ç­–ç•¥" class="headerlink" title="è°ƒåº¦ç­–ç•¥"></a>è°ƒåº¦ç­–ç•¥</h5><p>ä¸€èˆ¬DNSæä¾›å•†ä¼šæä¾›ä¸€äº›è°ƒåº¦ç­–ç•¥ä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œå¦‚éšæœºåˆ†é…ã€è½®è¯¢ã€æ ¹æ®è¯·æ±‚è€…çš„åœ°åŸŸåˆ†é…ç¦»ä»–æœ€è¿‘çš„æœåŠ¡å™¨ã€‚</p><h5 id="ä¼˜ç¼ºç‚¹åˆ†æ-1"><a href="#ä¼˜ç¼ºç‚¹åˆ†æ-1" class="headerlink" title="ä¼˜ç¼ºç‚¹åˆ†æ"></a>ä¼˜ç¼ºç‚¹åˆ†æ</h5><p>DNSè´Ÿè½½å‡è¡¡æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯é…ç½®ç®€å•ã€‚æœåŠ¡å™¨é›†ç¾¤çš„è°ƒåº¦å·¥ä½œå®Œå…¨ç”±DNSæœåŠ¡å™¨æ‰¿æ‹…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠç²¾åŠ›æ”¾åœ¨åç«¯æœåŠ¡å™¨ä¸Šï¼Œä¿è¯ä»–ä»¬çš„ç¨³å®šæ€§ä¸ååé‡ã€‚è€Œä¸”å®Œå…¨ä¸ç”¨æ‹…å¿ƒDNSæœåŠ¡å™¨çš„æ€§èƒ½ï¼Œå³ä¾¿æ˜¯ä½¿ç”¨äº†è½®è¯¢ç­–ç•¥ï¼Œå®ƒçš„ååç‡ä¾ç„¶å“è¶Šã€‚<br>æ­¤å¤–ï¼ŒDNSè´Ÿè½½å‡è¡¡å…·æœ‰è¾ƒå¼ºäº†æ‰©å±•æ€§ï¼Œä½ å®Œå…¨å¯ä»¥ä¸ºä¸€ä¸ªåŸŸåè§£æè¾ƒå¤šçš„IPï¼Œè€Œä¸”ä¸ç”¨æ‹…å¿ƒæ€§èƒ½é—®é¢˜ã€‚<br><br><br>ä½†æ˜¯ï¼Œç”±äºæŠŠé›†ç¾¤è°ƒåº¦æƒäº¤ç»™äº†DNSæœåŠ¡å™¨ï¼Œä»è€Œæˆ‘ä»¬æ²¡åŠæ³•éšå¿ƒæ‰€æ¬²åœ°æ§åˆ¶è°ƒåº¦è€…ï¼Œæ²¡åŠæ³•å®šåˆ¶è°ƒåº¦ç­–ç•¥ã€‚<br><br><br>DNSæœåŠ¡å™¨ä¹Ÿæ²¡åŠæ³•äº†è§£æ¯å°æœåŠ¡å™¨çš„è´Ÿè½½æƒ…å†µï¼Œå› æ­¤æ²¡åŠæ³•å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„è´Ÿè½½å‡è¡¡ã€‚å®ƒå’ŒHTTPé‡å®šå‘ä¸€æ ·ï¼Œåªä¸è¿‡æŠŠæ‰€æœ‰è¯·æ±‚å¹³å‡åˆ†é…ç»™åç«¯æœåŠ¡å™¨ç½¢äº†ã€‚<br><br><br>æ­¤å¤–ï¼Œå½“æˆ‘ä»¬å‘ç°æŸä¸€å°åç«¯æœåŠ¡å™¨å‘ç”Ÿæ•…éšœæ—¶ï¼Œå³ä½¿æˆ‘ä»¬ç«‹å³å°†è¯¥æœåŠ¡å™¨ä»åŸŸåè§£æä¸­å»é™¤ï¼Œä½†ç”±äºDNSæœåŠ¡å™¨ä¼šæœ‰ç¼“å­˜ï¼Œè¯¥IPä»ç„¶ä¼šåœ¨DNSä¸­ä¿ç•™ä¸€æ®µæ—¶é—´ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´ä¸€éƒ¨åˆ†ç”¨æˆ·æ— æ³•æ­£å¸¸è®¿é—®ç½‘ç«™ã€‚è¿™æ˜¯ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼å¥½åœ¨è¿™ä¸ªé—®é¢˜å¯ä»¥ç”¨åŠ¨æ€DNSæ¥è§£å†³ã€‚<br><br><br>åŠ¨æ€DNSèƒ½å¤Ÿè®©æˆ‘ä»¬é€šè¿‡ç¨‹åºåŠ¨æ€ä¿®æ”¹DNSæœåŠ¡å™¨ä¸­çš„åŸŸåè§£æã€‚ä»è€Œå½“æˆ‘ä»¬çš„ç›‘æ§ç¨‹åºå‘ç°æŸå°æœåŠ¡å™¨æŒ‚äº†ä¹‹åï¼Œèƒ½ç«‹å³é€šçŸ¥DNSå°†å…¶åˆ æ‰ã€‚<br><br></p><h4 id="åå‘ä»£ç†è´Ÿè½½å‡è¡¡"><a href="#åå‘ä»£ç†è´Ÿè½½å‡è¡¡" class="headerlink" title="åå‘ä»£ç†è´Ÿè½½å‡è¡¡"></a>åå‘ä»£ç†è´Ÿè½½å‡è¡¡</h4><p>åå‘ä»£ç†æœåŠ¡å™¨æ˜¯ä¸€ä¸ªä½äºå®é™…æœåŠ¡å™¨ä¹‹å‰çš„æœåŠ¡å™¨ï¼Œæ‰€æœ‰å‘æˆ‘ä»¬ç½‘ç«™å‘æ¥çš„è¯·æ±‚éƒ½é¦–å…ˆè¦ç»è¿‡åå‘ä»£ç†æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ ¹æ®ç”¨æˆ·çš„è¯·æ±‚è¦ä¹ˆç›´æ¥å°†ç»“æœè¿”å›ç»™ç”¨æˆ·ï¼Œè¦ä¹ˆå°†è¯·æ±‚äº¤ç»™åç«¯æœåŠ¡å™¨å¤„ç†ï¼Œå†è¿”å›ç»™ç”¨æˆ·ã€‚<br><br><br>ä¹‹å‰æˆ‘ä»¬ä»‹ç»äº†ç”¨åå‘ä»£ç†æœåŠ¡å™¨å®ç°é™æ€é¡µé¢å’Œå¸¸ç”¨çš„åŠ¨æ€é¡µé¢çš„ç¼“å­˜ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»åå‘ä»£ç†æœåŠ¡å™¨æ›´å¸¸ç”¨çš„åŠŸèƒ½â€”â€”å®ç°è´Ÿè½½å‡è¡¡ã€‚<br><br><br>æˆ‘ä»¬çŸ¥é“ï¼Œæ‰€æœ‰å‘é€ç»™æˆ‘ä»¬ç½‘ç«™çš„è¯·æ±‚éƒ½é¦–å…ˆç»è¿‡åå‘ä»£ç†æœåŠ¡å™¨ã€‚é‚£ä¹ˆï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±å¯ä»¥å……å½“æœåŠ¡å™¨é›†ç¾¤çš„è°ƒåº¦è€…ï¼Œå®ƒå¯ä»¥æ ¹æ®å½“å‰åç«¯æœåŠ¡å™¨çš„è´Ÿè½½æƒ…å†µï¼Œå°†è¯·æ±‚è½¬å‘ç»™ä¸€å°åˆé€‚çš„æœåŠ¡å™¨ï¼Œå¹¶å°†å¤„ç†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚<br><br></p><h5 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h5><ul><li>éšè—åç«¯æœåŠ¡å™¨ã€‚</li><li>ä¸HTTPé‡å®šå‘ç›¸æ¯”ï¼Œåå‘ä»£ç†èƒ½å¤Ÿéšè—åç«¯æœåŠ¡å™¨ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½ä¸ä¼šä¸åç«¯æœåŠ¡å™¨ç›´æ¥äº¤äº’ï¼Œä»è€Œèƒ½å¤Ÿç¡®ä¿è°ƒåº¦è€…çš„æ§åˆ¶æƒï¼Œæå‡é›†ç¾¤çš„æ•´ä½“æ€§èƒ½ã€‚<br>æ•…éšœè½¬ç§»</li><li>ä¸DNSè´Ÿè½½å‡è¡¡ç›¸æ¯”ï¼Œåå‘ä»£ç†èƒ½å¤Ÿæ›´å¿«é€Ÿåœ°ç§»é™¤æ•…éšœç»“ç‚¹ã€‚å½“ç›‘æ§ç¨‹åºå‘ç°æŸä¸€åç«¯æœåŠ¡å™¨å‡ºç°æ•…éšœæ—¶ï¼Œèƒ½å¤ŸåŠæ—¶é€šçŸ¥åå‘ä»£ç†æœåŠ¡å™¨ï¼Œå¹¶ç«‹å³å°†å…¶åˆ é™¤ã€‚<br>åˆç†åˆ†é…ä»»åŠ¡</li><li><p>HTTPé‡å®šå‘å’ŒDNSè´Ÿè½½å‡è¡¡éƒ½æ— æ³•å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯è°ƒåº¦æœåŠ¡å™¨æ— æ³•æ ¹æ®åç«¯æœåŠ¡å™¨çš„å®é™…è´Ÿè½½æƒ…å†µåˆ†é…ä»»åŠ¡ã€‚ä½†åå‘ä»£ç†æœåŠ¡å™¨æ”¯æŒæ‰‹åŠ¨è®¾å®šæ¯å°åç«¯æœåŠ¡å™¨çš„æƒé‡ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®æœåŠ¡å™¨çš„é…ç½®è®¾ç½®ä¸åŒçš„æƒé‡ï¼Œæƒé‡çš„ä¸åŒä¼šå¯¼è‡´è¢«è°ƒåº¦è€…é€‰ä¸­çš„æ¦‚ç‡çš„ä¸åŒã€‚</p><h5 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h5></li><li><p>è°ƒåº¦è€…å‹åŠ›è¿‡å¤§</p></li><li>ç”±äºæ‰€æœ‰çš„è¯·æ±‚éƒ½å…ˆç”±åå‘ä»£ç†æœåŠ¡å™¨å¤„ç†ï¼Œé‚£ä¹ˆå½“è¯·æ±‚é‡è¶…è¿‡è°ƒåº¦æœåŠ¡å™¨çš„æœ€å¤§è´Ÿè½½æ—¶ï¼Œè°ƒåº¦æœåŠ¡å™¨çš„ååç‡é™ä½ä¼šç›´æ¥é™ä½é›†ç¾¤çš„æ•´ä½“æ€§èƒ½ã€‚<br>åˆ¶çº¦æ‰©å±•</li><li>å½“åç«¯æœåŠ¡å™¨ä¹Ÿæ— æ³•æ»¡è¶³å·¨å¤§çš„ååé‡æ—¶ï¼Œå°±éœ€è¦å¢åŠ åç«¯æœåŠ¡å™¨çš„æ•°é‡ï¼Œå¯æ²¡åŠæ³•æ— é™é‡åœ°å¢åŠ ï¼Œå› ä¸ºä¼šå—åˆ°è°ƒåº¦æœåŠ¡å™¨çš„æœ€å¤§ååé‡çš„åˆ¶çº¦ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Nginxæ˜¯å•¥&quot;&gt;&lt;a href=&quot;#Nginxæ˜¯å•¥&quot; class=&quot;headerlink&quot; title=&quot;Nginxæ˜¯å•¥&quot;&gt;&lt;/a&gt;Nginxæ˜¯å•¥&lt;/h3&gt;&lt;p&gt;Nginxæ˜¯ä¸€ä¸ªä½¿ç”¨cè¯­è¨€å¼€å‘çš„é«˜æ€§èƒ½httpæœåŠ¡å™¨ä»¥åŠåå‘ä»£ç†æœåŠ¡å™¨ã€‚Nginxæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„http æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨ã€‚å®˜æ–¹æµ‹è¯•nginxèƒ½å¤Ÿæ”¯æ”¯æ’‘5ä¸‡å¹¶å‘é“¾æ¥ï¼Œå¹¶ä¸”cpuã€å†…å­˜ç­‰èµ„æºæ¶ˆè€—å´éå¸¸ä½ï¼Œè¿è¡Œéå¸¸ç¨³å®šã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>choppingHand2</title>
    <link href="http://yoursite.com/2018/06/15/choppingHand2/"/>
    <id>http://yoursite.com/2018/06/15/choppingHand2/</id>
    <published>2018-06-15T05:07:12.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¿™æ®µæ—¶é—´æŠŠå‰©ä¸‹çš„ç•Œé¢å†™å®Œäº†ï¼Œç•Œé¢å¦‚ä¸‹ï¼š<br><a id="more"></a><br><br><br>å•†å“è¯¦æƒ…ç•Œé¢<br><br><br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/good.png" alt=""><br><br><br>è´­ç‰©è½¦<br><br><br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/cart.png" alt=""><br><br><br>æ”¶è—<br><br></p><p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/like.png" alt=""><br><br><br>ä¸ªäººè¯¦æƒ…ç•Œé¢<br><br><br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/mine.png" alt=""><br><br><br>è®¢å•ç•Œé¢<br><br><br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/order.png" alt=""></p><p>æœŸé—´å®Œå–„äº†ä¸€ä¸‹é¦–é¡µè½®æ’­å›¾ä»¥åŠtabç»„ä»¶å›¾ç‰‡å¶å°”ä¸èƒ½æ˜¾ç¤ºçš„é—®é¢˜ï¼ŒæŸ¥äº†ä¸€ä¸‹èµ„æ–™ï¼ŒåŸæ¥<br>react-native-swiperè¿˜æœ‰react-native-scrollable-tab-viewï¼Œè¿™ä¸¤ä¸ªä¸œè¥¿éœ€è¦æ‰‹åŠ¨é‡æ–°æ¸²æŸ“ç•Œé¢,</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            swipeShow: <span class="literal">false</span>,</span><br><span class="line">            store:[]</span><br><span class="line">        &#125;;</span><br><span class="line">        this.txt = null</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">componentWillMount</span></span>() &#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">                swipeShow: <span class="literal">true</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">renderSwiper</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> (</span><br><span class="line">            &lt;Swiper style=&#123;styles.swiper&#125; autoplay=&#123;<span class="literal">true</span>&#125; showsButtons&gt;</span><br><span class="line">                &lt;View style=&#123;styles.slideShow&#125;&gt;</span><br><span class="line">                    &lt;Image style=&#123;styles.banner&#125; <span class="built_in">source</span>=&#123;require(<span class="string">'../../images/slide1.jpg'</span>)&#125;/&gt;</span><br><span class="line">                &lt;/View&gt;</span><br><span class="line">                &lt;View style=&#123;styles.slideShow&#125;&gt;</span><br><span class="line">                    &lt;Image style=&#123;styles.banner&#125; <span class="built_in">source</span>=&#123;require(<span class="string">'../../images/slide2.jpg'</span>)&#125;/&gt;</span><br><span class="line">                &lt;/View&gt;</span><br><span class="line">                &lt;View style=&#123;styles.slideShow&#125;&gt;</span><br><span class="line">                    &lt;Image style=&#123;styles.banner&#125; <span class="built_in">source</span>=&#123;require(<span class="string">'../../images/slide3.jpg'</span>)&#125;/&gt;</span><br><span class="line">                &lt;/View&gt;</span><br><span class="line">            &lt;/Swiper&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">//...</span><br><span class="line">              &lt;View style=&#123;&#123;width: width, height: 150,&#125;&#125;&gt;</span><br><span class="line">                  &#123;this.state.swipeShow &amp;&amp; this.renderSwiper()&#125;</span><br><span class="line">                &lt;/View&gt;</span><br></pre></td></tr></table></figure><p>åŒç†react-native-scrollable-tab-viewä¹Ÿæ˜¯åŒæ ·çš„è§£å†³æ–¹æ¡ˆã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ®µæ—¶é—´æŠŠå‰©ä¸‹çš„ç•Œé¢å†™å®Œäº†ï¼Œç•Œé¢å¦‚ä¸‹ï¼š&lt;br&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="React Native" scheme="http://yoursite.com/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>choppingHand1</title>
    <link href="http://yoursite.com/2018/06/08/choppingHand1/"/>
    <id>http://yoursite.com/2018/06/08/choppingHand1/</id>
    <published>2018-06-08T04:38:50.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>æ¯æ¬¡æ–°å­¦ä¸€ç§æ¡†æ¶ï¼Œå®æˆ˜è¦ä¹ˆtodoListï¼Œè¦ä¹ˆè´­ç‰©åº”ç”¨ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚</p></blockquote><a id="more"></a><p>ä»Šå¤©</p><p>å†™äº†å‡ ä¸ªç•Œé¢ï¼Œç™»å½•æ³¨å†Œå•¥çš„ã€‚ç•Œé¢å¦‚ä¸‹ï¼š<br><br><br>æ³¨å†Œç•Œé¢<br><br><br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/register.png" alt=""><br><br><br>ç™»å½•ç•Œé¢<br><br><br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/login.png" alt=""><br><br><br>é¦–é¡µ<br><br><br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/home.png" alt=""></p><p>é¡ºæ‰‹æŠŠé¡µé¢é€»è¾‘è·³è½¬å†™äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">const Tab = TabNavigator(&#123;</span><br><span class="line">        Home: &#123;</span><br><span class="line">            screen: HomeView,</span><br><span class="line">            navigationOptions: &#123;</span><br><span class="line">                tabBarLabel: <span class="string">'é¦–é¡µ'</span>,</span><br><span class="line">                tabBarIcon: (&#123;focused, tintColor&#125;) =&gt; (</span><br><span class="line">                    &lt;TabBarItem</span><br><span class="line">                        tintColor=&#123;tintColor&#125;</span><br><span class="line">                        focused=&#123;focused&#125;</span><br><span class="line">                        selectedImage=&#123;require(<span class="string">'./images/homeSelect.png'</span>)&#125;</span><br><span class="line">                        normalImage=&#123;require(<span class="string">'./images/home.png'</span>)&#125;</span><br><span class="line">                    /&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        Cart: &#123;</span><br><span class="line">            screen: CartView,</span><br><span class="line">            navigationOptions: &#123;</span><br><span class="line">                tabBarLabel: <span class="string">'è´­ç‰©è½¦'</span>,</span><br><span class="line">                tabBarIcon: (&#123;focused, tintColor&#125;) =&gt; (</span><br><span class="line">                    &lt;TabBarItem</span><br><span class="line">                        tintColor=&#123;tintColor&#125;</span><br><span class="line">                        focused=&#123;focused&#125;</span><br><span class="line">                        selectedImage=&#123;require(<span class="string">'./images/cartSelect.png'</span>)&#125;</span><br><span class="line">                        normalImage=&#123;require(<span class="string">'./images/cart.png'</span>)&#125;</span><br><span class="line">                    /&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        Mine: &#123;</span><br><span class="line">            screen: MineView,</span><br><span class="line">            navigationOptions: &#123;</span><br><span class="line">                tabBarLabel: <span class="string">'æˆ‘'</span>,</span><br><span class="line">                tabBarIcon: (&#123;focused, tintColor&#125;) =&gt; (</span><br><span class="line">                    &lt;TabBarItem</span><br><span class="line">                        tintColor=&#123;tintColor&#125;</span><br><span class="line">                        focused=&#123;focused&#125;</span><br><span class="line">                        selectedImage=&#123;require(<span class="string">'./images/mineSelect.png'</span>)&#125;</span><br><span class="line">                        normalImage=&#123;require(<span class="string">'./images/mine.png'</span>)&#125;</span><br><span class="line">                    /&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // tabScreené…ç½®</span><br><span class="line">    &#123;</span><br><span class="line">        tabBarComponent: TabBarBottom, // è‡ªå®šä¹‰</span><br><span class="line">        tabBarPosition: <span class="string">'bottom'</span>,</span><br><span class="line">        swipeEnabled: <span class="literal">false</span>,</span><br><span class="line">        animationEnabled: <span class="literal">true</span>,</span><br><span class="line">        lazy: <span class="literal">true</span>,</span><br><span class="line">        tabBarOptions: &#123;</span><br><span class="line">            activeTintColor: <span class="string">'#e5779c'</span>,</span><br><span class="line">            inactiveTintColor: <span class="string">'#71777c'</span>,</span><br><span class="line">            labelStyle: &#123;</span><br><span class="line">                fontSize: 12, // æ–‡å­—å¤§å°</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">const Stack =StackNavigator(</span><br><span class="line">    &#123;</span><br><span class="line">        Login: &#123;</span><br><span class="line">            screen: LoginView,</span><br><span class="line">            navigationOptions: &#123;</span><br><span class="line">                header: null</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        Tab: &#123;</span><br><span class="line">            screen: Tab,</span><br><span class="line">        &#125;,</span><br><span class="line">        GoodPage:&#123;</span><br><span class="line">            screen: GoodPageView,</span><br><span class="line">        &#125;,</span><br><span class="line">        Register: &#123;</span><br><span class="line">            screen: RegisterView,</span><br><span class="line">            navigationOptions: &#123;</span><br><span class="line">                header: null</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        navigationOptions: &#123;</span><br><span class="line">            // å¼€å¯åŠ¨ç”»</span><br><span class="line">            animationEnabled: <span class="literal">true</span>,</span><br><span class="line">            // å¼€å¯è¾¹ç¼˜è§¦æ‘¸è¿”å›</span><br><span class="line">            gesturesEnabled: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        mode: <span class="string">'card'</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>åˆšèµ·äº†ä¸ªå¤´ï¼Œå‘ç°ç”¨React Nativeå†™Androidç”¨çš„è¿˜æ˜¯ç½‘ç«™é‚£ä¸€å¥—ï¼Œä¹Ÿä¸æ˜¯é‚£ä¹ˆçš„å¥½ç©ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ¯æ¬¡æ–°å­¦ä¸€ç§æ¡†æ¶ï¼Œå®æˆ˜è¦ä¹ˆtodoListï¼Œè¦ä¹ˆè´­ç‰©åº”ç”¨ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="React Native" scheme="http://yoursite.com/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>ReactNativeComponent</title>
    <link href="http://yoursite.com/2018/06/01/ReactNativeComponent/"/>
    <id>http://yoursite.com/2018/06/01/ReactNativeComponent/</id>
    <published>2018-06-01T03:53:02.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>æœ€è¿‘åœ¨ç©React Nativeï¼Œè¯è¯´React Nativeçš„ç¯å¢ƒçœŸçš„çƒ‚å•Šï¼Œè«åå…¶å¦™å°±å´©äº†ä¸€æ¬¡ä¸€æ¬¡åˆä¸€æ¬¡ã€‚<br>åˆå­¦äº†ä¸€äº›ä¸œè¥¿ï¼Œåšä¸ªæ€»ç»“ã€‚<br><a id="more"></a></p><h3 id="AppRegistry"><a href="#AppRegistry" class="headerlink" title="AppRegistry"></a>AppRegistry</h3><p>AppRegistryæ˜¯JSè¿è¡Œæ‰€æœ‰React Nativeåº”ç”¨çš„å…¥å£ã€‚åº”ç”¨çš„æ ¹ç»„ä»¶åº”å½“é€šè¿‡AppRegistry.registerComponentæ–¹æ³•æ³¨å†Œè‡ªå·±ï¼Œç„¶ååŸç”Ÿç³»ç»Ÿæ‰å¯ä»¥åŠ è½½åº”ç”¨çš„ä»£ç åŒ…å¹¶ä¸”åœ¨å¯åŠ¨å®Œæˆä¹‹åé€šè¿‡è°ƒç”¨AppRegistry.runApplicationæ¥çœŸæ­£è¿è¡Œåº”ç”¨ã€‚<br>è¦â€œç»“æŸâ€ä¸€ä¸ªåº”ç”¨å¹¶é”€æ¯è§†å›¾çš„è¯ï¼Œè¯·è°ƒç”¨AppRegistry.unmountApplicationComponentAtRootTagæ–¹æ³•ï¼Œå‚æ•°ä¸ºåœ¨runApplicationä¸­ä½¿ç”¨çš„æ ‡ç­¾åã€‚å®ƒä»¬å¿…é¡»ä¸¥æ ¼åŒ¹é…ã€‚<br>AppRegistryåº”å½“åœ¨requireåºåˆ—ä¸­å°½å¯èƒ½æ—©çš„è¢«requireåˆ°ï¼Œä»¥ç¡®ä¿JSè¿è¡Œç¯å¢ƒåœ¨å…¶å®ƒæ¨¡å—ä¹‹å‰è¢«å‡†å¤‡å¥½ã€‚</p></blockquote><h3 id="StyleSheet"><a href="#StyleSheet" class="headerlink" title="StyleSheet"></a>StyleSheet</h3><p>StyleSheetæä¾›äº†ä¸€ç§ç±»ä¼¼CSSæ ·å¼è¡¨çš„æŠ½è±¡ã€‚<br>åˆ›å»ºä¸€ä¸ªæ ·å¼è¡¨ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var styles = StyleSheet.create(&#123;</span><br><span class="line">  container: &#123;</span><br><span class="line">    borderRadius: 4,</span><br><span class="line">    borderWidth: 0.5,</span><br><span class="line">    borderColor: <span class="string">'#d6d7da'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  title: &#123;</span><br><span class="line">    fontSize: 19,</span><br><span class="line">    fontWeight: <span class="string">'bold'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  activeTitle: &#123;</span><br><span class="line">    color: <span class="string">'red'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ä¸€ä¸ªæ ·å¼è¡¨ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">  &lt;Text style=&#123;[styles.title, this.props.isActive &amp;&amp; styles.activeTitle]&#125; /&gt;</span><br><span class="line">&lt;/View&gt;</span><br></pre></td></tr></table></figure></p><p>ä»ä»£ç è´¨é‡è§’åº¦ï¼š<br>ä»renderå‡½æ•°ä¸­ç§»é™¤å…·ä½“çš„æ ·å¼å†…å®¹ï¼Œå¯ä»¥ä½¿ä»£ç æ›´æ¸…æ™°æ˜“æ‡‚ã€‚<br>ç»™æ ·å¼å‘½åä¹Ÿæ˜¯å¯¹renderå‡½æ•°ä¸­çš„åŸå§‹ç»„ä»¶çš„ä½œç”¨çš„ä¸€ç§æ ‡è®°ã€‚<br>ä»æ€§èƒ½è§’åº¦ï¼š<br>åˆ›å»ºä¸€ä¸ªæ ·å¼è¡¨ï¼Œå°±å¯ä»¥ä½¿å¾—æˆ‘ä»¬åç»­æ›´å®¹æ˜“é€šè¿‡IDæ¥å¼•ç”¨æ ·å¼ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚<br>å®ƒè¿˜ä½¿å¾—æ ·å¼åªä¼šåœ¨JavaScriptå’ŒåŸç”Ÿä¹‹é—´ä¼ é€’ä¸€æ¬¡ï¼Œéšåçš„è¿‡ç¨‹éƒ½å¯ä»¥åªä¼ é€’ä¸€ä¸ªIDï¼ˆè¿™ä¸ªä¼˜åŒ–è¿˜æœªå®ç°ï¼‰ã€‚<br>æ³¨æ„ï¼šcreate() å’Œ hairlineWidth<br>è¿™ä¸€å¸¸é‡å®šä¹‰äº†å½“å‰å¹³å°ä¸Šçš„æœ€ç»†çš„å®½åº¦ã€‚å¯ä»¥ç”¨ä½œè¾¹æ¡†æˆ–æ˜¯ä¸¤ä¸ªå…ƒç´ é—´çš„åˆ†éš”çº¿ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    borderBottomColor: <span class="string">'#bbb'</span>,</span><br><span class="line">    borderBottomWidth: StyleSheet.hairlineWidth</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸€å¸¸é‡å§‹ç»ˆæ˜¯ä¸€ä¸ªæ•´æ•°çš„åƒç´ å€¼ï¼ˆçº¿çœ‹èµ·æ¥ä¼šåƒå¤´å‘ä¸ä¸€æ ·ç»†ï¼‰ï¼Œå¹¶ä¼šå°½é‡ç¬¦åˆå½“å‰å¹³å°æœ€ç»†çš„çº¿çš„æ ‡å‡†ã€‚ç„¶è€Œï¼Œä½ ä¸èƒ½æŠŠå®ƒâ€œè§†ä¸ºä¸€ä¸ªå¸¸é‡â€ï¼Œå› ä¸ºä¸åŒçš„å¹³å°å’Œä¸åŒçš„å±å¹•åƒç´ å¯†åº¦ä¼šå¯¼è‡´ä¸åŒçš„ç»“æœã€‚</p><h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><p>ä¸€ä¸ªç”¨äºæ˜¾ç¤ºæ–‡æœ¬çš„Reactç»„ä»¶ï¼Œå¹¶ä¸”å®ƒä¹Ÿæ”¯æŒåµŒå¥—ã€æ ·å¼ï¼Œä»¥åŠè§¦æ‘¸å¤„ç†ã€‚<br>Androidå†…å»ºçš„å­—ä½“æœ‰:</p><ul><li>normal</li><li>serif</li><li>monospace <br></li></ul><p>\<text>å…ƒç´ åœ¨å¸ƒå±€ä¸Šä¸åŒäºå…¶å®ƒç»„ä»¶ï¼šåœ¨Textå†…éƒ¨çš„å…ƒç´ ä¸å†ä½¿ç”¨flexboxå¸ƒå±€ï¼Œè€Œæ˜¯é‡‡ç”¨æ–‡æœ¬å¸ƒå±€ã€‚è¿™æ„å‘³ç€\<text>å†…éƒ¨çš„å…ƒç´ ä¸å†æ˜¯ä¸€ä¸ªä¸ªçŸ©å½¢ï¼Œè€Œå¯èƒ½ä¼šåœ¨è¡Œæœ«è¿›è¡ŒæŠ˜å ã€‚<br>\<text>å…ƒç´ åœ¨å¸ƒå±€ä¸Šä¸åŒäºå…¶å®ƒç»„ä»¶ï¼šåœ¨Textå†…éƒ¨çš„å…ƒç´ ä¸å†ä½¿ç”¨flexboxå¸ƒå±€ï¼Œè€Œæ˜¯é‡‡ç”¨æ–‡æœ¬å¸ƒå±€ã€‚è¿™æ„å‘³ç€\<text>å†…éƒ¨çš„å…ƒç´ ä¸å†æ˜¯ä¸€ä¸ªä¸ªçŸ©å½¢ï¼Œè€Œå¯èƒ½ä¼šåœ¨è¡Œæœ«è¿›è¡ŒæŠ˜å ã€‚<br>ä½ å¿…é¡»æŠŠä½ çš„æ–‡æœ¬èŠ‚ç‚¹æ”¾åœ¨\<text>ç»„ä»¶å†…ã€‚ä½ ä¸èƒ½ç›´æ¥åœ¨\<view>ä¸‹æ”¾ç½®ä¸€æ®µæ–‡æœ¬ã€‚</view></text></text></text></text></text></p><h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><h4 id="å®½ã€é«˜å°ºå¯¸è®¾ç½®"><a href="#å®½ã€é«˜å°ºå¯¸è®¾ç½®" class="headerlink" title="å®½ã€é«˜å°ºå¯¸è®¾ç½®"></a>å®½ã€é«˜å°ºå¯¸è®¾ç½®</h4><ul><li>Image ç»„ä»¶å¿…é¡»åœ¨æ ·å¼ä¸­å£°æ˜å›¾ç‰‡çš„å®½å’Œé«˜ã€‚å¦‚æœæ²¡æœ‰å£°æ˜ï¼Œåˆ™å›¾ç‰‡å°†ä¸ä¼šè¢«å‘ˆç°åœ¨ç•Œé¢ä¸Šã€‚</li><li>æœ‰æ—¶æˆ‘ä»¬éœ€è¦å°†æŸå¼ å›¾ç‰‡ç‚¹å¯¹ç‚¹åœ°æ˜¾ç¤ºåœ¨æ‰‹æœºä¸Šï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“å›¾ç‰‡å®é™…åˆ†è¾¨ç‡ï¼ˆæ¯”å¦‚ï¼šactrualWidth * actrualHeightï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å®šä¹‰å›¾ç‰‡æ˜¾ç¤ºæ ·å¼ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">preciseImageStyle: &#123;</span><br><span class="line">  width: actrualWidth / PixelRatio.get(),</span><br><span class="line">  height: actrualHeight / PixelRatio.get(),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="Imageç»„ä»¶çš„å¸¸è§å±æ€§"><a href="#Imageç»„ä»¶çš„å¸¸è§å±æ€§" class="headerlink" title="Imageç»„ä»¶çš„å¸¸è§å±æ€§"></a>Imageç»„ä»¶çš„å¸¸è§å±æ€§</h4><ul><li><p>onLayout(function) <br><br>å½“Imageå¸ƒå±€å‘ç”Ÿæ”¹å˜çš„ï¼Œä¼šè¿›è¡Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œè°ƒç”¨çš„ä»£ç ä¸º:{nativeEvent: {layout: {x, y, width, height}}}.</p></li><li><p>onLoad (function)  <br><br>å½“å›¾ç‰‡åŠ è½½æˆåŠŸä¹‹åï¼Œå›è°ƒè¯¥æ–¹æ³•</p></li><li><p>onLoadEnd (function)  <br><br>å½“å›¾ç‰‡åŠ è½½å¤±è´¥å›è°ƒè¯¥æ–¹æ³•ï¼Œè¯¥ä¸ä¼šç®¡å›¾ç‰‡åŠ è½½æˆåŠŸè¿˜æ˜¯å¤±è´¥</p></li><li>onLoadStart (fcuntion)  <br><br>å½“å›¾ç‰‡å¼€å§‹åŠ è½½çš„æ—¶å€™è°ƒç”¨è¯¥æ–¹æ³•</li><li>resizeMode  <br><br>ç¼©æ”¾æ¯”ä¾‹,å¯é€‰å‚æ•°(â€˜coverâ€™, â€˜containâ€™, â€˜stretchâ€™) è¯¥å½“å›¾ç‰‡çš„å°ºå¯¸è¶…è¿‡å¸ƒå±€çš„å°ºå¯¸çš„æ—¶å€™ï¼Œä¼šæ ¹æ®è®¾ç½®Modeè¿›è¡Œç¼©æ”¾æˆ–è€…è£å‰ªå›¾ç‰‡</li><li>source{uri:string}  <br><br>è¿›è¡Œæ ‡è®°å›¾ç‰‡çš„å¼•ç”¨ï¼Œè¯¥å‚æ•°å¯ä»¥ä¸ºä¸€ä¸ªç½‘ç»œurlåœ°å€æˆ–è€…ä¸€ä¸ªæœ¬åœ°çš„è·¯å¾„<br>å®ƒå¯ä»¥æ¥æ”¶ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œè¿™æ ·å¯æ ¹æ®ç»„ä»¶çš„å®½å’Œé«˜è‡ªåŠ¨åŠ è½½ä¸ä¹‹åŒ¹é…çš„å®½å’Œé«˜çš„å›¾ç‰‡ã€‚ä½¿ç”¨æ–¹å¼å¦‚ä¸‹:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Image</span><br><span class="line">               style=&#123;&#123;flex: 1&#125;&#125;</span><br><span class="line">               <span class="built_in">source</span>=&#123;[</span><br><span class="line">                  &#123;uri:<span class="string">'https://facebook.github.io/react/img/logo_small.png'</span>, width: 38, height: 38&#125;,</span><br><span class="line">                 &#123;uri: <span class="string">'https://facebook.github.io/react/img/logo_small_2x.png'</span>, width: 76, height: 76&#125;,</span><br><span class="line">                 &#123;uri: <span class="string">'https://facebook.github.io/react/img/logo_og.png'</span>, width: 400, height: 400&#125;</span><br><span class="line">                       ]&#125;</span><br><span class="line">                   /&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>ä½œä¸ºåˆ›å»ºUIæ—¶æœ€åŸºç¡€çš„ç»„ä»¶ï¼ŒViewæ˜¯ä¸€ä¸ªæ”¯æŒFlexboxå¸ƒå±€ã€æ ·å¼ã€ä¸€äº›è§¦æ‘¸å¤„ç†ã€å’Œä¸€äº›æ— éšœç¢åŠŸèƒ½çš„å®¹å™¨ï¼Œå¹¶ä¸”å®ƒå¯ä»¥æ”¾åˆ°å…¶å®ƒçš„è§†å›¾é‡Œï¼Œä¹Ÿå¯ä»¥æœ‰ä»»æ„å¤šä¸ªä»»æ„ç±»å‹çš„å­è§†å›¾ã€‚ä¸è®ºåœ¨ä»€ä¹ˆå¹³å°ä¸Šï¼ŒViewéƒ½ä¼šç›´æ¥å¯¹åº”ä¸€ä¸ªå¹³å°çš„åŸç”Ÿè§†å›¾ï¼Œæ— è®ºå®ƒæ˜¯UIViewã€\<div>è¿˜æ˜¯android.view.Viewã€‚<br>Viewçš„è®¾è®¡åˆè¡·æ˜¯å’ŒStyleSheetæ­é…ä½¿ç”¨ï¼Œè¿™æ ·å¯ä»¥ä½¿ä»£ç æ›´æ¸…æ™°å¹¶ä¸”è·å¾—æ›´é«˜çš„æ€§èƒ½ã€‚å°½ç®¡å†…è”æ ·å¼ä¹ŸåŒæ ·å¯ä»¥ä½¿ç”¨ã€‚</div></p><h4 id="accessible-bool"><a href="#accessible-bool" class="headerlink" title="accessible bool"></a>accessible bool</h4><p>å½“æ­¤å±æ€§ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºæ­¤è§†å›¾æ—¶ä¸€ä¸ªå¯ç”¨äº†æ— éšœç¢åŠŸèƒ½çš„å…ƒç´ ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å¯è§¦æ‘¸æ“ä½œçš„å…ƒç´ éƒ½æ˜¯æ— éšœç¢åŠŸèƒ½å…ƒç´ ã€‚</p><p>å¦‚æœè¦ä¸ºViewæ·»åŠ æ™®é€šç‚¹å‡»äº‹ä»¶ï¼Œè¯·ç›´æ¥ä½¿ç”¨Touchableç³»åˆ—ç»„ä»¶æ›¿ä»£Viewï¼Œç„¶åæ·»åŠ onPresså‡½æ•°ã€‚</p><h4 id="onResponderMove-function"><a href="#onResponderMove-function" class="headerlink" title="onResponderMove function"></a>onResponderMove function</h4><p>å½“ç”¨æˆ·æ­£åœ¨å±å¹•ä¸Šç§»åŠ¨æ‰‹æŒ‡æ—¶è°ƒç”¨è¿™ä¸ªå‡½æ•°</p><h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><p>ä¸€ä¸ªç®€å•çš„è·¨å¹³å°çš„æŒ‰é’®ç»„ä»¶ã€‚å¯ä»¥è¿›è¡Œä¸€äº›ç®€å•çš„å®šåˆ¶ã€‚<br>disabled bool<br>è®¾ç½®ä¸ºtrueæ—¶æ­¤æŒ‰é’®å°†ä¸å¯ç‚¹å‡»</p><p> title: PropTypes.string.isRequired,<br>Platform.OS === â€˜androidâ€™ ? title.toUpperCase() : title;</p><h3 id="FlatList"><a href="#FlatList" class="headerlink" title="FlatList"></a>FlatList</h3><p>FlatListç»„ä»¶ç”¨äºæ˜¾ç¤ºä¸€ä¸ªå‚ç›´çš„æ»šåŠ¨åˆ—è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ ä¹‹é—´ç»“æ„è¿‘ä¼¼è€Œä»…æ•°æ®ä¸åŒã€‚<br>FlatListç»„ä»¶å¿…é¡»çš„ä¸¤ä¸ªå±æ€§æ˜¯dataå’ŒrenderItemã€‚dataæ˜¯åˆ—è¡¨çš„æ•°æ®æºï¼Œè€ŒrenderItemåˆ™ä»æ•°æ®æºä¸­é€ä¸ªè§£ææ•°æ®ï¼Œç„¶åè¿”å›ä¸€ä¸ªè®¾å®šå¥½æ ¼å¼çš„ç»„ä»¶æ¥æ¸²æŸ“ã€‚<br>FlatListæ›´é€‚äºé•¿åˆ—è¡¨æ•°æ®ï¼Œä¸”å…ƒç´ ä¸ªæ•°å¯ä»¥å¢åˆ ã€‚å’ŒScrollViewä¸åŒçš„æ˜¯ï¼ŒFlatListå¹¶ä¸ç«‹å³æ¸²æŸ“æ‰€æœ‰å…ƒç´ ï¼Œè€Œæ˜¯ä¼˜å…ˆæ¸²æŸ“å±å¹•ä¸Šå¯è§çš„å…ƒç´ ã€‚</p><h3 id="SectionList"><a href="#SectionList" class="headerlink" title="SectionList"></a>SectionList</h3><p>å¦‚æœè¦æ¸²æŸ“çš„æ˜¯ä¸€ç»„éœ€è¦åˆ†ç»„çš„æ•°æ®ï¼Œä¹Ÿè®¸è¿˜å¸¦æœ‰åˆ†ç»„æ ‡ç­¾çš„ï¼Œé‚£ä¹ˆSectionListå°†æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><h3 id="TouchableOpacity"><a href="#TouchableOpacity" class="headerlink" title="TouchableOpacity"></a>TouchableOpacity</h3><p>æœ¬ç»„ä»¶ç”¨äºå°è£…è§†å›¾ï¼Œä½¿å…¶å¯ä»¥æ­£ç¡®å“åº”è§¦æ‘¸æ“ä½œã€‚å½“æŒ‰ä¸‹çš„æ—¶å€™ï¼Œå°è£…çš„è§†å›¾çš„ä¸é€æ˜åº¦ä¼šé™ä½ã€‚è¿™ä¸ªè¿‡ç¨‹å¹¶ä¸ä¼šçœŸæ­£æ”¹å˜è§†å›¾å±‚çº§ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹å¾ˆå®¹æ˜“æ·»åŠ åˆ°åº”ç”¨ä¸­è€Œä¸ä¼šå¸¦æ¥ä¸€äº›å¥‡æ€ªçš„å‰¯ä½œç”¨ã€‚<br>æ­¤ç»„ä»¶ä¸TouchableHighlightçš„åŒºåˆ«åœ¨äºå¹¶æ²¡æœ‰é¢å¤–çš„é¢œè‰²å˜åŒ–ï¼Œæ›´é€‚äºä¸€èˆ¬åœºæ™¯</p><h3 id="TouchableHighlight"><a href="#TouchableHighlight" class="headerlink" title="TouchableHighlight"></a>TouchableHighlight</h3><p><em>æ³¨æ„ï¼šTouchableHighlightåªæ”¯æŒä¸€ä¸ªå­èŠ‚ç‚¹<br>å¦‚æœä½ å¸Œæœ›åŒ…å«å¤šä¸ªå­ç»„ä»¶ï¼Œç”¨ä¸€ä¸ªViewæ¥åŒ…è£…å®ƒä»¬ã€‚</em></p><h3 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h3><p>ä¸€ä¸ªåŒ…è£…äº†å¹³å°çš„ScrollViewï¼ˆæ»šåŠ¨è§†å›¾ï¼‰çš„ç»„ä»¶ï¼ŒåŒæ—¶è¿˜é›†æˆäº†è§¦æ‘¸é”å®šçš„â€œå“åº”è€…â€ç³»ç»Ÿã€‚<br>ScrollViewå’ŒListView/FlatListåº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ<br>ScrollViewä¼šç®€å•ç²—æš´åœ°æŠŠæ‰€æœ‰å­å…ƒç´ ä¸€æ¬¡æ€§å…¨éƒ¨æ¸²æŸ“å‡ºæ¥ã€‚ListViewä¼šæƒ°æ€§æ¸²æŸ“å­å…ƒç´ ï¼Œåªåœ¨å®ƒä»¬å°†è¦å‡ºç°åœ¨å±å¹•ä¸­æ—¶å¼€å§‹æ¸²æŸ“ã€‚FlatListæ˜¯0.43ç‰ˆæœ¬å¼€å§‹æ–°å‡ºçš„æ”¹è¿›ç‰ˆçš„ListViewï¼Œæ€§èƒ½æ›´ä¼˜ã€‚</p><h4 id="horizontal-bool"><a href="#horizontal-bool" class="headerlink" title="horizontal bool"></a>horizontal bool</h4><p>å½“æ­¤å±æ€§ä¸ºtrueçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å­è§†å›¾ä¼šåœ¨æ°´å¹³æ–¹å‘ä¸Šæ’æˆä¸€è¡Œï¼Œè€Œä¸æ˜¯é»˜è®¤çš„åœ¨å‚ç›´æ–¹å‘ä¸Šæ’æˆä¸€åˆ—ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p><h4 id="pagingEnabled-bool"><a href="#pagingEnabled-bool" class="headerlink" title="pagingEnabled bool"></a>pagingEnabled bool</h4><p>å½“å€¼ä¸ºtrueæ—¶ï¼Œæ»šåŠ¨æ¡ä¼šåœåœ¨æ»šåŠ¨è§†å›¾çš„å°ºå¯¸çš„æ•´æ•°å€ä½ç½®ã€‚è¿™ä¸ªå¯ä»¥ç”¨åœ¨æ°´å¹³åˆ†é¡µä¸Šã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p><h4 id="showsHorizontalScrollIndicator-bool"><a href="#showsHorizontalScrollIndicator-bool" class="headerlink" title="showsHorizontalScrollIndicator bool"></a>showsHorizontalScrollIndicator bool</h4><p>å½“æ­¤å±æ€§ä¸ºtrueçš„æ—¶å€™ï¼Œæ˜¾ç¤ºä¸€ä¸ªæ°´å¹³æ–¹å‘çš„æ»šåŠ¨æ¡ã€‚</p><h3 id="Dimensions"><a href="#Dimensions" class="headerlink" title="Dimensions"></a>Dimensions</h3><p>æœ¬æ¨¡å—ç”¨äºè·å–è®¾å¤‡å±å¹•çš„å®½é«˜<br>ä¾‹å­ï¼švar {height, width} = Dimensions.get(â€˜windowâ€™);</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘åœ¨ç©React Nativeï¼Œè¯è¯´React Nativeçš„ç¯å¢ƒçœŸçš„çƒ‚å•Šï¼Œè«åå…¶å¦™å°±å´©äº†ä¸€æ¬¡ä¸€æ¬¡åˆä¸€æ¬¡ã€‚&lt;br&gt;åˆå­¦äº†ä¸€äº›ä¸œè¥¿ï¼Œåšä¸ªæ€»ç»“ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="React Native" scheme="http://yoursite.com/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>friendships</title>
    <link href="http://yoursite.com/2018/05/23/friendships/"/>
    <id>http://yoursite.com/2018/05/23/friendships/</id>
    <published>2018-05-23T04:03:10.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å‘ç°ä¸€ä¸ªå°æŠ€å·§ï¼ŒæŠŠè§†é¢‘å…ˆä¼ åˆ°æŠ–éŸ³æˆ–è€…å…¶ä»–å¹³å°ä¸Šå»ï¼Œå¹³å°åº”è¯¥ä¼šå¸®ä½ å‹ç¼©å¤„ç†ï¼Œç„¶åä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åˆ°CDNä¸Šï¼Œå°±ä¸ä¼šè¿™ä¹ˆå¤§äº†ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆã€‚<br></p><p>ä¹‹å‰è·Ÿç€æ½‡æ½‡æŒ‡å¼¹çš„è§†é¢‘ï¼Œå­¦äº†ä¸€ä¸‹æŠ–éŸ³ä¸Šæ¯”è¾ƒç«çš„friendshipï¼Œè¿˜æŒºæœ‰æ„æ€ï¼Œå°±æ”¾ä¸Šæ¥ï¼Œç©ä¸€ä¸‹ï¼Œå˜»å˜»å˜»å˜»ã€‚<br><a id="more"></a></p><div style="width:100%;"><br><div style="transform: rotate(-90deg);margin-left: 28%; width: 50%;margin-top: -125px;"><br><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"video":{"url":"https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/friendships.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><br><br></div><br></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‘ç°ä¸€ä¸ªå°æŠ€å·§ï¼ŒæŠŠè§†é¢‘å…ˆä¼ åˆ°æŠ–éŸ³æˆ–è€…å…¶ä»–å¹³å°ä¸Šå»ï¼Œå¹³å°åº”è¯¥ä¼šå¸®ä½ å‹ç¼©å¤„ç†ï¼Œç„¶åä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åˆ°CDNä¸Šï¼Œå°±ä¸ä¼šè¿™ä¹ˆå¤§äº†ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆã€‚&lt;br&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹å‰è·Ÿç€æ½‡æ½‡æŒ‡å¼¹çš„è§†é¢‘ï¼Œå­¦äº†ä¸€ä¸‹æŠ–éŸ³ä¸Šæ¯”è¾ƒç«çš„friendshipï¼Œè¿˜æŒºæœ‰æ„æ€ï¼Œå°±æ”¾ä¸Šæ¥ï¼Œç©ä¸€ä¸‹ï¼Œå˜»å˜»å˜»å˜»ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="æŒ‡å¼¹" scheme="http://yoursite.com/categories/%E6%8C%87%E5%BC%B9/"/>
    
    
      <category term="æŒ‡å¼¹" scheme="http://yoursite.com/tags/%E6%8C%87%E5%BC%B9/"/>
    
  </entry>
  
  <entry>
    <title>æµè¡Œçš„äº‘</title>
    <link href="http://yoursite.com/2018/05/20/%E6%B5%81%E8%A1%8C%E7%9A%84%E4%BA%91/"/>
    <id>http://yoursite.com/2018/05/20/æµè¡Œçš„äº‘/</id>
    <published>2018-05-20T08:41:37.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åˆåˆ°äº†å‘¨æœ«å•Šï¼Œæ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œä»Šå¤©çœ‹äº†çœ‹æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰‹ç—’å•Šï¼ŒæŠŠä¹‹å‰å­¦çš„æµè¡Œçš„äº‘å½•ä¸‹æ¥ï¼Œå¥½ä¹…æ²¡ç¢°å‰ä»–äº†å•Šã€‚</p><a id="more"></a><div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer2"),"theme":"#FADFA3","loop":true,"video":{"url":"https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/Cloud.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆåˆ°äº†å‘¨æœ«å•Šï¼Œæ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œä»Šå¤©çœ‹äº†çœ‹æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰‹ç—’å•Šï¼ŒæŠŠä¹‹å‰å­¦çš„æµè¡Œçš„äº‘å½•ä¸‹æ¥ï¼Œå¥½ä¹…æ²¡ç¢°å‰ä»–äº†å•Šã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æŒ‡å¼¹" scheme="http://yoursite.com/categories/%E6%8C%87%E5%BC%B9/"/>
    
    
      <category term="æŒ‡å¼¹" scheme="http://yoursite.com/tags/%E6%8C%87%E5%BC%B9/"/>
    
  </entry>
  
  <entry>
    <title>time travel</title>
    <link href="http://yoursite.com/2018/04/29/timetravel/"/>
    <id>http://yoursite.com/2018/04/29/timetravel/</id>
    <published>2018-04-29T12:50:28.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>å¦‚æœæœ‰ä¸€å¤©ï¼Œä¸å†æ•²ä»£ç ï¼Œå°±å»ä¸€å®¶å±±æ¸…æ°´ç§€çš„å°åŸå¸‚å¼€ä¸ªå°å‰ä»–åº—ã€‚</p></blockquote><a id="more"></a><p>å–œæ¬¢å²¸éƒ¨çœŸæ˜å°±æ˜¯ä»è¿™é¦–æ›²å­å¼€å§‹çš„ï¼Œå¤§å­¦æ—¶å…‰åŒ†åŒ†æµé€ï¼Œè™½ç„¶æœ‰ç‚¹åµï¼Œç¡®å®è®°å½•äº†å¤§å­¦ä¸€è§’ï¼Œæˆ‘çš„å®¤å‹ï¼Œæˆ‘çš„å‰ä»–ï¼Œæˆ‘çš„éŸ³å“ï¼Œè¿˜æœ‰é‚£äº›é—æ†¾å’Œæ†§æ†¬ã€‚<br>(å½•å¾—æ•ˆæœä¸å¥½)</p><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"theme":"#FADFA3","loop":true,"video":{"url":"https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/VID20180416232819.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å¦‚æœæœ‰ä¸€å¤©ï¼Œä¸å†æ•²ä»£ç ï¼Œå°±å»ä¸€å®¶å±±æ¸…æ°´ç§€çš„å°åŸå¸‚å¼€ä¸ªå°å‰ä»–åº—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="æŒ‡å¼¹" scheme="http://yoursite.com/categories/%E6%8C%87%E5%BC%B9/"/>
    
    
      <category term="æŒ‡å¼¹" scheme="http://yoursite.com/tags/%E6%8C%87%E5%BC%B9/"/>
    
  </entry>
  
  <entry>
    <title>ä»æºç çœ‹vueçš„lifecycle</title>
    <link href="http://yoursite.com/2018/04/29/Vue-lifecycle/"/>
    <id>http://yoursite.com/2018/04/29/Vue-lifecycle/</id>
    <published>2018-04-29T05:47:53.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>åˆåˆ°äº†å†™æ–‡ç« çš„deadlineï¼Œå…¶å®å·²ç»æ‹–äº†æœ‰æ®µæ—¶é—´äº†ï¼ŒèŠèŠVueçš„ç”Ÿå‘½å‘¨æœŸã€‚</p></blockquote><a id="more"></a><p>è¯ä¸å¤šè¯´ï¼Œå…ˆæ¥å¼ å›¾ã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/lifecycle.png" alt=""><br>ç†Ÿæ‚‰å§ï¼ æ²¡é”™ï¼Œè¿™å¼ å›¾æ¥è‡ªå®˜ç½‘ã€‚æˆ‘è®°å¾—ä¸€å¼€å§‹å­¦ä¹ Vueçš„æ—¶å€™ï¼Œçœ‹åˆ°è¿™å¼ å›¾ï¼Œå°±æ™•ï¼Œå•¥æ„æ€å•Šï¼Œä¸æ‡‚ã€‚<br>çŸ¥é“æœ€è¿‘ï¼Œå†çœ‹Vueçš„æºç çš„æ—¶å€™ï¼ˆçœ‹äº†æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œåˆ†æ¨¡å—è¿›è¡Œçš„ï¼‰ï¼Œäº§ç”Ÿäº†å¼ºçƒˆçš„å…±é¸£ã€‚</p><h3 id="é˜…è¯»æŠ€å·§"><a href="#é˜…è¯»æŠ€å·§" class="headerlink" title="é˜…è¯»æŠ€å·§"></a>é˜…è¯»æŠ€å·§</h3><p>è¿™æ˜¯é¢˜å¤–è¯ï¼Œå…³äºé˜…è¯»æºç ï¼Œä¹Ÿç®—æœ‰ç‚¹ç»éªŒäº†ï¼Œè®°å¾—ä¹‹å‰çœ‹Jqueryçš„æºç æ—¶ï¼Œæˆ‘æ“¦å˜9000+è¡Œï¼ˆå¾—å˜ï¼Œæˆ‘è¿˜æ˜¯æ­‡ç€å§ï¼‰ï¼Œä¹°äº†æœ¬ä¹¦ï¼Œã€ŠJqueryæŠ€æœ¯å†…å¹•ã€‹ï¼Œçœ‹äº†ç›®å½•æ‰çŸ¥é“ï¼Œå…¶å®æ¡†æ¶éƒ½æ˜¯æŒ‰æ¨¡å—å¼€å‘çš„ï¼Œè€Œjqueryå…ˆä»æ¶æ„å¼€å§‹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(window, undefined) &#123;</span><br><span class="line">    var  jQuery = <span class="keyword">function</span>(selector, context) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">return</span> new jQuery.fn.init(selector, context, rootjQuery);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    jQuery.fn = jQuery.prototype = &#123;</span><br><span class="line"></span><br><span class="line">        init: <span class="keyword">function</span>(selector, context, rootjQuery) &#123;</span><br><span class="line">            // ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    jQuery.fn.init.prototype = jQuery.fn;</span><br><span class="line"></span><br><span class="line">&#125;)(window);</span><br></pre></td></tr></table></figure></p><p>ç„¶åç»“åˆä¹¦ç±ï¼Œæˆ–è€…ç›´æ¥çœ‹æºç ï¼ˆå¤´æ™•ï¼‰ï¼Œå¯ä»¥å€ŸåŠ©Webstormç¼–è¾‘å™¨çš„ctrl+é¼ æ ‡å·¦é”®ï¼Œè¿›è¡Œå‡½æ•°è·³è½¬ï¼Œä¸€å®šè¦å…ˆæŠŠæŸäº›å‡½æ•°ç¼©è¿›èµ·æ¥ï¼Œä¾¿äºé˜…è¯»ï¼Œä¸ªäººè®¤ä¸ºï¼Œå¯ä»¥å…ˆé€‚å½“äº†è§£å®ƒçš„ç§æœ‰å‡½æ•°ï¼Œæ¯”å¦‚pushStackï¼ŒmakeArrayï¼Œmerageç­‰æ–¹æ³•ï¼Œå› ä¸ºjqueryæš´éœ²å‡ºçš„apiï¼Œå…¶å®ç”¨åˆ°äº†å¾ˆå¤šè¿™æ ·çš„æ–¹æ³•ã€‚</p><p>è€ŒVueå’Œreactè¿™ç±»æ¡†æ¶ï¼Œå»ºè®®å»é˜…è¯»å®ƒçš„çœŸæ­£æºç è€Œä¸æ˜¯å‹ç¼©åçš„ï¼Œå¯ä»¥å†node_modulesé‡Œæ‰¾åˆ°ï¼ŒVueçš„ç»“æ„æ˜¯è¿™æ ·çš„ã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/VueYM.png" alt=""><br>è€Œå…¥å£æ–‡ä»¶æ˜¯ core/index.js</p><h3 id="æ­£æ–‡å¼€å§‹"><a href="#æ­£æ–‡å¼€å§‹" class="headerlink" title="æ­£æ–‡å¼€å§‹"></a>æ­£æ–‡å¼€å§‹</h3><p>core/index.jsæºç å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//Vueçš„æ ¸å¿ƒæ–¹æ³•</span><br><span class="line">import Vue from <span class="string">'./instance/index'</span></span><br><span class="line">//åˆå§‹åŒ–å…¨å±€API</span><br><span class="line">import &#123; initGlobalAPI &#125; from <span class="string">'./global-api/index'</span></span><br><span class="line">//è·å–å¸ƒå°”å€¼å˜é‡åˆ¤æ–­æ˜¯ä¸æ˜¯SSR</span><br><span class="line">import &#123; isServerRendering &#125; from <span class="string">'core/util/env'</span></span><br><span class="line">// åˆå§‹åŒ–å…¨å±€å˜é‡</span><br><span class="line">initGlobalAPI(Vue)</span><br><span class="line">// ä¸ºVueåŸå‹å®šä¹‰å±æ€§<span class="variable">$isServer</span></span><br><span class="line">Object.defineProperty(Vue.prototype, <span class="string">'$isServer'</span>, &#123;</span><br><span class="line">    get: isServerRendering</span><br><span class="line">&#125;)</span><br><span class="line">// ä¸ºVueåŸå‹å®šä¹‰å±æ€§<span class="variable">$ssrContext</span></span><br><span class="line">Object.defineProperty(Vue.prototype, <span class="string">'$ssrContext'</span>, &#123;</span><br><span class="line">    <span class="function"><span class="title">get</span></span> () &#123;</span><br><span class="line">        /* istanbul ignore next */</span><br><span class="line">        <span class="built_in">return</span> this.<span class="variable">$vnode</span> &amp;&amp; this.<span class="variable">$vnode</span>.ssrContext</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">Vue.version = <span class="string">'__VERSION__'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default Vue</span><br></pre></td></tr></table></figure><p>emmmmï¼Œæ„Ÿè§‰è¢«æ¬ºéª—äº†ï¼Œå¥½åƒå•¥éƒ½æ²¡æœ‰çš„æ ·å­ã€‚äºæ˜¯Ctrl+é¼ æ ‡å·¦é”®ç‚¹å‡»  â€˜./instance/indexâ€™,(å‡­ç›´è§‰ï¼Œè¿™é‡Œåº”è¯¥æœ‰ä¸œè¥¿)<br><br><br>./instance/index<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import &#123; initMixin &#125; from <span class="string">'./init'</span></span><br><span class="line">import &#123; stateMixin &#125; from <span class="string">'./state'</span></span><br><span class="line">import &#123; renderMixin &#125; from <span class="string">'./render'</span></span><br><span class="line">import &#123; eventsMixin &#125; from <span class="string">'./events'</span></span><br><span class="line">import &#123; lifecycleMixin &#125; from <span class="string">'./lifecycle'</span></span><br><span class="line">import &#123; warn &#125; from <span class="string">'../util/index'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> Vue (options) &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp;</span><br><span class="line">    !(this instanceof Vue)</span><br><span class="line">  ) &#123;</span><br><span class="line">    warn(<span class="string">'Vue is a constructor and should be called with the `new` keyword'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  this._init(options)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ä¸ºVueçš„åŸå‹æ‰©å±•_initæ–¹æ³•</span><br><span class="line">initMixin(Vue)</span><br><span class="line"></span><br><span class="line">//åˆå§‹åŒ–<span class="variable">$data</span> <span class="variable">$props</span> <span class="variable">$set</span> <span class="variable">$delete</span>ç­‰</span><br><span class="line">stateMixin(Vue)</span><br><span class="line"></span><br><span class="line">//åˆå§‹åŒ–<span class="variable">$on</span> <span class="variable">$once</span> <span class="variable">$off</span> <span class="variable">$emit</span>ç­‰å‡½æ•°</span><br><span class="line">eventsMixin(Vue)</span><br><span class="line"></span><br><span class="line">//åˆå§‹åŒ–_update <span class="variable">$forceUpdate</span> <span class="variable">$destroy</span>å‡½æ•°</span><br><span class="line">lifecycleMixin(Vue)</span><br><span class="line"></span><br><span class="line">//åˆå§‹åŒ– <span class="variable">$nextTick</span> _renderå‡½æ•°</span><br><span class="line">renderMixin(Vue)</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default Vue</span><br></pre></td></tr></table></figure></p><p>å½“Vueè¢«å®ä¾‹åŒ–æ—¶å¥½åƒåªæ‰§è¡Œäº†_initæ–¹æ³•ï¼Œå¹¶ä¸ºVueçš„åŸå‹æ‰©å±•äº†ä¸€äº›æ–¹æ³•ï¼ŒOKè¿›_initå»çœ‹çœ‹</p><p>ç‚¹å‡»å»ä¹‹åå‘ç°ä»–æ˜¯åœ¨instanceçš„ç›®å½•ä¸‹ï¼Œè€Œå‡½æ•°_initæ˜¯åœ¨ initMixiné‡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="keyword">function</span> initMixin (Vue: Class&lt;Component&gt;) &#123;</span><br><span class="line">  Vue.prototype._init = <span class="keyword">function</span> (options?: Object) &#123;</span><br></pre></td></tr></table></figure><p>initMixinå°±æ˜¯å†å‰æ–‡æåˆ°çš„./instance/indexé‡Œè¢«è°ƒç”¨çš„ã€‚<br>å…¶å®æ¥ä¸‹æ¥æ‰å¼€å§‹å’Œé‚£å¼ å›¾æœ‰å…³ç³»ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype._init = <span class="keyword">function</span> (options?: Object) &#123;</span><br><span class="line">    const vm: Component = this</span><br><span class="line">    // a uid</span><br><span class="line">    vm._uid = uid++</span><br><span class="line"></span><br><span class="line">    <span class="built_in">let</span> startTag, endTag</span><br><span class="line">    /* istanbul ignore <span class="keyword">if</span> */</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; config.performance &amp;&amp; mark) &#123;</span><br><span class="line">      startTag = `vue-perf-start:<span class="variable">$&#123;vm._uid&#125;</span>`</span><br><span class="line">      endTag = `vue-perf-end:<span class="variable">$&#123;vm._uid&#125;</span>`</span><br><span class="line">      mark(startTag)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        // å¦‚æœæ˜¯Vueçš„å®ä¾‹ï¼Œåˆ™ä¸éœ€è¦è¢«observe</span><br><span class="line">    vm._isVue = <span class="literal">true</span></span><br><span class="line">        // ç¬¬ä¸€æ­¥ï¼š optionså‚æ•°çš„å¤„ç†</span><br><span class="line">    <span class="keyword">if</span> (options &amp;&amp; options._isComponent) &#123;</span><br><span class="line">      // optimize internal component instantiation</span><br><span class="line">      // since dynamic options merging is pretty slow, and none of the</span><br><span class="line">      // internal component options needs special treatment.</span><br><span class="line">      initInternalComponent(vm, options)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      vm.<span class="variable">$options</span> = mergeOptions(</span><br><span class="line">        resolveConstructorOptions(vm.constructor),</span><br><span class="line">        options || &#123;&#125;,</span><br><span class="line">        vm</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">        // ç¬¬äºŒæ­¥ï¼š renderProxy</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">      initProxy(vm)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      vm._renderProxy = vm</span><br><span class="line">    &#125;</span><br><span class="line">    // expose real self</span><br><span class="line">    vm._self = vm</span><br><span class="line">        // ç¬¬ä¸‰æ­¥ï¼š vmçš„ç”Ÿå‘½å‘¨æœŸç›¸å…³å˜é‡åˆå§‹åŒ–</span><br><span class="line">    initLifecycle(vm)</span><br><span class="line">        // ç¬¬å››æ­¥ï¼š vmçš„äº‹ä»¶ç›‘å¬ï¼ˆv-onï¼‰åˆå§‹åŒ–</span><br><span class="line">    initEvents(vm)</span><br><span class="line">    initRender(vm)</span><br><span class="line">    callHook(vm, <span class="string">'beforeCreate'</span>)</span><br><span class="line">    initInjections(vm) // resolve injections before data/props</span><br><span class="line">        // ç¬¬äº”æ­¥ï¼š vmçš„çŠ¶æ€åˆå§‹åŒ–ï¼Œprop/data/computed/method/watchéƒ½åœ¨è¿™é‡Œå®Œæˆåˆå§‹åŒ–ï¼Œå› æ­¤ä¹Ÿæ˜¯Vueå®ä¾‹createçš„å…³é”®ã€‚</span><br><span class="line">    initState(vm)</span><br><span class="line">    initProvide(vm) // resolve provide after data/props</span><br><span class="line">    callHook(vm, <span class="string">'created'</span>)</span><br><span class="line"></span><br><span class="line">    /* istanbul ignore <span class="keyword">if</span> */</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; config.performance &amp;&amp; mark) &#123;</span><br><span class="line">      vm._name = formatComponentName(vm, <span class="literal">false</span>)</span><br><span class="line">      mark(endTag)</span><br><span class="line">      measure(`vue <span class="variable">$&#123;vm._name&#125;</span> init`, startTag, endTag)</span><br><span class="line">    &#125;</span><br><span class="line">        // ç¬¬å…­æ­¥ï¼šrender &amp; mount</span><br><span class="line">    <span class="keyword">if</span> (vm.<span class="variable">$options</span>.el) &#123;</span><br><span class="line">      vm.<span class="variable">$mount</span>(vm.<span class="variable">$options</span>.el)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸­åšäº†æ³¨é‡Šï¼Œ</p><ul><li>ç¬¬ä¸€æ­¥å¯¹optionçš„mergeå¤„ç†æ˜¯ä¸ºäº†æŠŠä¸šåŠ¡é€»è¾‘ä»¥åŠç»„ä»¶çš„ä¸€äº›ç‰¹æ€§å…¨éƒ½æ”¾åˆ°äº†vm.$optionsä¸­ï¼Œå†é‡Œé¢å¤æ‚çš„é€»è¾‘å…ˆä¸çœ‹ï¼ˆå®¹æ˜“å¤´æ™•ï¼‰ã€‚</li><li>ç¬¬äºŒæ­¥renderProxyï¼Œè¿™æ˜¯ä¸ºåæœŸrenderåšå‡†å¤‡çš„ï¼Œä½œç”¨æ˜¯åœ¨renderä¸­å°†thisæŒ‡å‘vm._renderProxyã€‚</li><li>ç¬¬ä¸‰æ­¥ï¼š vmçš„ç”Ÿå‘½å‘¨æœŸç›¸å…³å˜é‡åˆå§‹åŒ–ï¼Œä¸»è¦æ˜¯å»ºç«‹ç»„å»ºçš„çˆ¶å­å…³ç³»è¿˜æœ‰åˆå§‹åŒ–ç»„ä»¶çš„ç›¸å…³å±æ€§ã€‚è¿™ä¸ªæ—¶å€™å·²ç»å¯ä»¥å¼€å§‹çœ‹é‚£å¼ å›¾äº†ã€‚</li><li>ç¬¬å››æ­¥  vmçš„äº‹ä»¶ç›‘å¬ï¼ˆv-onï¼‰åˆå§‹åŒ–ä»¥åŠå°†$attrs,$listenersè¿›è¡Œå“åº”å¼å¤„ç†ï¼Œç„¶åè°ƒç”¨å‡ºå‘beforeCreatedé’©å­é‡Œçš„å‡½æ•°</li><li>ç¬¬äº”æ­¥ å°†prop/data/computed/method/watchéƒ½åœ¨è¿™é‡Œå®Œæˆåˆå§‹åŒ–ä»¥åŠå“åº”å¼å¤„ç†ã€‚</li></ul><p>å› æ­¤ï¼Œè‡³å°‘åœ¨createdæ—¶æ‰èƒ½æ‹¿åˆ°dataç­‰é‡Œé¢çš„å€¼ã€‚<br></p><p>å½“æ•°æ®éƒ½å“åº”åŒ–ï¼Œè§¦å‘createdä¹‹åï¼Œåˆ¤æ–­vm.$options.elæ˜¯å¦å­˜åœ¨ï¼Œç„¶åé€‰æ‹©ç¼–è¯‘æ–¹å¼ã€‚</p><p>ç¼–è¯‘æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><ul><li>ç¼–è¯‘å™¨:å€ŸåŠ©è„šæ‰‹æ¶ï¼Œå°†templateçš„å†…å®¹ï¼Œé€šè¿‡parseï¼Œoptimizeï¼Œgenerateï¼Œç¼–è¯‘æˆASTè¿›è€Œç¼–è¯‘æˆrender functionå­—ç¬¦ä¸²ã€‚</li></ul><p>ç„¶è€Œï¼Œå®Œæ•´çš„ç¼–è¯‘è¿˜æœ‰ä¸€ä¸‹è¿‡ç¨‹ï¼šrender functionå­—ç¬¦ä¸²é€šè¿‡è°ƒç”¨renderæ–¹æ³•æ¥ä¸€æ­¥æ­¥è§£ææˆVNodeï¼Œæœ€åé€šè¿‡patchå‡½æ•°è½¬æ¢æˆçœŸå®çš„DOMèŠ‚ç‚¹ã€‚</p><ul><li>è¿è¡Œæ—¶ï¼šå»æ‰ç¼–è¯‘å™¨çš„è¿‡ç¨‹ï¼šrenderå‡½æ•° â†’ vnode â†’ çœŸå®domèŠ‚ç‚¹ã€‚<br>ï¼ˆæ‰“æŠŠç‹è€…ï¼Œå›å¤´å†å†™ï¼Œæœ‰ç‚¹å¤´ç–¼ï¼‰<br>loadingâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦..<br>ç‹è€…æ‰“å®Œäº†ï¼Œæ¥ç€å†™</li></ul><h2 id="beforeMount"><a href="#beforeMount" class="headerlink" title="beforeMount"></a>beforeMount</h2><p>è§£é‡Šä¸€ä¸‹å›¾ä¸­åœ¨createdå’ŒbeforeMountä¹‹é—´çš„éƒ¨åˆ†ã€‚<br>ç¬¬ä¸€ä¸ªåˆ†æ”¯ï¼š<br>å¦‚æœæˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰æŒ‡å®šelæŒ‚è½½ç‚¹ï¼Œé‚£ä¹ˆç”Ÿå‘½å‘¨æœŸä¼šæš‚æ—¶åœæ­¢ï¼Œåªæ‰§è¡Œåˆ°createdé˜¶æ®µï¼Œå½“ç„¶å¯ä»¥æ‰‹åŠ¨æ‰§è¡Œvm.$mount(el)ï¼Œä½¿æš‚åœçš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œä¸‹å»ã€‚<br><br></p><p>ç¬¬äºŒä¸ªåˆ†æ”¯ï¼š<br>1.å¦‚æœVueå®ä¾‹å¯¹è±¡ä¸­æœ‰templateå‚æ•°é€‰é¡¹ï¼Œåˆ™å°†å…¶ä½œä¸ºæ¨¡æ¿ç¼–è¯‘æˆrenderå‡½æ•°<br>2.å¦‚æœæ²¡æœ‰templateå‚æ•°é€‰é¡¹ï¼Œåˆ™å°†å¤–éƒ¨çš„HTMLä½œä¸ºæ¨¡æ¿ç¼–è¯‘ï¼ˆtemplateï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œtemplateå‚æ•°é€‰é¡¹çš„ä¼˜å…ˆçº§è¦æ¯”å¤–éƒ¨çš„HTMLé«˜<br>3.å¦‚æœ1,2æ¡ä»¶éƒ½ä¸å…·å¤‡ï¼Œåˆ™æŠ¥é”™</p><p>æ¥ç€å°±è°ƒç”¨beforeMountç”Ÿå‘½å‘¨æœŸé’©å­<br><br><br>core/instance/lifecycle.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="keyword">function</span> mountComponent (</span><br><span class="line">  vm: Component,</span><br><span class="line">  el: ?Element,</span><br><span class="line">  hydrating?: boolean</span><br><span class="line">): Component &#123;</span><br><span class="line">  vm.<span class="variable">$el</span> = el</span><br><span class="line">  <span class="keyword">if</span> (!vm.<span class="variable">$options</span>.render) &#123;</span><br><span class="line">    vm.<span class="variable">$options</span>.render = createEmptyVNode</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">      /* istanbul ignore <span class="keyword">if</span> */</span><br><span class="line">      <span class="keyword">if</span> ((vm.<span class="variable">$options</span>.template &amp;&amp; vm.<span class="variable">$options</span>.template.charAt(0) !== <span class="string">'#'</span>) ||</span><br><span class="line">        vm.<span class="variable">$options</span>.el || el) &#123;</span><br><span class="line">        warn(</span><br><span class="line">          <span class="string">'You are using the runtime-only build of Vue where the template '</span> +</span><br><span class="line">          <span class="string">'compiler is not available. Either pre-compile the templates into '</span> +</span><br><span class="line">          <span class="string">'render functions, or use the compiler-included build.'</span>,</span><br><span class="line">          vm</span><br><span class="line">        )</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        warn(</span><br><span class="line">          <span class="string">'Failed to mount component: template or render function not defined.'</span>,</span><br><span class="line">          vm</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  callHook(vm, <span class="string">'beforeMount'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">let</span> updateComponent</span><br><span class="line">  /* istanbul ignore <span class="keyword">if</span> */</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; config.performance &amp;&amp; mark) &#123;</span><br><span class="line">    updateComponent = () =&gt; &#123;</span><br><span class="line">      const name = vm._name</span><br><span class="line">      const id = vm._uid</span><br><span class="line">      const startTag = `vue-perf-start:<span class="variable">$&#123;id&#125;</span>`</span><br><span class="line">      const endTag = `vue-perf-end:<span class="variable">$&#123;id&#125;</span>`</span><br><span class="line"></span><br><span class="line">      mark(startTag)</span><br><span class="line">      const vnode = vm._render()</span><br><span class="line">      mark(endTag)</span><br><span class="line">      measure(`vue <span class="variable">$&#123;name&#125;</span> render`, startTag, endTag)</span><br><span class="line"></span><br><span class="line">      mark(startTag)</span><br><span class="line">      vm._update(vnode, hydrating)</span><br><span class="line">      mark(endTag)</span><br><span class="line">      measure(`vue <span class="variable">$&#123;name&#125;</span> patch`, startTag, endTag)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    updateComponent = () =&gt; &#123;</span><br><span class="line">      vm._update(vm._render(), hydrating)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // we <span class="built_in">set</span> this to vm._watcher inside the watcher<span class="string">'s constructor</span></span><br><span class="line"><span class="string">  // since the watcher'</span>s initial patch may call <span class="variable">$forceUpdate</span> (e.g. inside child</span><br><span class="line">  // component<span class="string">'s mounted hook), which relies on vm._watcher being already defined</span></span><br><span class="line"><span class="string">  new Watcher(vm, updateComponent, noop, null, true /* isRenderWatcher */)</span></span><br><span class="line"><span class="string">  hydrating = false</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // manually mounted instance, call mounted on self</span></span><br><span class="line"><span class="string">  // mounted is called for render-created child components in its inserted hook</span></span><br><span class="line"><span class="string">  if (vm.$vnode == null) &#123;</span></span><br><span class="line"><span class="string">    vm._isMounted = true</span></span><br><span class="line"><span class="string">    callHook(vm, '</span>mounted<span class="string">')</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  return vm</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åˆåˆ°äº†å†™æ–‡ç« çš„deadlineï¼Œå…¶å®å·²ç»æ‹–äº†æœ‰æ®µæ—¶é—´äº†ï¼ŒèŠèŠVueçš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>httpå­¦ä¹ æ€»ç»“</title>
    <link href="http://yoursite.com/2018/04/19/http/"/>
    <id>http://yoursite.com/2018/04/19/http/</id>
    <published>2018-04-19T05:30:30.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>åšä¸€ä¸‹httpæ€»ç»“å§ï¼ï¼ï¼</p></blockquote><a id="more"></a><h1 id="HTTPç®€ä»‹"><a href="#HTTPç®€ä»‹" class="headerlink" title="HTTPç®€ä»‹"></a>HTTPç®€ä»‹</h1><p>HTTPæ˜¯Hyper Text Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç¼©å†™ã€‚å®ƒçš„å‘å±•æ˜¯ä¸‡ç»´ç½‘åä¼šï¼ˆWorld Wide Web Consortiumï¼‰å’ŒInternetå·¥ä½œå°ç»„IETFï¼ˆInternet Engineering Task Forceï¼‰åˆä½œçš„ç»“æœï¼Œï¼ˆä»–ä»¬ï¼‰æœ€ç»ˆå‘å¸ƒäº†ä¸€ç³»åˆ—çš„RFCï¼ŒRFC 1945å®šä¹‰äº†HTTP/1.0ç‰ˆæœ¬ã€‚å…¶ä¸­æœ€è‘—åçš„å°±æ˜¯RFC 2616ã€‚RFC 2616å®šä¹‰äº†ä»Šå¤©æ™®éä½¿ç”¨çš„ä¸€ä¸ªç‰ˆæœ¬â€”-HTTP 1.1ã€‚</p><p>HTTPåè®®ï¼ˆHyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ç”¨äºä»WWWæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚å®ƒå¯ä»¥ä½¿æµè§ˆå™¨æ›´åŠ é«˜æ•ˆï¼Œä½¿ç½‘ç»œä¼ è¾“å‡å°‘ã€‚å®ƒä¸ä»…ä¿è¯è®¡ç®—æœºæ­£ç¡®å¿«é€Ÿåœ°ä¼ è¾“è¶…æ–‡æœ¬æ–‡æ¡£ï¼Œè¿˜ç¡®å®šä¼ è¾“æ–‡æ¡£ä¸­çš„å“ªä¸€éƒ¨åˆ†ï¼Œä»¥åŠå“ªéƒ¨åˆ†å†…å®¹é¦–å…ˆæ˜¾ç¤º(å¦‚æ–‡æœ¬å…ˆäºå›¾å½¢)ç­‰ã€‚</p><p>HTTPæ˜¯ä¸€ä¸ªåº”ç”¨å±‚åè®®ï¼Œç”±è¯·æ±‚å’Œå“åº”æ„æˆï¼Œæ˜¯ä¸€ä¸ªæ ‡å‡†çš„å®¢æˆ·ç«¯æœåŠ¡å™¨æ¨¡å‹ã€‚HTTPæ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ã€‚ å¯¹äºè¿™ç§æ— çŠ¶æ€çš„é“¾æ¥ä¹Ÿæ˜¯æœ‰ä¸€äº›è§£å†³çš„æ–¹æ³•çš„ï¼š</p><ul><li>å¯¹äºä¿æŒç™»å½•çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡cookieæŠ€æœ¯ï¼Œä¸»è¦é€šè¿‡å†™å…¥sessionIDæ¥å®ç°çš„ã€‚</li><li>åœ¨HTTP1.1ç‰ˆæœ¬å¼•å…¥äº†keep-aliveæ–¹æ³•ï¼Œåªè¦ä»»æ„ä¸€æ®µæ²¡æœ‰æ˜ç¡®è¡¨ç¤ºå‡ºæ–­å¼€è¿æ¥ï¼Œåˆ™ä¿æŒTCPè¿æ¥çŠ¶æ€ï¼Œåœ¨è¯·æ±‚é¦–éƒ¨å­—æ®µä¸­çš„Connection: keep-aliveå³ä¸ºè¡¨æ˜ä½¿ç”¨äº†æŒä¹…è¿æ¥ã€‚</li><li>Websocketï¼Œè¿™ä¸ªç©æ„å„¿æ˜¯åŸºäºHTTPçš„ï¼Œå°±æ˜¯å€Ÿç”¨äº†HTTP requestå»ºç«‹é•¿é“¾æ¥ï¼Œä¹‹åçš„äº¤æ¢æ•°æ®éƒ½ä¸éœ€è¦å†å‘ HTTP requestäº†ï¼Œä½¿å¾—è¿™ä¸ªé•¿è¿æ¥å˜æˆäº†ä¸€ä¸ªçœŸ.é•¿è¿æ¥ã€‚</li><li>ç®¡çº¿åŒ–ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä¸ä¼šç­‰å¾…ä¸€ä¸ªè¯·æ±‚å¾—åˆ°å“åº”ä¹‹åï¼Œæ‰å»å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œå½“è¯·æ±‚æ•°è¶Šå¤šï¼Œå®ƒçš„é€Ÿåº¦ä¹‹å¿«è¡¨ç°çš„è¶Šæ˜æ˜¾ã€‚</li></ul><p><br><br><br><br></p><p>ä¸€æ¬¡httpé“¾æ¥çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŸºæœ¬åŒ…æ‹¬è¯·æ±‚å’Œå“åº”ã€‚</p><h1 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h1><p>ä¸€ä¸ªHTTPè¯·æ±‚æŠ¥æ–‡ç”±è¯·æ±‚è¡Œï¼ˆrequest lineï¼‰ã€è¯·æ±‚å¤´éƒ¨ï¼ˆheaderï¼‰ã€ç©ºè¡Œå’Œè¯·æ±‚æ•°æ®4ä¸ªéƒ¨åˆ†ç»„æˆã€‚</p><h2 id="è¯·æ±‚è¡Œ"><a href="#è¯·æ±‚è¡Œ" class="headerlink" title="è¯·æ±‚è¡Œ"></a>è¯·æ±‚è¡Œ</h2><p>è¯·æ±‚è¡Œåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šè¯·æ±‚æ–¹æ³•ã€è¯·æ±‚åœ°å€å’Œåè®®ç‰ˆæœ¬.</p><h3 id="è¯·æ±‚æ–¹æ³•"><a href="#è¯·æ±‚æ–¹æ³•" class="headerlink" title="è¯·æ±‚æ–¹æ³•"></a>è¯·æ±‚æ–¹æ³•</h3><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>GET</td><td>ä»æœåŠ¡ç«¯è·å–èµ„æº</td></tr><tr><td>POST</td><td>ç”¨æ¥ä¼ è¾“å®ä½“çš„ä¸»é¢˜</td></tr><tr><td>HEAD</td><td>è·å¾—æŠ¥æ–‡é¦–éƒ¨ï¼Œä¸€èˆ¬ç”¨æ¥ç¡®è®¤URIçš„æœ‰æ•ˆæ€§å’Œèµ„æºæ›´æ–°çš„æ—¥æœŸæ—¶é—´ç­‰</td></tr><tr><td>OPTIONS</td><td>è¯¢é—®æ”¯æŒçš„æ–¹æ³•</td></tr><tr><td>PUT</td><td>ä¼ è¾“æ–‡ä»¶ï¼Œè¦æ±‚åœ¨è¯·æ±‚æŠ¥æ–‡çš„ä¸»ä½“ä¸­åŒ…å«æ–‡ä»¶å†…å®¹ï¼Œç„¶åä¿å­˜åœ¨è¯·æ±‚URIçš„ä¸»é¢˜ä½ç½®ï¼ˆé‰´äºå®‰å…¨é—®é¢˜ä¸€èˆ¬ä¸ä½¿ç”¨ï¼‰</td></tr><tr><td>DELETE</td><td>æŒ‰è¯·æ±‚URIåˆ é™¤æŒ‡å®šæ–‡ä»¶</td></tr><tr><td>TRACE</td><td>è¿½è¸ªè·¯å¾„ï¼Œæ˜“å¼•å‘XSTï¼ˆè·¨ç«™æ”»å‡»ï¼‰ï¼Œä¸å¸¸ç”¨</td></tr></tbody></table><h3 id="è¯·æ±‚åœ°å€"><a href="#è¯·æ±‚åœ°å€" class="headerlink" title="è¯·æ±‚åœ°å€"></a>è¯·æ±‚åœ°å€</h3><p>URLï¼šç»Ÿä¸€èµ„æºå®šä½ç¬¦ ç»„æˆåŒ…æ‹¬åè®®ã€åŸŸå/ä¸»æœºã€ç«¯å£å·ã€è·¯å¾„ã€å‚æ•°å•¥çš„ã€‚</p><p>è¯´ä¸€ä¸‹URLå’ŒURIçš„åŒºåˆ«ï¼š URIæ˜¯Uniform Resource Identifierçš„ç¼©å†™ï¼Œå°±æ˜¯ç”±æŸä¸ªåè®®æ–¹æ¡ˆè¡¨ç¤ºçš„èµ„æºçš„å®šä½æ ‡è¯†ç¬¦ï¼ˆå³åè®®ç±»å‹çš„åç§°ï¼‰ã€‚ URIç”¨å­—ç¬¦ä¸²æ ‡è¯†æŸä¸€äº’è”ç½‘èµ„æºï¼Œè€ŒURLè¡¨ç¤ºèµ„æºçš„åœ°æ–¹ï¼Œæ‰€ä»¥URLæ˜¯URIçš„å­é›†ã€‚</p><h3 id="åè®®ç‰ˆæœ¬"><a href="#åè®®ç‰ˆæœ¬" class="headerlink" title="åè®®ç‰ˆæœ¬"></a>åè®®ç‰ˆæœ¬</h3><p>å¸¸ç”¨çš„æœ‰HTTP1.0å’ŒHTTP1.1ï¼Œè²Œä¼¼HTTP2.0åº”ç”¨è¿˜å¾ˆå°‘ã€‚æ˜¨å¤©çˆ±å¥‡è‰ºç¬”è¯•æˆ‘è®°å¾—æœ‰ä¸€é“é€‰æ‹©é¢˜é—®HTTP2.0æœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚æŸ¥äº†èµ„æ–™å¤§æ¦‚å¦‚ä¸‹ï¼š</p><ul><li>å¤šè·¯å¤ç”¨<br><br>2.0æ–°å¢äº†ä¸€ä¸ªäºŒè¿›åˆ¶åˆ†å¸§å±‚çš„ä¸œè¥¿ï¼Œåœ¨äºŒè¿›åˆ¶åˆ†å¸§å±‚ä¸Šï¼Œ HTTP 2.0 ä¼šå°†æ‰€æœ‰ä¼ è¾“çš„ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§,å¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼çš„ç¼–ç  ï¼Œå…¶ä¸­HTTP1.xçš„é¦–éƒ¨ä¿¡æ¯ä¼šè¢«å°è£…åˆ°Headerså¸§ï¼Œè€Œæˆ‘ä»¬çš„request bodyåˆ™å°è£…åˆ°Dataå¸§é‡Œé¢ã€‚</li><li>å¤´éƒ¨å‹ç¼©<br><br>å½“å®¢æˆ·ç«¯å‘åŒä¸€ä¸ªæœåŠ¡å™¨è¯·æ±‚å¾ˆå¤šä¸œè¥¿çœ‹ä¸Šå»äº§ä¸å¤šçš„ï¼Œä¼šé‡‡ç”¨å‹ç¼©æŠ€æœ¯å¤„ç†è¿™äº›ç›¸ä¼¼çš„ä¿¡æ¯ã€‚</li><li>éšæ—¶å¤ä½<br><br>HTTP1.1ä¸€ä¸ªç¼ºç‚¹æ˜¯å½“HTTPä¿¡æ¯æœ‰ä¸€å®šé•¿åº¦å¤§å°æ•°æ®ä¼ è¾“æ—¶ï¼Œä½ ä¸èƒ½æ–¹ä¾¿åœ°éšæ—¶åœæ­¢å®ƒï¼Œä¸­æ–­TCPè¿æ¥çš„ä»£ä»·æ˜¯æ˜‚è´µçš„ã€‚ä½¿ç”¨HTTP2çš„RST_STREAMå°†èƒ½æ–¹ä¾¿åœæ­¢ä¸€ä¸ªä¿¡æ¯ä¼ è¾“ï¼Œå¯åŠ¨æ–°çš„ä¿¡æ¯ï¼Œåœ¨ä¸ä¸­æ–­è¿æ¥çš„æƒ…å†µä¸‹æé«˜å¸¦å®½åˆ©ç”¨æ•ˆç‡ã€‚</li><li>æœåŠ¡å™¨ç«¯æ¨æµ: Server Push<br><br>å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªèµ„æºXï¼ŒæœåŠ¡å™¨ç«¯åˆ¤æ–­ä¹Ÿè®¸å®¢æˆ·ç«¯è¿˜éœ€è¦èµ„æºZï¼Œåœ¨æ— éœ€äº‹å…ˆè¯¢é—®å®¢æˆ·ç«¯æƒ…å†µä¸‹å°†èµ„æºZæ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ¥å—åˆ°åï¼Œå¯ä»¥ç¼“å­˜èµ·æ¥ä»¥å¤‡åç”¨ã€‚</li><li>ä¼˜å…ˆæƒå’Œä¾èµ–<br><br>æ¯ä¸ªæµéƒ½æœ‰è‡ªå·±çš„ä¼˜å…ˆçº§åˆ«ï¼Œä¼šè¡¨æ˜å“ªä¸ªæµæ˜¯æœ€é‡è¦çš„ï¼Œå®¢æˆ·ç«¯ä¼šæŒ‡å®šå“ªä¸ªæµæ˜¯æœ€é‡è¦çš„ï¼Œæœ‰ä¸€äº›ä¾èµ–å‚æ•°ï¼Œè¿™æ ·ä¸€ä¸ªæµå¯ä»¥ä¾èµ–å¦å¤–ä¸€ä¸ªæµã€‚ä¼˜å…ˆçº§åˆ«å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ”¹å˜ï¼Œå½“ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶ï¼Œå¯ä»¥å‘Šè¯‰æµè§ˆå™¨å“ªä¸ªå›¾åƒæ˜¯æœ€é‡è¦çš„ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ç»„æµä¸­è¿›è¡Œä¼˜å…ˆç­›é€‰ï¼Œèƒ½å¤Ÿçªç„¶æŠ“ä½é‡ç‚¹æµã€‚</li></ul><h2 id="è¯·æ±‚å¤´éƒ¨"><a href="#è¯·æ±‚å¤´éƒ¨" class="headerlink" title="è¯·æ±‚å¤´éƒ¨"></a>è¯·æ±‚å¤´éƒ¨</h2><p>è¯·æ±‚å¤´éƒ¨æ˜¯ç”±é”®å€¼å¯¹ç»„æˆã€‚åŒ…æ‹¬é€šç”¨é¦–éƒ¨å­—æ®µï¼Œè¯·æ±‚é¦–éƒ¨å­—æ®µå’Œå®ä½“é¦–éƒ¨å­—æ®µ</p><h3 id="é€šç”¨è¯·æ±‚é¦–éƒ¨"><a href="#é€šç”¨è¯·æ±‚é¦–éƒ¨" class="headerlink" title="é€šç”¨è¯·æ±‚é¦–éƒ¨"></a>é€šç”¨è¯·æ±‚é¦–éƒ¨</h3><table><thead><tr><th>é¦–éƒ¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>Connection</td><td>å…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æŒ‡å®šä¸è¯·æ±‚/å“åº”è¿æ¥æœ‰å…³çš„é€‰é¡¹</td></tr><tr><td>Date</td><td>æä¾›æ—¥æœŸå’Œæ—¶é—´æ ‡å¿—ï¼Œè¯´æ˜æŠ¥æ–‡æ˜¯ä»€ä¹ˆæ—¶é—´åˆ›å»ºçš„</td></tr><tr><td>MIME-Version</td><td>ç»™å‡ºäº†å‘é€çŸ­ä½¿ç”¨çš„ MINE ç‰ˆæœ¬</td></tr><tr><td>Trailer</td><td>å¦‚æœæŠ¥æ–‡é‡‡ç”¨äº†åˆ†å—ä¼ è¾“ç¼–ç (chunked transfer encoding)æ–¹å¼ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªé¦–éƒ¨åˆ—å‡ºä½äºæŠ¥æ–‡æ‹–æŒ‚(trailer)éƒ¨åˆ†çš„é¦–éƒ¨é›†åˆ</td></tr><tr><td>Transfer-Encoding</td><td>å‘ŠçŸ¥æ¥æ”¶ç«¯ä¸ºäº†ä¿è¯æŠ¥æ–‡çš„å¯é ä¼ è¾“ï¼Œå¯¹æŠ¥æ–‡é‡‡ç”¨äº†ä»€ä¹ˆç¼–ç æ–¹å¼</td></tr><tr><td>Update</td><td>ç»™å‡ºäº†å‘é€ç«¯å¯èƒ½æƒ³è¦â€å‡çº§â€ä½¿ç”¨çš„æ–°ç‰ˆæœ¬æˆ–åè®®</td></tr><tr><td>Via</td><td>æ˜¾ç¤ºæŠ¥æ–‡ç»è¿‡çš„ä¸­é—´èŠ‚ç‚¹ï¼ˆä»£ç†ã€ç½‘å…³ï¼‰</td></tr></tbody></table><h3 id="è¯·æ±‚é¦–éƒ¨å­—æ®µ"><a href="#è¯·æ±‚é¦–éƒ¨å­—æ®µ" class="headerlink" title="è¯·æ±‚é¦–éƒ¨å­—æ®µ"></a>è¯·æ±‚é¦–éƒ¨å­—æ®µ</h3><table><thead><tr><th>é¦–éƒ¨å­—æ®µå</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Accept</td><td>ç”¨æˆ·ä»£ç†å¯å¤„ç†çš„åª’ä½“ç±»å‹</td></tr><tr><td>Accept-Charset</td><td>ä¼˜å…ˆçš„å­—ç¬¦é›†</td></tr><tr><td>Accept-Encoding</td><td>ä¼˜å…ˆçš„å†…å®¹ç¼–ç </td></tr><tr><td>Accept-Language</td><td>æœ‰é™çš„è¯­è¨€</td></tr><tr><td>Authorization</td><td>Webè®¤è¯ä¿¡æ¯</td></tr><tr><td>Expect</td><td>æœŸå¾…å‰¯æ­¦å™¨çš„ç‰¹å®šè¡Œä¸º</td></tr><tr><td>from</td><td>ç”¨æˆ·çš„ç”µå­é‚®ä»¶åœ°å€</td></tr><tr><td>Host</td><td>è¯·æ±‚èµ„æºæ‰€åœ¨æœåŠ¡å™¨</td></tr><tr><td>If-Match</td><td>æ¯”è¾ƒå®ä½“æ ‡è®°ETag</td></tr><tr><td>If-Modified-Sincce</td><td>æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´</td></tr><tr><td>If-None-Match</td><td>æ¯”è¾ƒå®ä½“æ ‡è®°ä¸If-Matchç›¸å</td></tr><tr><td>If-Range</td><td>èµ„æºå§”æ›´æ–°æ—¶å‘é€å®ä½“Byteçš„èŒƒå›´è¯·æ±‚</td></tr><tr><td>If-Unmodified-Since</td><td>æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´ ä¸ If-Modified-Sincceç›¸å</td></tr><tr><td>Max-Forwards</td><td>æœ€å¤§ä¼ è¾“é€è·³æ•°</td></tr><tr><td>Proxy-Authorization</td><td>ä»£ç†æœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯çš„è®¤è¯æ¶ˆæ¯</td></tr><tr><td>Range</td><td>å®ä½“çš„å­—èŠ‚èŒƒå›´è¯·æ±‚</td></tr><tr><td>Referer</td><td>é˜Ÿè¯·æ±‚ä¸­URIçš„åŸå§‹è·å–æ–¹æ³•</td></tr><tr><td>TE</td><td>ä¼ è¾“ç¼–ç çš„ä¼˜å…ˆçº§</td></tr><tr><td>User-Agent</td><td>HTTPå®¢æˆ·ç«¯ç¨‹åºçš„ä¿¡æ¯</td></tr></tbody></table><blockquote><p>ä»ä»Šä»¥åè¯·ç§°å‘¼åœ¨ä¸‹ä½ä¸ºå‰ç«¯æ‰“å­—å‘˜ï¼Œè°¢è°¢</p></blockquote><h3 id="å®ä½“é¦–éƒ¨"><a href="#å®ä½“é¦–éƒ¨" class="headerlink" title="å®ä½“é¦–éƒ¨"></a>å®ä½“é¦–éƒ¨</h3><table><thead><tr><th>é¦–éƒ¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>Allow</td><td>åˆ—å‡ºå¯ä»¥å¯¹æ­¤äº‹ææ‰§è¡Œçš„è¯·æ±‚æ–¹æ³•</td></tr><tr><td>Location</td><td>å‘ŠçŸ¥å®¢æˆ·ç«¯å®é™…ä¸Šä½äºä½•å¤„ï¼›ç”¨äºå°†æ¥æ”¶ç«¯å®šå‘åˆ°èµ„æºçš„(å¯èƒ½æ˜¯æ–°çš„)ä½ç½®(URL)ä¸Šå»</td></tr><tr><td>Content-Base</td><td>è§£é‡Šä¸»ä½“ä¸­çš„ç›¸å¯¹ URL æ—¶ä½¿ç”¨çš„åŸºç¡€ URL</td></tr><tr><td>Content-Encoding</td><td>å¯¹ä¸»ä½“æ‰§è¡Œçš„ä»»æ„ç¼–ç æ–¹å¼</td></tr><tr><td>Content-Language</td><td>ç†è§£ä¸»ä½“æ—¶æœ€é€‚å®œä½¿ç”¨çš„è‡ªç„¶è¯­è¨€</td></tr><tr><td>Content-Length</td><td>ä¸»ä½“çš„é•¿åº¦æˆ–å°ºå¯¸</td></tr><tr><td>Content-Locaton</td><td>èµ„æºå®é™…æ‰€å¤„çš„ä½ç½®</td></tr><tr><td>Content-MD5</td><td>ä¸»ä½“çš„ MD5 æ ¡éªŒå’Œ</td></tr><tr><td>Content-Range</td><td>åœ¨æ•´ä¸ªèµ„æºä¸­æ­¤å®ä½“è¡¨ç¤ºçš„å­—èŠ‚èŒƒå›´</td></tr><tr><td>Content-Type</td><td>åœ¨è¿™ä¸ªä¸»ä½“çš„å¯¹è±¡ç±»å‹</td></tr><tr><td>ETag</td><td>ä¸æ­¤å®ä½“ç›¸å…³çš„å®ä½“æ ‡è®°</td></tr><tr><td>Expires</td><td>å®ä½“ä¸å†æœ‰æ•ˆï¼Œè¦ä»åŸå§‹çš„æºç«¯å†æ¬¡è·å–æ­¤å®ä½“çš„æ—¥æœŸå’Œæ—¶é—´</td></tr><tr><td>Last-Modified</td><td>è¿™ä¸ªå®ä½“æœ€åä¸€æ¬¡è¢«ä¿®æ”¹çš„æ—¥æœŸå’Œæ—¶é—´</td></tr></tbody></table><h2 id="ç©ºè¡Œ"><a href="#ç©ºè¡Œ" class="headerlink" title="ç©ºè¡Œ"></a>ç©ºè¡Œ</h2><p>å³ä½¿ç¬¬å››éƒ¨åˆ†çš„è¯·æ±‚æ•°æ®ä¸ºç©ºï¼Œä¹Ÿå¿…é¡»æœ‰ç©ºè¡Œã€‚</p><h2 id="è¯·æ±‚æ•°æ®"><a href="#è¯·æ±‚æ•°æ®" class="headerlink" title="è¯·æ±‚æ•°æ®"></a>è¯·æ±‚æ•°æ®</h2><p>è¯·æ±‚æ•°æ®ä¸åœ¨GETæ–¹æ³•ä¸­ä½¿ç”¨ï¼Œè€Œæ˜¯åœ¨POSTæ–¹æ³•ä¸­ä½¿ç”¨ã€‚POSTæ–¹æ³•é€‚ç”¨äºéœ€è¦å®¢æˆ·å¡«å†™è¡¨å•çš„åœºåˆã€‚ä¸è¯·æ±‚æ•°æ®ç›¸å…³çš„æœ€å¸¸ä½¿ç”¨çš„è¯·æ±‚å¤´æ˜¯Content-Typeå’ŒContent-Lengthã€‚</p><h1 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h1><p>HTTPå“åº”ä¹Ÿç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼šçŠ¶æ€è¡Œã€æ¶ˆæ¯æŠ¥å¤´ã€ç©ºè¡Œå’Œå“åº”æ­£æ–‡ã€‚</p><h2 id="çŠ¶æ€è¡Œ"><a href="#çŠ¶æ€è¡Œ" class="headerlink" title="çŠ¶æ€è¡Œ"></a>çŠ¶æ€è¡Œ</h2><p>çŠ¶æ€è¡Œï¼Œç”±HTTPåè®®ç‰ˆæœ¬å·ï¼Œ çŠ¶æ€ç ï¼Œ çŠ¶æ€æ¶ˆæ¯ ä¸‰éƒ¨åˆ†ç»„æˆã€‚</p><p>è¯´ä¸€ä¸‹çŠ¶æ€ç ï¼ˆå¤åˆ¶ç²˜è´´çš„ï¼‰</p><table><thead><tr><th>çŠ¶æ€ç </th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>100</td><td>å®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘é€è¯·æ±‚ã€‚è¿™ä¸ªä¸´æ—¶å“åº”æ˜¯ç”¨æ¥é€šçŸ¥å®¢æˆ·ç«¯å®ƒçš„éƒ¨åˆ†è¯·æ±‚å·²ç»è¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œä¸”ä»æœªè¢«æ‹’ç»ã€‚å®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘é€è¯·æ±‚çš„å‰©ä½™éƒ¨åˆ†ï¼Œæˆ–è€…å¦‚æœè¯·æ±‚å·²ç»å®Œæˆï¼Œå¿½ç•¥è¿™ä¸ªå“åº”ã€‚æœåŠ¡å™¨å¿…é¡»åœ¨è¯·æ±‚å®Œæˆåå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªæœ€ç»ˆå“åº”ã€‚</td></tr><tr><td>101</td><td>æœåŠ¡å™¨å·²ç»ç†è§£äº†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å°†é€šè¿‡Upgrade æ¶ˆæ¯å¤´é€šçŸ¥å®¢æˆ·ç«¯é‡‡ç”¨ä¸åŒçš„åè®®æ¥å®Œæˆè¿™ä¸ªè¯·æ±‚ã€‚åœ¨å‘é€å®Œè¿™ä¸ªå“åº”æœ€åçš„ç©ºè¡Œåï¼ŒæœåŠ¡å™¨å°†ä¼šåˆ‡æ¢åˆ°åœ¨Upgrade æ¶ˆæ¯å¤´ä¸­å®šä¹‰çš„é‚£äº›åè®®ã€‚ åªæœ‰åœ¨åˆ‡æ¢æ–°çš„åè®®æ›´æœ‰å¥½å¤„çš„æ—¶å€™æ‰åº”è¯¥é‡‡å–ç±»ä¼¼æªæ–½ã€‚ä¾‹å¦‚ï¼Œåˆ‡æ¢åˆ°æ–°çš„HTTP ç‰ˆæœ¬æ¯”æ—§ç‰ˆæœ¬æ›´æœ‰ä¼˜åŠ¿ï¼Œæˆ–è€…åˆ‡æ¢åˆ°ä¸€ä¸ªå®æ—¶ä¸”åŒæ­¥çš„åè®®ä»¥ä¼ é€åˆ©ç”¨æ­¤ç±»ç‰¹æ€§çš„èµ„æºã€‚</td></tr><tr><td>102</td><td>ç”±WebDAVï¼ˆRFC 2518ï¼‰æ‰©å±•çš„çŠ¶æ€ç ï¼Œä»£è¡¨å¤„ç†å°†è¢«ç»§ç»­æ‰§è¡Œã€‚</td></tr><tr><td>200</td><td>è¯·æ±‚å·²æˆåŠŸï¼Œè¯·æ±‚æ‰€å¸Œæœ›çš„å“åº”å¤´æˆ–æ•°æ®ä½“å°†éšæ­¤å“åº”è¿”å›ã€‚</td></tr><tr><td>201</td><td>è¯·æ±‚å·²ç»è¢«å®ç°ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªæ–°çš„èµ„æºå·²ç»ä¾æ®è¯·æ±‚çš„éœ€è¦è€Œå»ºç«‹ï¼Œä¸”å…¶ URI å·²ç»éšLocation å¤´ä¿¡æ¯è¿”å›ã€‚å‡å¦‚éœ€è¦çš„èµ„æºæ— æ³•åŠæ—¶å»ºç«‹çš„è¯ï¼Œåº”å½“è¿”å› â€˜202 Acceptedâ€™ã€‚</td></tr><tr><td>202</td><td>æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚æ­£å¦‚å®ƒå¯èƒ½è¢«æ‹’ç»ä¸€æ ·ï¼Œæœ€ç»ˆè¯¥è¯·æ±‚å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚åœ¨å¼‚æ­¥æ“ä½œçš„åœºåˆä¸‹ï¼Œæ²¡æœ‰æ¯”å‘é€è¿™ä¸ªçŠ¶æ€ç æ›´æ–¹ä¾¿çš„åšæ³•äº†ã€‚ è¿”å›202çŠ¶æ€ç çš„å“åº”çš„ç›®çš„æ˜¯å…è®¸æœåŠ¡å™¨æ¥å—å…¶ä»–è¿‡ç¨‹çš„è¯·æ±‚ï¼ˆä¾‹å¦‚æŸä¸ªæ¯å¤©åªæ‰§è¡Œä¸€æ¬¡çš„åŸºäºæ‰¹å¤„ç†çš„æ“ä½œï¼‰ï¼Œè€Œä¸å¿…è®©å®¢æˆ·ç«¯ä¸€ç›´ä¿æŒä¸æœåŠ¡å™¨çš„è¿æ¥ç›´åˆ°æ‰¹å¤„ç†æ“ä½œå…¨éƒ¨å®Œæˆã€‚åœ¨æ¥å—è¯·æ±‚å¤„ç†å¹¶è¿”å›202çŠ¶æ€ç çš„å“åº”åº”å½“åœ¨è¿”å›çš„å®ä½“ä¸­åŒ…å«ä¸€äº›æŒ‡ç¤ºå¤„ç†å½“å‰çŠ¶æ€çš„ä¿¡æ¯ï¼Œä»¥åŠæŒ‡å‘å¤„ç†çŠ¶æ€ç›‘è§†å™¨æˆ–çŠ¶æ€é¢„æµ‹çš„æŒ‡é’ˆï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿä¼°è®¡æ“ä½œæ˜¯å¦å·²ç»å®Œæˆã€‚</td></tr><tr><td>203</td><td>æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„å®ä½“å¤´éƒ¨å…ƒä¿¡æ¯ä¸æ˜¯åœ¨åŸå§‹æœåŠ¡å™¨ä¸Šæœ‰æ•ˆçš„ç¡®å®šé›†åˆï¼Œè€Œæ˜¯æ¥è‡ªæœ¬åœ°æˆ–è€…ç¬¬ä¸‰æ–¹çš„æ‹·è´ã€‚å½“å‰çš„ä¿¡æ¯å¯èƒ½æ˜¯åŸå§‹ç‰ˆæœ¬çš„å­é›†æˆ–è€…è¶…é›†ã€‚ä¾‹å¦‚ï¼ŒåŒ…å«èµ„æºçš„å…ƒæ•°æ®å¯èƒ½å¯¼è‡´åŸå§‹æœåŠ¡å™¨çŸ¥é“å…ƒä¿¡æ¯çš„è¶…çº§ã€‚ä½¿ç”¨æ­¤çŠ¶æ€ç ä¸æ˜¯å¿…é¡»çš„ï¼Œè€Œä¸”åªæœ‰åœ¨å“åº”ä¸ä½¿ç”¨æ­¤çŠ¶æ€ç ä¾¿ä¼šè¿”å›200 OKçš„æƒ…å†µä¸‹æ‰æ˜¯åˆé€‚çš„ã€‚</td></tr><tr><td>204</td><td>æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†ä¸éœ€è¦è¿”å›ä»»ä½•å®ä½“å†…å®¹ï¼Œå¹¶ä¸”å¸Œæœ›è¿”å›æ›´æ–°äº†çš„å…ƒä¿¡æ¯ã€‚å“åº”å¯èƒ½é€šè¿‡å®ä½“å¤´éƒ¨çš„å½¢å¼ï¼Œè¿”å›æ–°çš„æˆ–æ›´æ–°åçš„å…ƒä¿¡æ¯ã€‚å¦‚æœå­˜åœ¨è¿™äº›å¤´éƒ¨ä¿¡æ¯ï¼Œåˆ™åº”å½“ä¸æ‰€è¯·æ±‚çš„å˜é‡ç›¸å‘¼åº”ã€‚ å¦‚æœå®¢æˆ·ç«¯æ˜¯æµè§ˆå™¨çš„è¯ï¼Œé‚£ä¹ˆç”¨æˆ·æµè§ˆå™¨åº”ä¿ç•™å‘é€äº†è¯¥è¯·æ±‚çš„é¡µé¢ï¼Œè€Œä¸äº§ç”Ÿä»»ä½•æ–‡æ¡£è§†å›¾ä¸Šçš„å˜åŒ–ï¼Œå³ä½¿æŒ‰ç…§è§„èŒƒæ–°çš„æˆ–æ›´æ–°åçš„å…ƒä¿¡æ¯åº”å½“è¢«åº”ç”¨åˆ°ç”¨æˆ·æµè§ˆå™¨æ´»åŠ¨è§†å›¾ä¸­çš„æ–‡æ¡£ã€‚ ç”±äº204å“åº”è¢«ç¦æ­¢åŒ…å«ä»»ä½•æ¶ˆæ¯ä½“ï¼Œå› æ­¤å®ƒå§‹ç»ˆä»¥æ¶ˆæ¯å¤´åçš„ç¬¬ä¸€ä¸ªç©ºè¡Œç»“å°¾ã€‚</td></tr><tr><td>205</td><td>æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä¸”æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚ä½†æ˜¯ä¸204å“åº”ä¸åŒï¼Œè¿”å›æ­¤çŠ¶æ€ç çš„å“åº”è¦æ±‚è¯·æ±‚è€…é‡ç½®æ–‡æ¡£è§†å›¾ã€‚è¯¥å“åº”ä¸»è¦æ˜¯è¢«ç”¨äºæ¥å—ç”¨æˆ·è¾“å…¥åï¼Œç«‹å³é‡ç½®è¡¨å•ï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿè½»æ¾åœ°å¼€å§‹å¦ä¸€æ¬¡è¾“å…¥ã€‚ ä¸204å“åº”ä¸€æ ·ï¼Œè¯¥å“åº”ä¹Ÿè¢«ç¦æ­¢åŒ…å«ä»»ä½•æ¶ˆæ¯ä½“ï¼Œä¸”ä»¥æ¶ˆæ¯å¤´åçš„ç¬¬ä¸€ä¸ªç©ºè¡Œç»“æŸã€‚</td></tr><tr><td>206</td><td>æœåŠ¡å™¨å·²ç»æˆåŠŸå¤„ç†äº†éƒ¨åˆ† GET è¯·æ±‚ã€‚ç±»ä¼¼äº FlashGet æˆ–è€…è¿…é›·è¿™ç±»çš„ HTTP ä¸‹è½½å·¥å…·éƒ½æ˜¯ä½¿ç”¨æ­¤ç±»å“åº”å®ç°æ–­ç‚¹ç»­ä¼ æˆ–è€…å°†ä¸€ä¸ªå¤§æ–‡æ¡£åˆ†è§£ä¸ºå¤šä¸ªä¸‹è½½æ®µåŒæ—¶ä¸‹è½½ã€‚ è¯¥è¯·æ±‚å¿…é¡»åŒ…å« Range å¤´ä¿¡æ¯æ¥æŒ‡ç¤ºå®¢æˆ·ç«¯å¸Œæœ›å¾—åˆ°çš„å†…å®¹èŒƒå›´ï¼Œå¹¶ä¸”å¯èƒ½åŒ…å« If-Range æ¥ä½œä¸ºè¯·æ±‚æ¡ä»¶ã€‚ å“åº”å¿…é¡»åŒ…å«å¦‚ä¸‹çš„å¤´éƒ¨åŸŸï¼š Content-Range ç”¨ä»¥æŒ‡ç¤ºæœ¬æ¬¡å“åº”ä¸­è¿”å›çš„å†…å®¹çš„èŒƒå›´ï¼›å¦‚æœæ˜¯ Content-Type ä¸º multipart/byteranges çš„å¤šæ®µä¸‹è½½ï¼Œåˆ™æ¯ä¸€ multipart æ®µä¸­éƒ½åº”åŒ…å« Content-Range åŸŸç”¨ä»¥æŒ‡ç¤ºæœ¬æ®µçš„å†…å®¹èŒƒå›´ã€‚å‡å¦‚å“åº”ä¸­åŒ…å« Content-Lengthï¼Œé‚£ä¹ˆå®ƒçš„æ•°å€¼å¿…é¡»åŒ¹é…å®ƒè¿”å›çš„å†…å®¹èŒƒå›´çš„çœŸå®å­—èŠ‚æ•°ã€‚ Date ETag å’Œ/æˆ– Content-Locationï¼Œå‡å¦‚åŒæ ·çš„è¯·æ±‚æœ¬åº”è¯¥è¿”å›200å“åº”ã€‚ Expires, Cache-Controlï¼Œå’Œ/æˆ– Varyï¼Œå‡å¦‚å…¶å€¼å¯èƒ½ä¸ä¹‹å‰ç›¸åŒå˜é‡çš„å…¶ä»–å“åº”å¯¹åº”çš„å€¼ä¸åŒçš„è¯ã€‚ å‡å¦‚æœ¬å“åº”è¯·æ±‚ä½¿ç”¨äº† If-Range å¼ºç¼“å­˜éªŒè¯ï¼Œé‚£ä¹ˆæœ¬æ¬¡å“åº”ä¸åº”è¯¥åŒ…å«å…¶ä»–å®ä½“å¤´ï¼›å‡å¦‚æœ¬å“åº”çš„è¯·æ±‚ä½¿ç”¨äº† If-Range å¼±ç¼“å­˜éªŒè¯ï¼Œé‚£ä¹ˆæœ¬æ¬¡å“åº”ç¦æ­¢åŒ…å«å…¶ä»–å®ä½“å¤´ï¼›è¿™é¿å…äº†ç¼“å­˜çš„å®ä½“å†…å®¹å’Œæ›´æ–°äº†çš„å®ä½“å¤´ä¿¡æ¯ä¹‹é—´çš„ä¸ä¸€è‡´ã€‚å¦åˆ™ï¼Œæœ¬å“åº”å°±åº”å½“åŒ…å«æ‰€æœ‰æœ¬åº”è¯¥è¿”å›200å“åº”ä¸­åº”å½“è¿”å›çš„æ‰€æœ‰å®ä½“å¤´éƒ¨åŸŸã€‚ å‡å¦‚ ETag æˆ– Last-Modified å¤´éƒ¨ä¸èƒ½ç²¾ç¡®åŒ¹é…çš„è¯ï¼Œåˆ™å®¢æˆ·ç«¯ç¼“å­˜åº”ç¦æ­¢å°†206å“åº”è¿”å›çš„å†…å®¹ä¸ä¹‹å‰ä»»ä½•ç¼“å­˜è¿‡çš„å†…å®¹ç»„åˆåœ¨ä¸€èµ·ã€‚ ä»»ä½•ä¸æ”¯æŒ Range ä»¥åŠ Content-Range å¤´çš„ç¼“å­˜éƒ½ç¦æ­¢ç¼“å­˜206å“åº”è¿”å›çš„å†…å®¹ã€‚</td></tr><tr><td>207</td><td>ç”±WebDAV(RFC 2518)æ‰©å±•çš„çŠ¶æ€ç ï¼Œä»£è¡¨ä¹‹åçš„æ¶ˆæ¯ä½“å°†æ˜¯ä¸€ä¸ªXMLæ¶ˆæ¯ï¼Œå¹¶ä¸”å¯èƒ½ä¾ç…§ä¹‹å‰å­è¯·æ±‚æ•°é‡çš„ä¸åŒï¼ŒåŒ…å«ä¸€ç³»åˆ—ç‹¬ç«‹çš„å“åº”ä»£ç ã€‚</td></tr><tr><td>300</td><td>è¢«è¯·æ±‚çš„èµ„æºæœ‰ä¸€ç³»åˆ—å¯ä¾›é€‰æ‹©çš„å›é¦ˆä¿¡æ¯ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±ç‰¹å®šçš„åœ°å€å’Œæµè§ˆå™¨é©±åŠ¨çš„å•†è®®ä¿¡æ¯ã€‚ç”¨æˆ·æˆ–æµè§ˆå™¨èƒ½å¤Ÿè‡ªè¡Œé€‰æ‹©ä¸€ä¸ªé¦–é€‰çš„åœ°å€è¿›è¡Œé‡å®šå‘ã€‚ é™¤éè¿™æ˜¯ä¸€ä¸ª HEAD è¯·æ±‚ï¼Œå¦åˆ™è¯¥å“åº”åº”å½“åŒ…æ‹¬ä¸€ä¸ªèµ„æºç‰¹æ€§åŠåœ°å€çš„åˆ—è¡¨çš„å®ä½“ï¼Œä»¥ä¾¿ç”¨æˆ·æˆ–æµè§ˆå™¨ä»ä¸­é€‰æ‹©æœ€åˆé€‚çš„é‡å®šå‘åœ°å€ã€‚è¿™ä¸ªå®ä½“çš„æ ¼å¼ç”± Content-Type å®šä¹‰çš„æ ¼å¼æ‰€å†³å®šã€‚æµè§ˆå™¨å¯èƒ½æ ¹æ®å“åº”çš„æ ¼å¼ä»¥åŠæµè§ˆå™¨è‡ªèº«èƒ½åŠ›ï¼Œè‡ªåŠ¨ä½œå‡ºæœ€åˆé€‚çš„é€‰æ‹©ã€‚å½“ç„¶ï¼ŒRFC 2616è§„èŒƒå¹¶æ²¡æœ‰è§„å®šè¿™æ ·çš„è‡ªåŠ¨é€‰æ‹©è¯¥å¦‚ä½•è¿›è¡Œã€‚ å¦‚æœæœåŠ¡å™¨æœ¬èº«å·²ç»æœ‰äº†é¦–é€‰çš„å›é¦ˆé€‰æ‹©ï¼Œé‚£ä¹ˆåœ¨ Location ä¸­åº”å½“æŒ‡æ˜è¿™ä¸ªå›é¦ˆçš„ URIï¼›æµè§ˆå™¨å¯èƒ½ä¼šå°†è¿™ä¸ª Location å€¼ä½œä¸ºè‡ªåŠ¨é‡å®šå‘çš„åœ°å€ã€‚æ­¤å¤–ï¼Œé™¤éé¢å¤–æŒ‡å®šï¼Œå¦åˆ™è¿™ä¸ªå“åº”ä¹Ÿæ˜¯å¯ç¼“å­˜çš„ã€‚</td></tr><tr><td>301</td><td>è¢«è¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œå¹¶ä¸”å°†æ¥ä»»ä½•å¯¹æ­¤èµ„æºçš„å¼•ç”¨éƒ½åº”è¯¥ä½¿ç”¨æœ¬å“åº”è¿”å›çš„è‹¥å¹²ä¸ª URI ä¹‹ä¸€ã€‚å¦‚æœå¯èƒ½ï¼Œæ‹¥æœ‰é“¾æ¥ç¼–è¾‘åŠŸèƒ½çš„å®¢æˆ·ç«¯åº”å½“è‡ªåŠ¨æŠŠè¯·æ±‚çš„åœ°å€ä¿®æ”¹ä¸ºä»æœåŠ¡å™¨åé¦ˆå›æ¥çš„åœ°å€ã€‚é™¤éé¢å¤–æŒ‡å®šï¼Œå¦åˆ™è¿™ä¸ªå“åº”ä¹Ÿæ˜¯å¯ç¼“å­˜çš„ã€‚ æ–°çš„æ°¸ä¹…æ€§çš„ URI åº”å½“åœ¨å“åº”çš„ Location åŸŸä¸­è¿”å›ã€‚é™¤éè¿™æ˜¯ä¸€ä¸ª HEAD è¯·æ±‚ï¼Œå¦åˆ™å“åº”çš„å®ä½“ä¸­åº”å½“åŒ…å«æŒ‡å‘æ–°çš„ URI çš„è¶…é“¾æ¥åŠç®€çŸ­è¯´æ˜ã€‚ å¦‚æœè¿™ä¸æ˜¯ä¸€ä¸ª GET æˆ–è€… HEAD è¯·æ±‚ï¼Œå› æ­¤æµè§ˆå™¨ç¦æ­¢è‡ªåŠ¨è¿›è¡Œé‡å®šå‘ï¼Œé™¤éå¾—åˆ°ç”¨æˆ·çš„ç¡®è®¤ï¼Œå› ä¸ºè¯·æ±‚çš„æ¡ä»¶å¯èƒ½å› æ­¤å‘ç”Ÿå˜åŒ–ã€‚ æ³¨æ„ï¼šå¯¹äºæŸäº›ä½¿ç”¨ HTTP/1.0 åè®®çš„æµè§ˆå™¨ï¼Œå½“å®ƒä»¬å‘é€çš„ POST è¯·æ±‚å¾—åˆ°äº†ä¸€ä¸ª301å“åº”çš„è¯ï¼Œæ¥ä¸‹æ¥çš„é‡å®šå‘è¯·æ±‚å°†ä¼šå˜æˆ GET æ–¹å¼ã€‚</td></tr><tr><td>302</td><td>è¯·æ±‚çš„èµ„æºç°åœ¨ä¸´æ—¶ä»ä¸åŒçš„ URI å“åº”è¯·æ±‚ã€‚ç”±äºè¿™æ ·çš„é‡å®šå‘æ˜¯ä¸´æ—¶çš„ï¼Œå®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘åŸæœ‰åœ°å€å‘é€ä»¥åçš„è¯·æ±‚ã€‚åªæœ‰åœ¨Cache-Controlæˆ–Expiresä¸­è¿›è¡Œäº†æŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå“åº”æ‰æ˜¯å¯ç¼“å­˜çš„ã€‚ æ–°çš„ä¸´æ—¶æ€§çš„ URI åº”å½“åœ¨å“åº”çš„ Location åŸŸä¸­è¿”å›ã€‚é™¤éè¿™æ˜¯ä¸€ä¸ª HEAD è¯·æ±‚ï¼Œå¦åˆ™å“åº”çš„å®ä½“ä¸­åº”å½“åŒ…å«æŒ‡å‘æ–°çš„ URI çš„è¶…é“¾æ¥åŠç®€çŸ­è¯´æ˜ã€‚ å¦‚æœè¿™ä¸æ˜¯ä¸€ä¸ª GET æˆ–è€… HEAD è¯·æ±‚ï¼Œé‚£ä¹ˆæµè§ˆå™¨ç¦æ­¢è‡ªåŠ¨è¿›è¡Œé‡å®šå‘ï¼Œé™¤éå¾—åˆ°ç”¨æˆ·çš„ç¡®è®¤ï¼Œå› ä¸ºè¯·æ±‚çš„æ¡ä»¶å¯èƒ½å› æ­¤å‘ç”Ÿå˜åŒ–ã€‚ æ³¨æ„ï¼šè™½ç„¶RFC 1945å’ŒRFC 2068è§„èŒƒä¸å…è®¸å®¢æˆ·ç«¯åœ¨é‡å®šå‘æ—¶æ”¹å˜è¯·æ±‚çš„æ–¹æ³•ï¼Œä½†æ˜¯å¾ˆå¤šç°å­˜çš„æµè§ˆå™¨å°†302å“åº”è§†ä½œä¸º303å“åº”ï¼Œå¹¶ä¸”ä½¿ç”¨ GET æ–¹å¼è®¿é—®åœ¨ Location ä¸­è§„å®šçš„ URIï¼Œè€Œæ— è§†åŸå…ˆè¯·æ±‚çš„æ–¹æ³•ã€‚çŠ¶æ€ç 303å’Œ307è¢«æ·»åŠ äº†è¿›æ¥ï¼Œç”¨ä»¥æ˜ç¡®æœåŠ¡å™¨æœŸå¾…å®¢æˆ·ç«¯è¿›è¡Œä½•ç§ååº”ã€‚</td></tr><tr><td>303</td><td>å¯¹åº”å½“å‰è¯·æ±‚çš„å“åº”å¯ä»¥åœ¨å¦ä¸€ä¸ª URI ä¸Šè¢«æ‰¾åˆ°ï¼Œè€Œä¸”å®¢æˆ·ç«¯åº”å½“é‡‡ç”¨ GET çš„æ–¹å¼è®¿é—®é‚£ä¸ªèµ„æºã€‚è¿™ä¸ªæ–¹æ³•çš„å­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†å…è®¸ç”±è„šæœ¬æ¿€æ´»çš„POSTè¯·æ±‚è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„èµ„æºã€‚è¿™ä¸ªæ–°çš„ URI ä¸æ˜¯åŸå§‹èµ„æºçš„æ›¿ä»£å¼•ç”¨ã€‚åŒæ—¶ï¼Œ303å“åº”ç¦æ­¢è¢«ç¼“å­˜ã€‚å½“ç„¶ï¼Œç¬¬äºŒä¸ªè¯·æ±‚ï¼ˆé‡å®šå‘ï¼‰å¯èƒ½è¢«ç¼“å­˜ã€‚ æ–°çš„ URI åº”å½“åœ¨å“åº”çš„ Location åŸŸä¸­è¿”å›ã€‚é™¤éè¿™æ˜¯ä¸€ä¸ª HEAD è¯·æ±‚ï¼Œå¦åˆ™å“åº”çš„å®ä½“ä¸­åº”å½“åŒ…å«æŒ‡å‘æ–°çš„ URI çš„è¶…é“¾æ¥åŠç®€çŸ­è¯´æ˜ã€‚ æ³¨æ„ï¼šè®¸å¤š HTTP/1.1 ç‰ˆä»¥å‰çš„ æµè§ˆå™¨ä¸èƒ½æ­£ç¡®ç†è§£303çŠ¶æ€ã€‚å¦‚æœéœ€è¦è€ƒè™‘ä¸è¿™äº›æµè§ˆå™¨ä¹‹é—´çš„äº’åŠ¨ï¼Œ302çŠ¶æ€ç åº”è¯¥å¯ä»¥èƒœä»»ï¼Œå› ä¸ºå¤§å¤šæ•°çš„æµè§ˆå™¨å¤„ç†302å“åº”æ—¶çš„æ–¹å¼æ°æ°å°±æ˜¯ä¸Šè¿°è§„èŒƒè¦æ±‚å®¢æˆ·ç«¯å¤„ç†303å“åº”æ—¶åº”å½“åšçš„ã€‚</td></tr><tr><td>304</td><td>å¦‚æœå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªå¸¦æ¡ä»¶çš„ GET è¯·æ±‚ä¸”è¯¥è¯·æ±‚å·²è¢«å…è®¸ï¼Œè€Œæ–‡æ¡£çš„å†…å®¹ï¼ˆè‡ªä¸Šæ¬¡è®¿é—®ä»¥æ¥æˆ–è€…æ ¹æ®è¯·æ±‚çš„æ¡ä»¶ï¼‰å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåˆ™æœåŠ¡å™¨åº”å½“è¿”å›è¿™ä¸ªçŠ¶æ€ç ã€‚304å“åº”ç¦æ­¢åŒ…å«æ¶ˆæ¯ä½“ï¼Œå› æ­¤å§‹ç»ˆä»¥æ¶ˆæ¯å¤´åçš„ç¬¬ä¸€ä¸ªç©ºè¡Œç»“å°¾ã€‚ è¯¥å“åº”å¿…é¡»åŒ…å«ä»¥ä¸‹çš„å¤´ä¿¡æ¯ï¼š Dateï¼Œé™¤éè¿™ä¸ªæœåŠ¡å™¨æ²¡æœ‰æ—¶é’Ÿã€‚å‡å¦‚æ²¡æœ‰æ—¶é’Ÿçš„æœåŠ¡å™¨ä¹Ÿéµå®ˆè¿™äº›è§„åˆ™ï¼Œé‚£ä¹ˆä»£ç†æœåŠ¡å™¨ä»¥åŠå®¢æˆ·ç«¯å¯ä»¥è‡ªè¡Œå°† Date å­—æ®µæ·»åŠ åˆ°æ¥æ”¶åˆ°çš„å“åº”å¤´ä¸­å»ï¼ˆæ­£å¦‚RFC 2068ä¸­è§„å®šçš„ä¸€æ ·ï¼‰ï¼Œç¼“å­˜æœºåˆ¶å°†ä¼šæ­£å¸¸å·¥ä½œã€‚ ETag å’Œ/æˆ– Content-Locationï¼Œå‡å¦‚åŒæ ·çš„è¯·æ±‚æœ¬åº”è¿”å›200å“åº”ã€‚ Expires, Cache-Controlï¼Œå’Œ/æˆ–Varyï¼Œå‡å¦‚å…¶å€¼å¯èƒ½ä¸ä¹‹å‰ç›¸åŒå˜é‡çš„å…¶ä»–å“åº”å¯¹åº”çš„å€¼ä¸åŒçš„è¯ã€‚ å‡å¦‚æœ¬å“åº”è¯·æ±‚ä½¿ç”¨äº†å¼ºç¼“å­˜éªŒè¯ï¼Œé‚£ä¹ˆæœ¬æ¬¡å“åº”ä¸åº”è¯¥åŒ…å«å…¶ä»–å®ä½“å¤´ï¼›å¦åˆ™ï¼ˆä¾‹å¦‚ï¼ŒæŸä¸ªå¸¦æ¡ä»¶çš„ GET è¯·æ±‚ä½¿ç”¨äº†å¼±ç¼“å­˜éªŒè¯ï¼‰ï¼Œæœ¬æ¬¡å“åº”ç¦æ­¢åŒ…å«å…¶ä»–å®ä½“å¤´ï¼›è¿™é¿å…äº†ç¼“å­˜äº†çš„å®ä½“å†…å®¹å’Œæ›´æ–°äº†çš„å®ä½“å¤´ä¿¡æ¯ä¹‹é—´çš„ä¸ä¸€è‡´ã€‚ å‡å¦‚æŸä¸ª304å“åº”æŒ‡æ˜äº†å½“å‰æŸä¸ªå®ä½“æ²¡æœ‰ç¼“å­˜ï¼Œé‚£ä¹ˆç¼“å­˜ç³»ç»Ÿå¿…é¡»å¿½è§†è¿™ä¸ªå“åº”ï¼Œå¹¶ä¸”é‡å¤å‘é€ä¸åŒ…å«é™åˆ¶æ¡ä»¶çš„è¯·æ±‚ã€‚ å‡å¦‚æ¥æ”¶åˆ°ä¸€ä¸ªè¦æ±‚æ›´æ–°æŸä¸ªç¼“å­˜æ¡ç›®çš„304å“åº”ï¼Œé‚£ä¹ˆç¼“å­˜ç³»ç»Ÿå¿…é¡»æ›´æ–°æ•´ä¸ªæ¡ç›®ä»¥åæ˜ æ‰€æœ‰åœ¨å“åº”ä¸­è¢«æ›´æ–°çš„å­—æ®µçš„å€¼ã€‚</td></tr><tr><td>305</td><td>è¢«è¯·æ±‚çš„èµ„æºå¿…é¡»é€šè¿‡æŒ‡å®šçš„ä»£ç†æ‰èƒ½è¢«è®¿é—®ã€‚Location åŸŸä¸­å°†ç»™å‡ºæŒ‡å®šçš„ä»£ç†æ‰€åœ¨çš„ URI ä¿¡æ¯ï¼Œæ¥æ”¶è€…éœ€è¦é‡å¤å‘é€ä¸€ä¸ªå•ç‹¬çš„è¯·æ±‚ï¼Œé€šè¿‡è¿™ä¸ªä»£ç†æ‰èƒ½è®¿é—®ç›¸åº”èµ„æºã€‚åªæœ‰åŸå§‹æœåŠ¡å™¨æ‰èƒ½å»ºç«‹305å“åº”ã€‚ æ³¨æ„ï¼šRFC 2068ä¸­æ²¡æœ‰æ˜ç¡®305å“åº”æ˜¯ä¸ºäº†é‡å®šå‘ä¸€ä¸ªå•ç‹¬çš„è¯·æ±‚ï¼Œè€Œä¸”åªèƒ½è¢«åŸå§‹æœåŠ¡å™¨å»ºç«‹ã€‚å¿½è§†è¿™äº›é™åˆ¶å¯èƒ½å¯¼è‡´ä¸¥é‡çš„å®‰å…¨åæœã€‚</td></tr><tr><td>306</td><td>åœ¨æœ€æ–°ç‰ˆçš„è§„èŒƒä¸­ï¼Œ306çŠ¶æ€ç å·²ç»ä¸å†è¢«ä½¿ç”¨ã€‚</td></tr><tr><td>307</td><td>è¯·æ±‚çš„èµ„æºç°åœ¨ä¸´æ—¶ä»ä¸åŒçš„URI å“åº”è¯·æ±‚ã€‚ç”±äºè¿™æ ·çš„é‡å®šå‘æ˜¯ä¸´æ—¶çš„ï¼Œå®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘åŸæœ‰åœ°å€å‘é€ä»¥åçš„è¯·æ±‚ã€‚åªæœ‰åœ¨Cache-Controlæˆ–Expiresä¸­è¿›è¡Œäº†æŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå“åº”æ‰æ˜¯å¯ç¼“å­˜çš„ã€‚ æ–°çš„ä¸´æ—¶æ€§çš„URI åº”å½“åœ¨å“åº”çš„ Location åŸŸä¸­è¿”å›ã€‚é™¤éè¿™æ˜¯ä¸€ä¸ªHEAD è¯·æ±‚ï¼Œå¦åˆ™å“åº”çš„å®ä½“ä¸­åº”å½“åŒ…å«æŒ‡å‘æ–°çš„URI çš„è¶…é“¾æ¥åŠç®€çŸ­è¯´æ˜ã€‚å› ä¸ºéƒ¨åˆ†æµè§ˆå™¨ä¸èƒ½è¯†åˆ«307å“åº”ï¼Œå› æ­¤éœ€è¦æ·»åŠ ä¸Šè¿°å¿…è¦ä¿¡æ¯ä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿç†è§£å¹¶å‘æ–°çš„ URI å‘å‡ºè®¿é—®è¯·æ±‚ã€‚ å¦‚æœè¿™ä¸æ˜¯ä¸€ä¸ªGET æˆ–è€… HEAD è¯·æ±‚ï¼Œé‚£ä¹ˆæµè§ˆå™¨ç¦æ­¢è‡ªåŠ¨è¿›è¡Œé‡å®šå‘ï¼Œé™¤éå¾—åˆ°ç”¨æˆ·çš„ç¡®è®¤ï¼Œå› ä¸ºè¯·æ±‚çš„æ¡ä»¶å¯èƒ½å› æ­¤å‘ç”Ÿå˜åŒ–ã€‚</td></tr><tr><td>400</td><td>1ã€è¯­ä¹‰æœ‰è¯¯ï¼Œå½“å‰è¯·æ±‚æ— æ³•è¢«æœåŠ¡å™¨ç†è§£ã€‚é™¤éè¿›è¡Œä¿®æ”¹ï¼Œå¦åˆ™å®¢æˆ·ç«¯ä¸åº”è¯¥é‡å¤æäº¤è¿™ä¸ªè¯·æ±‚ã€‚ 2ã€è¯·æ±‚å‚æ•°æœ‰è¯¯ã€‚</td></tr><tr><td>401</td><td>å½“å‰è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯ã€‚è¯¥å“åº”å¿…é¡»åŒ…å«ä¸€ä¸ªé€‚ç”¨äºè¢«è¯·æ±‚èµ„æºçš„ WWW-Authenticate ä¿¡æ¯å¤´ç”¨ä»¥è¯¢é—®ç”¨æˆ·ä¿¡æ¯ã€‚å®¢æˆ·ç«¯å¯ä»¥é‡å¤æäº¤ä¸€ä¸ªåŒ…å«æ°å½“çš„ Authorization å¤´ä¿¡æ¯çš„è¯·æ±‚ã€‚å¦‚æœå½“å‰è¯·æ±‚å·²ç»åŒ…å«äº† Authorization è¯ä¹¦ï¼Œé‚£ä¹ˆ401å“åº”ä»£è¡¨ç€æœåŠ¡å™¨éªŒè¯å·²ç»æ‹’ç»äº†é‚£äº›è¯ä¹¦ã€‚å¦‚æœ401å“åº”åŒ…å«äº†ä¸å‰ä¸€ä¸ªå“åº”ç›¸åŒçš„èº«ä»½éªŒè¯è¯¢é—®ï¼Œä¸”æµè§ˆå™¨å·²ç»è‡³å°‘å°è¯•äº†ä¸€æ¬¡éªŒè¯ï¼Œé‚£ä¹ˆæµè§ˆå™¨åº”å½“å‘ç”¨æˆ·å±•ç¤ºå“åº”ä¸­åŒ…å«çš„å®ä½“ä¿¡æ¯ï¼Œå› ä¸ºè¿™ä¸ªå®ä½“ä¿¡æ¯ä¸­å¯èƒ½åŒ…å«äº†ç›¸å…³è¯Šæ–­ä¿¡æ¯ã€‚å‚è§RFC 2617ã€‚</td></tr><tr><td>402</td><td>è¯¥çŠ¶æ€ç æ˜¯ä¸ºäº†å°†æ¥å¯èƒ½çš„éœ€æ±‚è€Œé¢„ç•™çš„ã€‚</td></tr><tr><td>403</td><td>æœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒã€‚ä¸401å“åº”ä¸åŒçš„æ˜¯ï¼Œèº«ä»½éªŒè¯å¹¶ä¸èƒ½æä¾›ä»»ä½•å¸®åŠ©ï¼Œè€Œä¸”è¿™ä¸ªè¯·æ±‚ä¹Ÿä¸åº”è¯¥è¢«é‡å¤æäº¤ã€‚å¦‚æœè¿™ä¸æ˜¯ä¸€ä¸ª HEAD è¯·æ±‚ï¼Œè€Œä¸”æœåŠ¡å™¨å¸Œæœ›èƒ½å¤Ÿè®²æ¸…æ¥šä¸ºä½•è¯·æ±‚ä¸èƒ½è¢«æ‰§è¡Œï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨å®ä½“å†…æè¿°æ‹’ç»çš„åŸå› ã€‚å½“ç„¶æœåŠ¡å™¨ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª404å“åº”ï¼Œå‡å¦‚å®ƒä¸å¸Œæœ›è®©å®¢æˆ·ç«¯è·å¾—ä»»ä½•ä¿¡æ¯ã€‚</td></tr><tr><td>404</td><td>è¯·æ±‚å¤±è´¥ï¼Œè¯·æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„èµ„æºæœªè¢«åœ¨æœåŠ¡å™¨ä¸Šå‘ç°ã€‚æ²¡æœ‰ä¿¡æ¯èƒ½å¤Ÿå‘Šè¯‰ç”¨æˆ·è¿™ä¸ªçŠ¶å†µåˆ°åº•æ˜¯æš‚æ—¶çš„è¿˜æ˜¯æ°¸ä¹…çš„ã€‚å‡å¦‚æœåŠ¡å™¨çŸ¥é“æƒ…å†µçš„è¯ï¼Œåº”å½“ä½¿ç”¨410çŠ¶æ€ç æ¥å‘ŠçŸ¥æ—§èµ„æºå› ä¸ºæŸäº›å†…éƒ¨çš„é…ç½®æœºåˆ¶é—®é¢˜ï¼Œå·²ç»æ°¸ä¹…çš„ä¸å¯ç”¨ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯ä»¥è·³è½¬çš„åœ°å€ã€‚404è¿™ä¸ªçŠ¶æ€ç è¢«å¹¿æ³›åº”ç”¨äºå½“æœåŠ¡å™¨ä¸æƒ³æ­ç¤ºåˆ°åº•ä¸ºä½•è¯·æ±‚è¢«æ‹’ç»æˆ–è€…æ²¡æœ‰å…¶ä»–é€‚åˆçš„å“åº”å¯ç”¨çš„æƒ…å†µä¸‹ã€‚</td></tr><tr><td>405</td><td>è¯·æ±‚è¡Œä¸­æŒ‡å®šçš„è¯·æ±‚æ–¹æ³•ä¸èƒ½è¢«ç”¨äºè¯·æ±‚ç›¸åº”çš„èµ„æºã€‚è¯¥å“åº”å¿…é¡»è¿”å›ä¸€ä¸ªAllow å¤´ä¿¡æ¯ç”¨ä»¥è¡¨ç¤ºå‡ºå½“å‰èµ„æºèƒ½å¤Ÿæ¥å—çš„è¯·æ±‚æ–¹æ³•çš„åˆ—è¡¨ã€‚ é‰´äº PUTï¼ŒDELETE æ–¹æ³•ä¼šå¯¹æœåŠ¡å™¨ä¸Šçš„èµ„æºè¿›è¡Œå†™æ“ä½œï¼Œå› è€Œç»å¤§éƒ¨åˆ†çš„ç½‘é¡µæœåŠ¡å™¨éƒ½ä¸æ”¯æŒæˆ–è€…åœ¨é»˜è®¤é…ç½®ä¸‹ä¸å…è®¸ä¸Šè¿°è¯·æ±‚æ–¹æ³•ï¼Œå¯¹äºæ­¤ç±»è¯·æ±‚å‡ä¼šè¿”å›405é”™è¯¯ã€‚</td></tr><tr><td>406</td><td>è¯·æ±‚çš„èµ„æºçš„å†…å®¹ç‰¹æ€§æ— æ³•æ»¡è¶³è¯·æ±‚å¤´ä¸­çš„æ¡ä»¶ï¼Œå› è€Œæ— æ³•ç”Ÿæˆå“åº”å®ä½“ã€‚ é™¤éè¿™æ˜¯ä¸€ä¸ª HEAD è¯·æ±‚ï¼Œå¦åˆ™è¯¥å“åº”å°±åº”å½“è¿”å›ä¸€ä¸ªåŒ…å«å¯ä»¥è®©ç”¨æˆ·æˆ–è€…æµè§ˆå™¨ä»ä¸­é€‰æ‹©æœ€åˆé€‚çš„å®ä½“ç‰¹æ€§ä»¥åŠåœ°å€åˆ—è¡¨çš„å®ä½“ã€‚å®ä½“çš„æ ¼å¼ç”± Content-Type å¤´ä¸­å®šä¹‰çš„åª’ä½“ç±»å‹å†³å®šã€‚æµè§ˆå™¨å¯ä»¥æ ¹æ®æ ¼å¼åŠè‡ªèº«èƒ½åŠ›è‡ªè¡Œä½œå‡ºæœ€ä½³é€‰æ‹©ã€‚ä½†æ˜¯ï¼Œè§„èŒƒä¸­å¹¶æ²¡æœ‰å®šä¹‰ä»»ä½•ä½œå‡ºæ­¤ç±»è‡ªåŠ¨é€‰æ‹©çš„æ ‡å‡†ã€‚</td></tr><tr><td>407</td><td>ä¸401å“åº”ç±»ä¼¼ï¼Œåªä¸è¿‡å®¢æˆ·ç«¯å¿…é¡»åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šè¿›è¡Œèº«ä»½éªŒè¯ã€‚ä»£ç†æœåŠ¡å™¨å¿…é¡»è¿”å›ä¸€ä¸ª Proxy-Authenticate ç”¨ä»¥è¿›è¡Œèº«ä»½è¯¢é—®ã€‚å®¢æˆ·ç«¯å¯ä»¥è¿”å›ä¸€ä¸ª Proxy-Authorization ä¿¡æ¯å¤´ç”¨ä»¥éªŒè¯ã€‚å‚è§RFC 2617ã€‚</td></tr><tr><td>408</td><td>è¯·æ±‚è¶…æ—¶ã€‚å®¢æˆ·ç«¯æ²¡æœ‰åœ¨æœåŠ¡å™¨é¢„å¤‡ç­‰å¾…çš„æ—¶é—´å†…å®Œæˆä¸€ä¸ªè¯·æ±‚çš„å‘é€ã€‚å®¢æˆ·ç«¯å¯ä»¥éšæ—¶å†æ¬¡æäº¤è¿™ä¸€è¯·æ±‚è€Œæ— éœ€è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚</td></tr><tr><td>409</td><td>ç”±äºå’Œè¢«è¯·æ±‚çš„èµ„æºçš„å½“å‰çŠ¶æ€ä¹‹é—´å­˜åœ¨å†²çªï¼Œè¯·æ±‚æ— æ³•å®Œæˆã€‚è¿™ä¸ªä»£ç åªå…è®¸ç”¨åœ¨è¿™æ ·çš„æƒ…å†µä¸‹æ‰èƒ½è¢«ä½¿ç”¨ï¼šç”¨æˆ·è¢«è®¤ä¸ºèƒ½å¤Ÿè§£å†³å†²çªï¼Œå¹¶ä¸”ä¼šé‡æ–°æäº¤æ–°çš„è¯·æ±‚ã€‚è¯¥å“åº”åº”å½“åŒ…å«è¶³å¤Ÿçš„ä¿¡æ¯ä»¥ä¾¿ç”¨æˆ·å‘ç°å†²çªçš„æºå¤´ã€‚ å†²çªé€šå¸¸å‘ç”Ÿäºå¯¹ PUT è¯·æ±‚çš„å¤„ç†ä¸­ã€‚ä¾‹å¦‚ï¼Œåœ¨é‡‡ç”¨ç‰ˆæœ¬æ£€æŸ¥çš„ç¯å¢ƒä¸‹ï¼ŒæŸæ¬¡ PUT æäº¤çš„å¯¹ç‰¹å®šèµ„æºçš„ä¿®æ”¹è¯·æ±‚æ‰€é™„å¸¦çš„ç‰ˆæœ¬ä¿¡æ¯ä¸ä¹‹å‰çš„æŸä¸ªï¼ˆç¬¬ä¸‰æ–¹ï¼‰è¯·æ±‚å‘å†²çªï¼Œé‚£ä¹ˆæ­¤æ—¶æœåŠ¡å™¨å°±åº”è¯¥è¿”å›ä¸€ä¸ª409é”™è¯¯ï¼Œå‘ŠçŸ¥ç”¨æˆ·è¯·æ±‚æ— æ³•å®Œæˆã€‚æ­¤æ—¶ï¼Œå“åº”å®ä½“ä¸­å¾ˆå¯èƒ½ä¼šåŒ…å«ä¸¤ä¸ªå†²çªç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚æ¯”è¾ƒï¼Œä»¥ä¾¿ç”¨æˆ·é‡æ–°æäº¤å½’å¹¶ä»¥åçš„æ–°ç‰ˆæœ¬ã€‚</td></tr><tr><td>410</td><td>è¢«è¯·æ±‚çš„èµ„æºåœ¨æœåŠ¡å™¨ä¸Šå·²ç»ä¸å†å¯ç”¨ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å·²çŸ¥çš„è½¬å‘åœ°å€ã€‚è¿™æ ·çš„çŠ¶å†µåº”å½“è¢«è®¤ä¸ºæ˜¯æ°¸ä¹…æ€§çš„ã€‚å¦‚æœå¯èƒ½ï¼Œæ‹¥æœ‰é“¾æ¥ç¼–è¾‘åŠŸèƒ½çš„å®¢æˆ·ç«¯åº”å½“åœ¨è·å¾—ç”¨æˆ·è®¸å¯ååˆ é™¤æ‰€æœ‰æŒ‡å‘è¿™ä¸ªåœ°å€çš„å¼•ç”¨ã€‚å¦‚æœæœåŠ¡å™¨ä¸çŸ¥é“æˆ–è€…æ— æ³•ç¡®å®šè¿™ä¸ªçŠ¶å†µæ˜¯å¦æ˜¯æ°¸ä¹…çš„ï¼Œé‚£ä¹ˆå°±åº”è¯¥ä½¿ç”¨404çŠ¶æ€ç ã€‚é™¤éé¢å¤–è¯´æ˜ï¼Œå¦åˆ™è¿™ä¸ªå“åº”æ˜¯å¯ç¼“å­˜çš„ã€‚ 410å“åº”çš„ç›®çš„ä¸»è¦æ˜¯å¸®åŠ©ç½‘ç«™ç®¡ç†å‘˜ç»´æŠ¤ç½‘ç«™ï¼Œé€šçŸ¥ç”¨æˆ·è¯¥èµ„æºå·²ç»ä¸å†å¯ç”¨ï¼Œå¹¶ä¸”æœåŠ¡å™¨æ‹¥æœ‰è€…å¸Œæœ›æ‰€æœ‰æŒ‡å‘è¿™ä¸ªèµ„æºçš„è¿œç«¯è¿æ¥ä¹Ÿè¢«åˆ é™¤ã€‚è¿™ç±»äº‹ä»¶åœ¨é™æ—¶ã€å¢å€¼æœåŠ¡ä¸­å¾ˆæ™®éã€‚åŒæ ·ï¼Œ410å“åº”ä¹Ÿè¢«ç”¨äºé€šçŸ¥å®¢æˆ·ç«¯åœ¨å½“å‰æœåŠ¡å™¨ç«™ç‚¹ä¸Šï¼ŒåŸæœ¬å±äºæŸä¸ªä¸ªäººçš„èµ„æºå·²ç»ä¸å†å¯ç”¨ã€‚å½“ç„¶ï¼Œæ˜¯å¦éœ€è¦æŠŠæ‰€æœ‰æ°¸ä¹…ä¸å¯ç”¨çš„èµ„æºæ ‡è®°ä¸ºâ€™410 Goneâ€™ï¼Œä»¥åŠæ˜¯å¦éœ€è¦ä¿æŒæ­¤æ ‡è®°å¤šé•¿æ—¶é—´ï¼Œå®Œå…¨å–å†³äºæœåŠ¡å™¨æ‹¥æœ‰è€…ã€‚</td></tr><tr><td>411</td><td>æœåŠ¡å™¨æ‹’ç»åœ¨æ²¡æœ‰å®šä¹‰ Content-Length å¤´çš„æƒ…å†µä¸‹æ¥å—è¯·æ±‚ã€‚åœ¨æ·»åŠ äº†è¡¨æ˜è¯·æ±‚æ¶ˆæ¯ä½“é•¿åº¦çš„æœ‰æ•ˆ Content-Length å¤´ä¹‹åï¼Œå®¢æˆ·ç«¯å¯ä»¥å†æ¬¡æäº¤è¯¥è¯·æ±‚ã€‚</td></tr><tr><td>412</td><td>æœåŠ¡å™¨åœ¨éªŒè¯åœ¨è¯·æ±‚çš„å¤´å­—æ®µä¸­ç»™å‡ºå…ˆå†³æ¡ä»¶æ—¶ï¼Œæ²¡èƒ½æ»¡è¶³å…¶ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªã€‚è¿™ä¸ªçŠ¶æ€ç å…è®¸å®¢æˆ·ç«¯åœ¨è·å–èµ„æºæ—¶åœ¨è¯·æ±‚çš„å…ƒä¿¡æ¯ï¼ˆè¯·æ±‚å¤´å­—æ®µæ•°æ®ï¼‰ä¸­è®¾ç½®å…ˆå†³æ¡ä»¶ï¼Œä»¥æ­¤é¿å…è¯¥è¯·æ±‚æ–¹æ³•è¢«åº”ç”¨åˆ°å…¶å¸Œæœ›çš„å†…å®¹ä»¥å¤–çš„èµ„æºä¸Šã€‚</td></tr><tr><td>413</td><td>æœåŠ¡å™¨æ‹’ç»å¤„ç†å½“å‰è¯·æ±‚ï¼Œå› ä¸ºè¯¥è¯·æ±‚æäº¤çš„å®ä½“æ•°æ®å¤§å°è¶…è¿‡äº†æœåŠ¡å™¨æ„¿æ„æˆ–è€…èƒ½å¤Ÿå¤„ç†çš„èŒƒå›´ã€‚æ­¤ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨å¯ä»¥å…³é—­è¿æ¥ä»¥å…å®¢æˆ·ç«¯ç»§ç»­å‘é€æ­¤è¯·æ±‚ã€‚ å¦‚æœè¿™ä¸ªçŠ¶å†µæ˜¯ä¸´æ—¶çš„ï¼ŒæœåŠ¡å™¨åº”å½“è¿”å›ä¸€ä¸ª Retry-After çš„å“åº”å¤´ï¼Œä»¥å‘ŠçŸ¥å®¢æˆ·ç«¯å¯ä»¥åœ¨å¤šå°‘æ—¶é—´ä»¥åé‡æ–°å°è¯•ã€‚</td></tr><tr><td>414</td><td>è¯·æ±‚çš„URI é•¿åº¦è¶…è¿‡äº†æœåŠ¡å™¨èƒ½å¤Ÿè§£é‡Šçš„é•¿åº¦ï¼Œå› æ­¤æœåŠ¡å™¨æ‹’ç»å¯¹è¯¥è¯·æ±‚æä¾›æœåŠ¡ã€‚è¿™æ¯”è¾ƒå°‘è§ï¼Œé€šå¸¸çš„æƒ…å†µåŒ…æ‹¬ï¼š æœ¬åº”ä½¿ç”¨POSTæ–¹æ³•çš„è¡¨å•æäº¤å˜æˆäº†GETæ–¹æ³•ï¼Œå¯¼è‡´æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆQuery Stringï¼‰è¿‡é•¿ã€‚ é‡å®šå‘URI â€œé»‘æ´â€ï¼Œä¾‹å¦‚æ¯æ¬¡é‡å®šå‘æŠŠæ—§çš„ URI ä½œä¸ºæ–°çš„ URI çš„ä¸€éƒ¨åˆ†ï¼Œå¯¼è‡´åœ¨è‹¥å¹²æ¬¡é‡å®šå‘å URI è¶…é•¿ã€‚ å®¢æˆ·ç«¯æ­£åœ¨å°è¯•åˆ©ç”¨æŸäº›æœåŠ¡å™¨ä¸­å­˜åœ¨çš„å®‰å…¨æ¼æ´æ”»å‡»æœåŠ¡å™¨ã€‚è¿™ç±»æœåŠ¡å™¨ä½¿ç”¨å›ºå®šé•¿åº¦çš„ç¼“å†²è¯»å–æˆ–æ“ä½œè¯·æ±‚çš„ URIï¼Œå½“ GET åçš„å‚æ•°è¶…è¿‡æŸä¸ªæ•°å€¼åï¼Œå¯èƒ½ä¼šäº§ç”Ÿç¼“å†²åŒºæº¢å‡ºï¼Œå¯¼è‡´ä»»æ„ä»£ç è¢«æ‰§è¡Œ[1]ã€‚æ²¡æœ‰æ­¤ç±»æ¼æ´çš„æœåŠ¡å™¨ï¼Œåº”å½“è¿”å›414çŠ¶æ€ç ã€‚</td></tr><tr><td>415</td><td>å¯¹äºå½“å‰è¯·æ±‚çš„æ–¹æ³•å’Œæ‰€è¯·æ±‚çš„èµ„æºï¼Œè¯·æ±‚ä¸­æäº¤çš„å®ä½“å¹¶ä¸æ˜¯æœåŠ¡å™¨ä¸­æ‰€æ”¯æŒçš„æ ¼å¼ï¼Œå› æ­¤è¯·æ±‚è¢«æ‹’ç»ã€‚</td></tr><tr><td>416</td><td>å¦‚æœè¯·æ±‚ä¸­åŒ…å«äº† Range è¯·æ±‚å¤´ï¼Œå¹¶ä¸” Range ä¸­æŒ‡å®šçš„ä»»ä½•æ•°æ®èŒƒå›´éƒ½ä¸å½“å‰èµ„æºçš„å¯ç”¨èŒƒå›´ä¸é‡åˆï¼ŒåŒæ—¶è¯·æ±‚ä¸­åˆæ²¡æœ‰å®šä¹‰ If-Range è¯·æ±‚å¤´ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±åº”å½“è¿”å›416çŠ¶æ€ç ã€‚ å‡å¦‚ Range ä½¿ç”¨çš„æ˜¯å­—èŠ‚èŒƒå›´ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µå°±æ˜¯æŒ‡è¯·æ±‚æŒ‡å®šçš„æ‰€æœ‰æ•°æ®èŒƒå›´çš„é¦–å­—èŠ‚ä½ç½®éƒ½è¶…è¿‡äº†å½“å‰èµ„æºçš„é•¿åº¦ã€‚æœåŠ¡å™¨ä¹Ÿåº”å½“åœ¨è¿”å›416çŠ¶æ€ç çš„åŒæ—¶ï¼ŒåŒ…å«ä¸€ä¸ª Content-Range å®ä½“å¤´ï¼Œç”¨ä»¥æŒ‡æ˜å½“å‰èµ„æºçš„é•¿åº¦ã€‚è¿™ä¸ªå“åº”ä¹Ÿè¢«ç¦æ­¢ä½¿ç”¨ multipart/byteranges ä½œä¸ºå…¶ Content-Typeã€‚</td></tr><tr><td>417</td><td>åœ¨è¯·æ±‚å¤´ Expect ä¸­æŒ‡å®šçš„é¢„æœŸå†…å®¹æ— æ³•è¢«æœåŠ¡å™¨æ»¡è¶³ï¼Œæˆ–è€…è¿™ä¸ªæœåŠ¡å™¨æ˜¯ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œå®ƒæœ‰æ˜æ˜¾çš„è¯æ®è¯æ˜åœ¨å½“å‰è·¯ç”±çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼ŒExpect çš„å†…å®¹æ— æ³•è¢«æ»¡è¶³ã€‚</td></tr><tr><td>421</td><td>ä»å½“å‰å®¢æˆ·ç«¯æ‰€åœ¨çš„IPåœ°å€åˆ°æœåŠ¡å™¨çš„è¿æ¥æ•°è¶…è¿‡äº†æœåŠ¡å™¨è®¸å¯çš„æœ€å¤§èŒƒå›´ã€‚é€šå¸¸ï¼Œè¿™é‡Œçš„IPåœ°å€æŒ‡çš„æ˜¯ä»æœåŠ¡å™¨ä¸Šçœ‹åˆ°çš„å®¢æˆ·ç«¯åœ°å€ï¼ˆæ¯”å¦‚ç”¨æˆ·çš„ç½‘å…³æˆ–è€…ä»£ç†æœåŠ¡å™¨åœ°å€ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿æ¥æ•°çš„è®¡ç®—å¯èƒ½æ¶‰åŠåˆ°ä¸æ­¢ä¸€ä¸ªç»ˆç«¯ç”¨æˆ·ã€‚</td></tr><tr><td>422</td><td>ä»å½“å‰å®¢æˆ·ç«¯æ‰€åœ¨çš„IPåœ°å€åˆ°æœåŠ¡å™¨çš„è¿æ¥æ•°è¶…è¿‡äº†æœåŠ¡å™¨è®¸å¯çš„æœ€å¤§èŒƒå›´ã€‚é€šå¸¸ï¼Œè¿™é‡Œçš„IPåœ°å€æŒ‡çš„æ˜¯ä»æœåŠ¡å™¨ä¸Šçœ‹åˆ°çš„å®¢æˆ·ç«¯åœ°å€ï¼ˆæ¯”å¦‚ç”¨æˆ·çš„ç½‘å…³æˆ–è€…ä»£ç†æœåŠ¡å™¨åœ°å€ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿æ¥æ•°çš„è®¡ç®—å¯èƒ½æ¶‰åŠåˆ°ä¸æ­¢ä¸€ä¸ªç»ˆç«¯ç”¨æˆ·ã€‚</td></tr><tr><td>422</td><td>è¯·æ±‚æ ¼å¼æ­£ç¡®ï¼Œä½†æ˜¯ç”±äºå«æœ‰è¯­ä¹‰é”™è¯¯ï¼Œæ— æ³•å“åº”ã€‚ï¼ˆRFC 4918 WebDAVï¼‰423 Locked å½“å‰èµ„æºè¢«é”å®šã€‚ï¼ˆRFC 4918 WebDAVï¼‰</td></tr><tr><td>424</td><td>ç”±äºä¹‹å‰çš„æŸä¸ªè¯·æ±‚å‘ç”Ÿçš„é”™è¯¯ï¼Œå¯¼è‡´å½“å‰è¯·æ±‚å¤±è´¥ï¼Œä¾‹å¦‚ PROPPATCHã€‚ï¼ˆRFC 4918 WebDAVï¼‰</td></tr><tr><td>425</td><td>åœ¨WebDav Advanced Collections è‰æ¡ˆä¸­å®šä¹‰ï¼Œä½†æ˜¯æœªå‡ºç°åœ¨ã€ŠWebDAV é¡ºåºé›†åè®®ã€‹ï¼ˆRFC 3658ï¼‰ä¸­ã€‚</td></tr><tr><td>426</td><td>å®¢æˆ·ç«¯åº”å½“åˆ‡æ¢åˆ°TLS/1.0ã€‚ï¼ˆRFC 2817ï¼‰</td></tr><tr><td>449</td><td>ç”±å¾®è½¯æ‰©å±•ï¼Œä»£è¡¨è¯·æ±‚åº”å½“åœ¨æ‰§è¡Œå®Œé€‚å½“çš„æ“ä½œåè¿›è¡Œé‡è¯•ã€‚</td></tr><tr><td>500</td><td>æœåŠ¡å™¨é‡åˆ°äº†ä¸€ä¸ªæœªæ›¾é¢„æ–™çš„çŠ¶å†µï¼Œå¯¼è‡´äº†å®ƒæ— æ³•å®Œæˆå¯¹è¯·æ±‚çš„å¤„ç†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªé—®é¢˜éƒ½ä¼šåœ¨æœåŠ¡å™¨çš„ç¨‹åºç å‡ºé”™æ—¶å‡ºç°ã€‚</td></tr><tr><td>501</td><td>æœåŠ¡å™¨ä¸æ”¯æŒå½“å‰è¯·æ±‚æ‰€éœ€è¦çš„æŸä¸ªåŠŸèƒ½ã€‚å½“æœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ— æ³•æ”¯æŒå…¶å¯¹ä»»ä½•èµ„æºçš„è¯·æ±‚ã€‚</td></tr><tr><td>502</td><td>ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°æ— æ•ˆçš„å“åº”ã€‚</td></tr><tr><td>503</td><td>ç”±äºä¸´æ—¶çš„æœåŠ¡å™¨ç»´æŠ¤æˆ–è€…è¿‡è½½ï¼ŒæœåŠ¡å™¨å½“å‰æ— æ³•å¤„ç†è¯·æ±‚ã€‚è¿™ä¸ªçŠ¶å†µæ˜¯ä¸´æ—¶çš„ï¼Œå¹¶ä¸”å°†åœ¨ä¸€æ®µæ—¶é—´ä»¥åæ¢å¤ã€‚å¦‚æœèƒ½å¤Ÿé¢„è®¡å»¶è¿Ÿæ—¶é—´ï¼Œé‚£ä¹ˆå“åº”ä¸­å¯ä»¥åŒ…å«ä¸€ä¸ª Retry-After å¤´ç”¨ä»¥æ ‡æ˜è¿™ä¸ªå»¶è¿Ÿæ—¶é—´ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºè¿™ä¸ª Retry-After ä¿¡æ¯ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åº”å½“ä»¥å¤„ç†500å“åº”çš„æ–¹å¼å¤„ç†å®ƒã€‚ æ³¨æ„ï¼š503çŠ¶æ€ç çš„å­˜åœ¨å¹¶ä¸æ„å‘³ç€æœåŠ¡å™¨åœ¨è¿‡è½½çš„æ—¶å€™å¿…é¡»ä½¿ç”¨å®ƒã€‚æŸäº›æœåŠ¡å™¨åªä¸è¿‡æ˜¯å¸Œæœ›æ‹’ç»å®¢æˆ·ç«¯çš„è¿æ¥ã€‚</td></tr><tr><td>504</td><td>ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œæœªèƒ½åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨ï¼ˆURIæ ‡è¯†å‡ºçš„æœåŠ¡å™¨ï¼Œä¾‹å¦‚HTTPã€FTPã€LDAPï¼‰æˆ–è€…è¾…åŠ©æœåŠ¡å™¨ï¼ˆä¾‹å¦‚DNSï¼‰æ”¶åˆ°å“åº”ã€‚ æ³¨æ„ï¼šæŸäº›ä»£ç†æœåŠ¡å™¨åœ¨DNSæŸ¥è¯¢è¶…æ—¶æ—¶ä¼šè¿”å›400æˆ–è€…500é”™è¯¯</td></tr><tr><td>505</td><td>æœåŠ¡å™¨ä¸æ”¯æŒï¼Œæˆ–è€…æ‹’ç»æ”¯æŒåœ¨è¯·æ±‚ä¸­ä½¿ç”¨çš„ HTTP ç‰ˆæœ¬ã€‚è¿™æš—ç¤ºç€æœåŠ¡å™¨ä¸èƒ½æˆ–ä¸æ„¿ä½¿ç”¨ä¸å®¢æˆ·ç«¯ç›¸åŒçš„ç‰ˆæœ¬ã€‚å“åº”ä¸­åº”å½“åŒ…å«ä¸€ä¸ªæè¿°äº†ä¸ºä½•ç‰ˆæœ¬ä¸è¢«æ”¯æŒä»¥åŠæœåŠ¡å™¨æ”¯æŒå“ªäº›åè®®çš„å®ä½“ã€‚</td></tr><tr><td>506</td><td>ç”±ã€Šé€æ˜å†…å®¹åå•†åè®®ã€‹ï¼ˆRFC 2295ï¼‰æ‰©å±•ï¼Œä»£è¡¨æœåŠ¡å™¨å­˜åœ¨å†…éƒ¨é…ç½®é”™è¯¯ï¼šè¢«è¯·æ±‚çš„åå•†å˜å…ƒèµ„æºè¢«é…ç½®ä¸ºåœ¨é€æ˜å†…å®¹åå•†ä¸­ä½¿ç”¨è‡ªå·±ï¼Œå› æ­¤åœ¨ä¸€ä¸ªåå•†å¤„ç†ä¸­ä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„é‡ç‚¹ã€‚</td></tr><tr><td>507</td><td>æœåŠ¡å™¨æ— æ³•å­˜å‚¨å®Œæˆè¯·æ±‚æ‰€å¿…é¡»çš„å†…å®¹ã€‚è¿™ä¸ªçŠ¶å†µè¢«è®¤ä¸ºæ˜¯ä¸´æ—¶çš„ã€‚WebDAV (RFC 4918)</td></tr><tr><td>509</td><td>æœåŠ¡å™¨è¾¾åˆ°å¸¦å®½é™åˆ¶ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå®˜æ–¹çš„çŠ¶æ€ç ï¼Œä½†æ˜¯ä»è¢«å¹¿æ³›ä½¿ç”¨ã€‚</td></tr><tr><td>510</td><td>è·å–èµ„æºæ‰€éœ€è¦çš„ç­–ç•¥å¹¶æ²¡æœ‰æ²¡æ»¡è¶³ã€‚ï¼ˆRFC 2774ï¼‰</td></tr></tbody></table><h2 id="å“åº”æŠ¥å¤´"><a href="#å“åº”æŠ¥å¤´" class="headerlink" title="å“åº”æŠ¥å¤´"></a>å“åº”æŠ¥å¤´</h2><h3 id="å“åº”é¦–éƒ¨"><a href="#å“åº”é¦–éƒ¨" class="headerlink" title="å“åº”é¦–éƒ¨"></a>å“åº”é¦–éƒ¨</h3><table><thead><tr><th>é¦–éƒ¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>Age</td><td>ï¼ˆä»æœ€åˆåˆ›å»ºå¼€å§‹)å“åº”æŒç»­æ—¶é—´ã€‚</td></tr><tr><td>Public</td><td>æœåŠ¡å™¨ä¸ºå…¶èµ„æºæ”¯æŒçš„è¯·æ±‚æ–¹æ³•åˆ—è¡¨ã€‚</td></tr><tr><td>Retry-After</td><td>å¦‚æœèµ„æºä¸å¯ç”¨çš„è¯ï¼Œåœ¨æ­¤æ—¥æœŸæˆ–æ—¶é—´é‡è¯•ã€‚</td></tr><tr><td>Server</td><td>æœåŠ¡å™¨åº”ç”¨ç¨‹åºè½¯ä»¶çš„åç§°å’Œç‰ˆæœ¬ã€‚</td></tr><tr><td>Title</td><td>å¯¹ HTML æ–‡æ¡£æ¥è¯´ï¼Œå°±æ˜¯ HTML æ–‡æ¡£çš„æºç«¯ç»™å‡ºçš„æ ‡é¢˜ã€‚</td></tr><tr><td>Warning</td><td>æ¯”åŸå› çŸ­è¯­æ›´è¯¦ç»†ä¸€äº›çš„è­¦å‘ŠæŠ¥æ–‡ã€‚</td></tr><tr><td>Accept-Ranges</td><td>å¯¹æ­¤èµ„æºæ¥è¯´ï¼ŒæœåŠ¡å™¨å¯æ¥å—çš„èŒƒå›´ç±»å‹ã€‚</td></tr><tr><td>Vary</td><td>æœåŠ¡å™¨æŸ¥çœ‹çš„å…¶ä»–é¦–éƒ¨åˆ—è¡¨ï¼Œå¯èƒ½ä¼šä½¿å“åº”å‘ç”Ÿå˜åŒ–ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªé¦–éƒ¨åˆ—è¡¨ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ®è¿™äº›é¦–éƒ¨çš„å†…å®¹æŒ‘é€‰å‡ºæœ€é€‚åˆçš„èµ„æºç‰ˆæœ¬å‘é€ç»™å®¢æˆ·ç«¯ã€‚</td></tr><tr><td>Proxy-Authenticate</td><td>æ¥è‡ªä»£ç†çš„å¯¹å®¢æˆ·ç«¯çš„è´¨è¯¢åˆ—è¡¨ã€‚</td></tr><tr><td>Set-Cookie</td><td>ä¸æ˜¯çœŸæ­£çš„å®‰å…¨é¦–éƒ¨ï¼Œä½†éšå«å®‰å…¨åŠŸèƒ½ï¼›å¯ä»¥åœ¨å®¢æˆ·ç«¯è®¾ç½®ä¸€ä¸ªä»¤ç‰Œï¼Œä»¥ä¾¿æœåŠ¡å™¨å¯¹å…¶å®¢æˆ·ç«¯è¿›è¡Œæ ‡è¯†ã€‚</td></tr><tr><td>Set-Cookie2</td><td>ä¸ Set-Cookie ç±»ä¼¼ï¼ŒPFC 2965 Cookieå®šä¹‰ã€‚</td></tr><tr><td>WWW-Authenticate</td><td>æ¥è‡ªæœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„è´¨è¯¢åˆ—è¡¨ã€‚</td></tr></tbody></table><h1 id="å®ä½“é¦–éƒ¨-1"><a href="#å®ä½“é¦–éƒ¨-1" class="headerlink" title="å®ä½“é¦–éƒ¨"></a>å®ä½“é¦–éƒ¨</h1><table><thead><tr><th>é¦–éƒ¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>Allow</td><td>åˆ—å‡ºå¯ä»¥å¯¹æ­¤äº‹ææ‰§è¡Œçš„è¯·æ±‚æ–¹æ³•ã€‚</td></tr><tr><td>Location</td><td>å‘ŠçŸ¥å®¢æˆ·ç«¯å®é™…ä¸Šä½äºä½•å¤„ï¼›ç”¨äºå°†æ¥æ”¶ç«¯å®šå‘åˆ°èµ„æºçš„(å¯èƒ½æ˜¯æ–°çš„)ä½ç½®(URL)ä¸Šå»ã€‚</td></tr><tr><td>Content-Base</td><td>è§£é‡Šä¸»ä½“ä¸­çš„ç›¸å¯¹ URL æ—¶ä½¿ç”¨çš„åŸºç¡€ URL</td></tr><tr><td>Content-Encoding</td><td>å¯¹ä¸»ä½“æ‰§è¡Œçš„ä»»æ„ç¼–ç æ–¹å¼ã€‚</td></tr><tr><td>Content-Language</td><td>ç†è§£ä¸»ä½“æ—¶æœ€é€‚å®œä½¿ç”¨çš„è‡ªç„¶è¯­è¨€ã€‚</td></tr><tr><td>Content-Length</td><td>ä¸»ä½“çš„é•¿åº¦æˆ–å°ºå¯¸ã€‚</td></tr><tr><td>Content-Locaton</td><td>èµ„æºå®é™…æ‰€å¤„çš„ä½ç½®ã€‚</td></tr><tr><td>Content-MD5</td><td>ä¸»ä½“çš„ MD5 æ ¡éªŒå’Œã€‚</td></tr><tr><td>Content-Range</td><td>åœ¨æ•´ä¸ªèµ„æºä¸­æ­¤å®ä½“è¡¨ç¤ºçš„å­—èŠ‚èŒƒå›´ã€‚</td></tr><tr><td>Content-Type</td><td>åœ¨è¿™ä¸ªä¸»ä½“çš„å¯¹è±¡ç±»å‹ã€‚</td></tr><tr><td>ETag</td><td>ä¸æ­¤å®ä½“ç›¸å…³çš„å®ä½“æ ‡è®°ã€‚</td></tr><tr><td>Expires</td><td>å®ä½“ä¸å†æœ‰æ•ˆï¼Œè¦ä»åŸå§‹çš„æºç«¯å†æ¬¡è·å–æ­¤å®ä½“çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</td></tr><tr><td>Last-Modified</td><td>è¿™ä¸ªå®ä½“æœ€åä¸€æ¬¡è¢«ä¿®æ”¹çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</td></tr></tbody></table><p><a href="http://tool.oschina.net/commons?type=5" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åšä¸€ä¸‹httpæ€»ç»“å§ï¼ï¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://yoursite.com/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>template</title>
    <link href="http://yoursite.com/2018/04/18/template/"/>
    <id>http://yoursite.com/2018/04/18/template/</id>
    <published>2018-04-18T03:38:08.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>ä¹‹å‰å­¦ä¹ Reactäº†è§£äº†ä¸€ä¸‹JSXçš„ç¼–è¯‘ï¼Œé‚£ä¹ˆå¯¹äºVueä¸­çš„templateï¼Œæ˜¯æ€ä¹ˆç¼–è¯‘çš„å‘¢ï¼Ÿ<br><a id="more"></a></p></blockquote><p>compileç¼–è¯‘ä¸»è¦åˆ†ä¸ºparseã€optimizeä¸generateä¸‰ä¸ªé˜¶æ®µï¼Œæœ€ç»ˆå¾—åˆ°render functionã€‚</p><h3 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h3><p>parseä¼šç”¨æ­£åˆ™è¡¨è¾¾å¼å°†templateå­—ç¬¦ä¸²è¿›è¡Œè§£æï¼Œå¾—åˆ°æŒ‡ä»¤ã€classã€styleå•¥çš„ï¼Œå½¢æˆä¸€ä¸ªå«ASTçš„ä¸œè¥¿ã€‚<br>å½¢å¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;div :class=<span class="string">"c"</span> class=<span class="string">"demo"</span> v-if=<span class="string">"isShow"</span>&gt;</span><br><span class="line">    &lt;span v-for=<span class="string">"item in sz"</span>&gt;&#123;&#123;item&#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    /* æ ‡ç­¾å±æ€§çš„mapï¼Œè®°å½•äº†æ ‡ç­¾ä¸Šå±æ€§ */</span><br><span class="line">    <span class="string">'attrsMap'</span>: &#123;</span><br><span class="line">        <span class="string">':class'</span>: <span class="string">'c'</span>,</span><br><span class="line">        <span class="string">'class'</span>: <span class="string">'demo'</span>,</span><br><span class="line">        <span class="string">'v-if'</span>: <span class="string">'isShow'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    /* è§£æå¾—åˆ°çš„:class */</span><br><span class="line">    <span class="string">'classBinding'</span>: <span class="string">'c'</span>,</span><br><span class="line">    /* æ ‡ç­¾å±æ€§v-if */</span><br><span class="line">    <span class="string">'if'</span>: <span class="string">'isShow'</span>,</span><br><span class="line">    /* v-ifçš„æ¡ä»¶ */</span><br><span class="line">    <span class="string">'ifConditions'</span>: [</span><br><span class="line">        <span class="string">'exp'</span>: <span class="string">'isShow'</span></span><br><span class="line">    ],</span><br><span class="line">    /* æ ‡ç­¾å±æ€§class */</span><br><span class="line">    <span class="string">'staticClass'</span>: <span class="string">'demo'</span>,</span><br><span class="line">    /* æ ‡ç­¾çš„tag */</span><br><span class="line">    <span class="string">'tag'</span>: <span class="string">'div'</span>,</span><br><span class="line">    /* å­æ ‡ç­¾æ•°ç»„ */</span><br><span class="line">    <span class="string">'children'</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">'attrsMap'</span>: &#123;</span><br><span class="line">                <span class="string">'v-for'</span>: <span class="string">"item in sz"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            /* <span class="keyword">for</span>å¾ªç¯çš„å‚æ•° */</span><br><span class="line">            <span class="string">'alias'</span>: <span class="string">"item"</span>,</span><br><span class="line">            /* <span class="keyword">for</span>å¾ªç¯çš„å¯¹è±¡ */</span><br><span class="line">            <span class="string">'for'</span>: <span class="string">'sz'</span>,</span><br><span class="line">            /* <span class="keyword">for</span>å¾ªç¯æ˜¯å¦å·²ç»è¢«å¤„ç†çš„æ ‡è®°ä½ */</span><br><span class="line">            <span class="string">'forProcessed'</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">'tag'</span>: <span class="string">'span'</span>,</span><br><span class="line">            <span class="string">'children'</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    /* è¡¨è¾¾å¼ï¼Œ_sæ˜¯ä¸€ä¸ªè½¬å­—ç¬¦ä¸²çš„å‡½æ•° */</span><br><span class="line">                    <span class="string">'expression'</span>: <span class="string">'_s(item)'</span>,</span><br><span class="line">                    <span class="string">'text'</span>: <span class="string">'&#123;&#123;item&#125;&#125;'</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="optimize"><a href="#optimize" class="headerlink" title="optimize"></a>optimize</h3><p>optimizeä¸»è¦ä½œç”¨æ˜¯ä¼˜åŒ–ï¼Œè™šæ‹ŸDomåœ¨åœ¨æ¯”å¯¹æ—¶ï¼Œå¯¹äºä¸€äº›ä¿®é¥°æ€§èŠ‚ç‚¹å’Œæ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„èŠ‚ç‚¹ï¼Œæ˜¯æ²¡æœ‰å¿…è¦æ¯”å¯¹çš„ï¼Œè¿™ä¸ªé˜¶æ®µå°±æ˜¯<br>æ¥æ ‡è®°é™æ€èŠ‚ç‚¹çš„ã€‚<br>ç»è¿‡ optimize è¿™å±‚çš„å¤„ç†ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¼šåŠ ä¸Š static å±æ€§ï¼Œç”¨æ¥æ ‡è®°æ˜¯å¦æ˜¯é™æ€çš„ã€‚</p><h3 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h3><p>generate ä¼šå°† AST è½¬åŒ–æˆ render funtion å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆå¾—åˆ° render çš„å­—ç¬¦ä¸²ä»¥åŠ staticRenderFns å­—ç¬¦ä¸²ã€‚</p><h3 id="VNode"><a href="#VNode" class="headerlink" title="VNode"></a>VNode</h3><p>render function ä¼šè¢«è½¬åŒ–æˆ VNode èŠ‚ç‚¹ï¼Œå®ƒæ˜¯ç”¨å¯¹è±¡å±æ€§æ¥æè¿°èŠ‚ç‚¹çš„ä¸€ç§æ–¹å¼ï¼Œå®é™…ä¸Šå®ƒåªæ˜¯ä¸€å±‚å¯¹çœŸå® DOM çš„æŠ½è±¡ã€‚<br>æµè§ˆå™¨å¼•æ“å¯åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ¸²æŸ“å¼•æ“å’Œjsè§£é‡Šå™¨ï¼Œå½“æˆ‘ä»¬è·å–Domå…ƒç´ ã€æ“çºµDomæ—¶æ˜¯åœ¨è§£é‡Šå™¨è¿™è¾¹ï¼Œç„¶åæ›´æ–°æ—¶ï¼Œå°±è·‘åˆ°äº†æ¸²æŸ“å¼•æ“é‚£è¾¹ï¼Œ</p><p>è¿™æ ·è·¨çº¿ç¨‹æ˜¯å¾ˆæµªè´¹æˆæœ¬çš„ï¼Œå°¤å…¶æ˜¯ä¸€è¡Œä¸€è¡Œçš„æ‰§è¡Œæ—¶ï¼Œä¸€èˆ¬å¼€å‘æ—¶ï¼Œä¼šå…ˆåˆ›å»ºdocumentFragmentï¼Œç„¶åæŠŠå…ƒç´ è£…è¿›å»ï¼Œæœ€åæ”¾åˆ°æ–‡æ¡£é‡Œï¼Œ</p><p>Vueåœ¨æ¸²æŸ“å‰å°†æ–°äº§ç”Ÿçš„ VNode èŠ‚ç‚¹ä¸è€ VNode è¿›è¡Œä¸€ä¸ª patch çš„è¿‡ç¨‹ï¼Œæ¯”å¯¹å¾—å‡ºã€Œå·®å¼‚ã€ï¼Œæœ€ç»ˆå°†è¿™äº›ã€Œå·®å¼‚ã€æ›´æ–°åˆ°è§†å›¾ä¸Šã€‚</p><p>VueåŸºäºObject.definePropertyæ–¹æ³•æ„å»ºäº†ä¸€ä¸ªå“åº”å¼ç³»ç»Ÿï¼Œå¯ä»¥å®ç°è²Œä¼¼ç«‹å³æ¸²æŸ“çš„åŠŸèƒ½ï¼Œä½†æ˜¯é¢‘ç¹æ¸²æŸ“ä¸ä¹Ÿå¾ˆæµªè´¹æ€§èƒ½å—ï¼Ÿè¿˜æ˜¯è¯´ä»–æœ‰åƒReact<br>é‚£æ ·æœ‰åˆ©ç”¨setStateåˆå¹¶çŠ¶æ€çš„è¿‡ç¨‹ã€‚</p><h3 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h3><p>å…¶å®å½“é¡µé¢åœ¨è§¦å‘æ›´æ–°çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªä¾èµ–æ”¶é›†çš„è¿‡ç¨‹ï¼Œé€šè¿‡Depè®¢é˜…è€…å’ŒWatcherç›‘å¬è€…æ¥å®ç°çš„ï¼Œä¹‹å‰æœ‰å†™è¿‡ç®€é™‹çš„ä»£ç ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">//è®¢é˜…è€…</span><br><span class="line">class Dep&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span></span>()&#123;</span><br><span class="line">        //ç”¨æ¥å­˜æ”¾watcherå¯¹è±¡çš„æ•°ç»„</span><br><span class="line">        this.subs = [];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //åœ¨subsä¸­æ·»åŠ ä¸€ä¸ªwatcherå¯¹è±¡</span><br><span class="line">    addSub(sub)&#123;</span><br><span class="line">        this.subs.push(sub);</span><br><span class="line">    &#125;</span><br><span class="line">    //é€šçŸ¥watcherå¯¹è±¡æ›´æ–°è§†å›¾</span><br><span class="line">    <span class="function"><span class="title">notify</span></span>()&#123;</span><br><span class="line">        this.subs.forEach((sub)=&gt;&#123;</span><br><span class="line">            sub.update();</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//è§‚å¯Ÿè€…</span><br><span class="line"></span><br><span class="line">class watcher&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span></span>()&#123;</span><br><span class="line">        //åœ¨newä¸€ä¸ªwatcherå¯¹è±¡æ—¶å°†è¯¥å¯¹è±¡èµ‹å€¼ç»™Dep.target,åœ¨getæ—¶ä¼šç”¨åˆ°ã€‚</span><br><span class="line">        Dep.target  =this;</span><br><span class="line">        console.log(this)</span><br><span class="line">    &#125;</span><br><span class="line">    //æ›´æ–°è§†å›¾çš„æ–¹æ³•</span><br><span class="line">    <span class="function"><span class="title">update</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">'view change'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½å§ï¼  æŠŠVueå’Œä¹‹å‰æåˆ°çš„åŒå‘ç»‘å®šçš„ä¹Ÿè´´ä¸Šå§</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">cb</span></span>() &#123;</span><br><span class="line">//    ç®€é™‹çš„è§†å›¾æ›´æ–°å‡½æ•°</span><br><span class="line">    console.log(<span class="string">'è§†å›¾æ›´æ–°äº†'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> defineReactive(obj, key, val) &#123;</span><br><span class="line">    const dep = new Dep();</span><br><span class="line">    Object.defineProperty(obj,key,&#123;</span><br><span class="line">        enumerable:<span class="literal">true</span>,   //å±æ€§å¯æšä¸¾</span><br><span class="line">        configurable:<span class="literal">true</span>, //å±æ€§å¯è¢«åˆ é™¤æˆ–ä¿®æ”¹</span><br><span class="line">        get:<span class="keyword">function</span> <span class="function"><span class="title">reactiveGetter</span></span>()&#123;</span><br><span class="line"></span><br><span class="line">            dep.addSub(Dep.target);</span><br><span class="line">            <span class="built_in">return</span> val;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="built_in">set</span>:<span class="keyword">function</span> reactiveSetter(newVal)&#123;</span><br><span class="line">            <span class="keyword">if</span>(newVal===val) <span class="built_in">return</span>;</span><br><span class="line">            //é€šçŸ¥watcherå¯¹è±¡æ›´æ–°è§†å›¾</span><br><span class="line">            val = newVal</span><br><span class="line">            dep.notify();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> observer(value)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!value||(typeof value !== <span class="string">'object'</span>))&#123;</span><br><span class="line">        <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Object.keys(value).forEach((key)=&gt;&#123;</span><br><span class="line">        defineReactive(value,key,value[key]);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Vue &#123;</span><br><span class="line">    constructor(options)&#123;</span><br><span class="line">        this._data = options.data;</span><br><span class="line">        observer(this._data);</span><br><span class="line">        //newä¸€ä¸ªè§‚å¯Ÿè€…å¯¹è±¡ï¼Œè¿™æ—¶å€™Dep.targetä¼šæŒ‡å‘è¿™ä¸ªwatcher</span><br><span class="line">        new watcher();</span><br><span class="line">        //æ¨¡æ‹Ÿrenderè¿‡ç¨‹ï¼Œä¸ºäº†è§¦å‘<span class="built_in">test</span>å±æ€§çš„getå‡½æ•°</span><br><span class="line">        console.log(<span class="string">'render'</span>,this._data.test);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¾èµ–æ”¶é›†å…¶å®æ¥å—çš„å°±æ˜¯Watcherçš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯åœ¨æ•°æ®è¢«è§¦å‘setteråï¼Œé€šè¿‡updateæ–¹æ³•æ¥æ›´æ–°è¯•å›¾ï¼Œä½†æ˜¯è¿™ä¸ªWatcherå¯¹è±¡å…¶å®ä¼š<br>è¢«pushåˆ°ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œåœ¨ä¸‹ä¸€æ¬¡tickæ—¶ï¼ŒæŠŠé˜Ÿåˆ—é‡Œçš„å…¨éƒ¨æ‹¿å‡ºæ¥æ‰§è¡Œï¼Œè¿™è®©æˆ‘æƒ³åˆ°äº†nodeçš„æ‰§è¡Œæœºåˆ¶ã€‚Vueè²Œä¼¼æ˜¯é€šè¿‡Promiseï¼ŒseTimeoutç­‰æ–¹æ³•åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—<br>ï¼ˆmicrotask queueï¼‰é‡Œåˆ›å»ºä¸€ä¸ªäº‹ä»¶ï¼Œå½“ä¸»çº¿ç¨‹ï¼ˆè°ƒç”¨æ ˆï¼‰æ¸…ç©ºæ—¶ï¼Œåœ¨ä¸€å®šæ¡ä»¶ä¸‹æ‰§è¡Œè¿™ä¸ªäº‹ä»¶ã€‚è¿™ä¹‹é—´å½“ç„¶æœ‰ä¸€ä¸ªçŠ¶æ€åˆå¹¶çš„ è¿‡ç¨‹ï¼Œå› ä¸ºæŠŠæ‰€æœ‰çš„äº‹ä»¶éƒ½æ‰§è¡Œä¹Ÿä¸æ˜¯å¾ˆå¥½ï¼Œã€‚åœ¨Vueè¢«å®ä¾‹åŒ–æ—¶ï¼Œwatcherè¢«è®°å½•ä¸‹æ¥ï¼Œç„¶åé€šè¿‡å†…éƒ¨å˜é‡idæ ‡è®°Watcherï¼Œæ¨å…¥é˜Ÿåˆ—çš„æ—¶å€™ï¼Œç›¸åŒçš„ä¼šè¢«å‰”é™¤ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¹‹å‰å­¦ä¹ Reactäº†è§£äº†ä¸€ä¸‹JSXçš„ç¼–è¯‘ï¼Œé‚£ä¹ˆå¯¹äºVueä¸­çš„templateï¼Œæ˜¯æ€ä¹ˆç¼–è¯‘çš„å‘¢ï¼Ÿ&lt;br&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>axioshhh</title>
    <link href="http://yoursite.com/2018/04/10/axioshhh/"/>
    <id>http://yoursite.com/2018/04/10/axioshhh/</id>
    <published>2018-04-09T16:51:31.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>è¿™å‡ å¤©åœ¨ç”¨Vueå†™é”€å”®ç³»ç»Ÿï¼Œæƒ³ç€åå°ç”¨nodeå†™å‡ ä¸ªæ¥å£ï¼Œç»™å‰ç«¯ç”¨ï¼Œä¹‹å‰ç™»é™†ä¿¡æ¯ï¼Œæš‚æ—¶å­˜åœ¨localStorageé‡Œï¼ŒçœŸæ˜¯è„¸çº¢ã€‚</p></blockquote><a id="more"></a><p>è¿™ä¸ªé¡¹ç›®æ˜¯å¾ˆæ—©ä¹‹å‰å†™è¿‡çš„ï¼Œæ²¡æœ‰ç½‘ç»œè¯·æ±‚ï¼Œä¹Ÿæ²¡æœ‰Vuexï¼Œæ‰€ä»¥æƒ³ç€é‡å†™ä¸€éï¼Œé¡ºä¾¿æ‹æ‹nodeå’Œhttpé€šä¿¡è¿™ä¸€å—ã€‚<br></p><p>è¯´å®è¯ï¼Œæˆ‘è§‰å¾—æˆ‘åå°å¾ˆæ¸£ï¼Œä½†æ˜¯ä¹Ÿæ²¡æƒ³åˆ°è¿™ä¹ˆæ¸£ï¼Œä¹‹å‰ç”¨åŸç”Ÿjså»å°è£…ajaxï¼Œå•¥äº‹æ²¡æœ‰ã€‚<br></p><p>ä»Šå¤©ç”¨axiosï¼Œå„ç§Content-typeä¸é€‚é…ï¼Œå¥½ä¸å®¹æ˜“å¥½ä¸å®¹æ˜“ä¼ è¿‡æ¥ï¼Œæ‰“å°å‡ºæ¥æ˜¯è¿™æ ·çš„<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/axioshhh.png" alt=""><br>exm????ä¸ºå•¥ä¼ æ¥çš„å€¼åœ¨keyä¸Šï¼Œ<br>æ˜¯æˆ‘çš„body-parserç”¨çš„ä¸å¯¹å—ï¼Ÿä¹‹å‰ä¹Ÿæ˜¯è¿™ä¹ˆç”¨çš„å•Š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> bodyParser = require(<span class="string">"body-parser"</span>);</span><br><span class="line">app.use(bodyParser.json());</span><br><span class="line">app.use(bodyParser.urlencoded(&#123; extended: <span class="literal">true</span> &#125;));</span><br></pre></td></tr></table></figure></p><p>å¥½å§ï¼Œå…ˆä¸ç®¡äº†ï¼Œå…ˆç”¨keysæ–¹æ³•å–å‡ºæ¥ï¼Œä¹‹åå†ç ”ç©¶ï¼Œå‘ç°è‡ªå·±å¯¹å‰åç«¯é€šä¿¡ï¼Œä¸€æ— æ‰€çŸ¥ã€‚</p><h3 id="axiosç®€ä»‹"><a href="#axiosç®€ä»‹" class="headerlink" title="axiosç®€ä»‹"></a>axiosç®€ä»‹</h3><p>axiosæ˜¯ä¸€ä¸ªåŸºäºPromiseç”¨äºæµè§ˆå™¨å’Œnodeçš„httpå®¢æˆ·ç«¯ï¼Œæ˜¯å¯¹ajaxçš„å°è£…ï¼Œå¦‚åŒangularçš„httpclientã€‚<br>é€šè¿‡npm install axioså®‰è£…åï¼Œimportå¼•å…¥ï¼Œç„¶åå¯ä»¥é€šè¿‡Vue.prototype.$http=axiosï¼Œèµ‹å€¼åœ¨Vueçš„åŸå‹ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä»»ä½•å•é¡µé¢ç»„ä»¶é‡Œï¼Œä½¿ç”¨axiosã€‚<br>å€¼å¾—ä¸€ä½“çš„æ˜¯axiosä¸æ˜¯ä¸ªæ’ä»¶ï¼Œä¹‹å‰æˆ‘æ˜¯é€šè¿‡Vue.use(axios)ä½¿ç”¨çš„ï¼Œå‘ç°äº†å„å¼å„æ ·çš„bugã€‚</p><h3 id="axiosé…ç½®"><a href="#axiosé…ç½®" class="headerlink" title="axiosé…ç½®"></a>axiosé…ç½®</h3><p>èˆ¬ä¸€ä¸ªé¡¹ç›®ä¸­çš„æ ¹hostå’ŒContent-Typeéƒ½æ˜¯ç»Ÿä¸€çš„ï¼Œè¿™é‡Œå¯¹axiosè¿›è¡Œç»Ÿä¸€çš„é…ç½®ï¼ˆå¦‚æœè¿™ä¸ªåç«¯éœ€è¦formDataæ ¼å¼çš„è¡¨å•å³content-type=â€™application/x-www-form-urlencoded;charset=utf-8â€™æ•°æ®ï¼Œéœ€è¦å¯¹è¯·æ±‚æ•°æ®è¿›è¡Œè¡¨å•åºåˆ—åŒ–ï¼Œæ¯”è¾ƒå¿«çš„æ–¹å¼å°±æ˜¯å¼•å…¥qsåº“qs.stringifyè¿›è¡Œå¤„ç†åä¼ è¾“ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.headers.common[<span class="string">'Content-Type'</span>] = <span class="string">'application/json'</span></span><br><span class="line">axios.defaults.baseURL = _apiHost</span><br></pre></td></tr></table></figure><h3 id="axiosä½¿ç”¨æ–¹æ³•"><a href="#axiosä½¿ç”¨æ–¹æ³•" class="headerlink" title="axiosä½¿ç”¨æ–¹æ³•"></a>axiosä½¿ç”¨æ–¹æ³•</h3><p>åŸºæœ¬ä½¿ç”¨æ–¹æ³•<br>GETè¯·æ±‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// Make a request <span class="keyword">for</span> a user with a given ID</span><br><span class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</span><br><span class="line">  .<span class="keyword">then</span>(<span class="keyword">function</span> (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="keyword">function</span> (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">// Optionally the request above could also be <span class="keyword">done</span> as</span><br><span class="line">axios.get(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: 12345</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="keyword">then</span>(<span class="keyword">function</span> (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="keyword">function</span> (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p><p>POSTè¯·æ±‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(<span class="string">'/user'</span>, &#123;</span><br><span class="line">   firstName: <span class="string">'Fred'</span>,</span><br><span class="line">   lastName: <span class="string">'Flintstone'</span></span><br><span class="line"> &#125;)</span><br><span class="line"> .<span class="keyword">then</span>(<span class="keyword">function</span> (response) &#123;</span><br><span class="line">   console.log(response);</span><br><span class="line"> &#125;)</span><br><span class="line"> .catch(<span class="keyword">function</span> (error) &#123;</span><br><span class="line">   console.log(error);</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure></p><p>åŒæ—¶æ‰§è¡Œå¤šä¸ª<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getUserAccount</span></span>() &#123;</span><br><span class="line">  <span class="built_in">return</span> axios.get(<span class="string">'/user/12345'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getUserPermissions</span></span>() &#123;</span><br><span class="line">  <span class="built_in">return</span> axios.get(<span class="string">'/user/12345/permissions'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">  .<span class="keyword">then</span>(axios.spread(<span class="keyword">function</span> (acct, perms) &#123;</span><br><span class="line">    // Both requests are now complete</span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥ç›´æ¥é€šè¿‡configæ¥å®Œæˆè¯·æ±‚<br>axios(config)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">'post'</span>,</span><br><span class="line">  url: <span class="string">'/user/12345'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>è¯¦æƒ…è¯·ç‚¹å‡»<a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener">è¿™é‡Œ</a></p><h3 id="è¯·æ±‚é…ç½®"><a href="#è¯·æ±‚é…ç½®" class="headerlink" title="è¯·æ±‚é…ç½®"></a>è¯·æ±‚é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  // `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL</span><br><span class="line">  url: <span class="string">'/user'</span>,</span><br><span class="line"></span><br><span class="line">  // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³•</span><br><span class="line">  method: <span class="string">'get'</span>, // é»˜è®¤æ˜¯ get</span><br><span class="line"></span><br><span class="line">  // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚</span><br><span class="line">  // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL</span><br><span class="line">  baseURL: <span class="string">'https://some-domain.com/api/'</span>,</span><br><span class="line"></span><br><span class="line">  // `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ®</span><br><span class="line">  // åªèƒ½ç”¨åœ¨ <span class="string">'PUT'</span>, <span class="string">'POST'</span> å’Œ <span class="string">'PATCH'</span> è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³•</span><br><span class="line">  // åé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream</span><br><span class="line">  transformRequest: [<span class="keyword">function</span> (data) &#123;</span><br><span class="line">    // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†</span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  // `transformResponse` åœ¨ä¼ é€’ç»™ <span class="keyword">then</span>/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ®</span><br><span class="line">  transformResponse: [<span class="keyword">function</span> (data) &#123;</span><br><span class="line">    // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†</span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  // `headers` æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´</span><br><span class="line">  headers: &#123;<span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span>&#125;,</span><br><span class="line"></span><br><span class="line">  // `params` æ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•°</span><br><span class="line">  // å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID: 12345</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `paramsSerializer` æ˜¯ä¸€ä¸ªè´Ÿè´£ `params` åºåˆ—åŒ–çš„å‡½æ•°</span><br><span class="line">  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span><br><span class="line">  paramsSerializer: <span class="keyword">function</span>(params) &#123;</span><br><span class="line">    <span class="built_in">return</span> Qs.stringify(params, &#123;arrayFormat: <span class="string">'brackets'</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ®</span><br><span class="line">  // åªé€‚ç”¨äºè¿™äº›è¯·æ±‚æ–¹æ³• <span class="string">'PUT'</span>, <span class="string">'POST'</span>, å’Œ <span class="string">'PATCH'</span></span><br><span class="line">  // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š</span><br><span class="line">  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span><br><span class="line">  // - æµè§ˆå™¨ä¸“å±ï¼šFormData, File, Blob</span><br><span class="line">  // - Node ä¸“å±ï¼š Stream</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´)</span><br><span class="line">  // å¦‚æœè¯·æ±‚è¯è´¹äº†è¶…è¿‡ `timeout` çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­</span><br><span class="line">  timeout: 1000,</span><br><span class="line"></span><br><span class="line">  // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦æºå¸¦cookie</span><br><span class="line">  withCredentials: <span class="literal">false</span>, // é»˜è®¤çš„</span><br><span class="line"></span><br><span class="line">  // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾</span><br><span class="line">  // è¿”å›ä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” (æŸ¥é˜… [response docs](<span class="comment">#response-api)).</span></span><br><span class="line">  adapter: <span class="keyword">function</span> (config) &#123;</span><br><span class="line">    /* ... */</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `auth` è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ®</span><br><span class="line">  // è¿™å°†è®¾ç½®ä¸€ä¸ª `Authorization` å¤´ï¼Œè¦†å†™æ‰ç°æœ‰çš„ä»»æ„ä½¿ç”¨ `headers` è®¾ç½®çš„è‡ªå®šä¹‰ `Authorization`å¤´</span><br><span class="line">  auth: &#123;</span><br><span class="line">    username: <span class="string">'janedoe'</span>,</span><br><span class="line">    password: <span class="string">'s00pers3cret'</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `responseType` è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ <span class="string">'arraybuffer'</span>, <span class="string">'blob'</span>, <span class="string">'document'</span>, <span class="string">'json'</span>, <span class="string">'text'</span>, <span class="string">'stream'</span></span><br><span class="line">  responseType: <span class="string">'json'</span>, // é»˜è®¤çš„</span><br><span class="line"></span><br><span class="line">  // `xsrfCookieName` æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§°</span><br><span class="line">  xsrfCookieName: <span class="string">'XSRF-TOKEN'</span>, // default</span><br><span class="line"></span><br><span class="line">  // `xsrfHeaderName` æ˜¯æ‰¿è½½ xsrf token çš„å€¼çš„ HTTP å¤´çš„åç§°</span><br><span class="line">  xsrfHeaderName: <span class="string">'X-XSRF-TOKEN'</span>, // é»˜è®¤çš„</span><br><span class="line"></span><br><span class="line">  // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶</span><br><span class="line">  onUploadProgress: <span class="keyword">function</span> (progressEvent) &#123;</span><br><span class="line">    // å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶</span><br><span class="line">  onDownloadProgress: <span class="keyword">function</span> (progressEvent) &#123;</span><br><span class="line">    // å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `maxContentLength` å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸</span><br><span class="line">  maxContentLength: 2000,</span><br><span class="line"></span><br><span class="line">  // `validateStatus` å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject  promise ã€‚å¦‚æœ `validateStatus` è¿”å› `<span class="literal">true</span>` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte</span><br><span class="line">  validateStatus: <span class="keyword">function</span> (status) &#123;</span><br><span class="line">    <span class="built_in">return</span> status &gt;= 200 &amp;&amp; status &lt; 300; // é»˜è®¤çš„</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `maxRedirects` å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›®</span><br><span class="line">  // å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘</span><br><span class="line">  maxRedirects: 5, // é»˜è®¤çš„</span><br><span class="line"></span><br><span class="line">  // `httpAgent` å’Œ `httpsAgent` åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š</span><br><span class="line">  // `keepAlive` é»˜è®¤æ²¡æœ‰å¯ç”¨</span><br><span class="line">  httpAgent: new http.Agent(&#123; keepAlive: <span class="literal">true</span> &#125;),</span><br><span class="line">  httpsAgent: new https.Agent(&#123; keepAlive: <span class="literal">true</span> &#125;),</span><br><span class="line"></span><br><span class="line">  // <span class="string">'proxy'</span> å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£</span><br><span class="line">  // `auth` è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºè¿æ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ®</span><br><span class="line">  // è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª `Proxy-Authorization` å¤´ï¼Œè¦†å†™æ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ `header` è®¾ç½®çš„è‡ªå®šä¹‰ `Proxy-Authorization` å¤´ã€‚</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    host: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">    port: 9000,</span><br><span class="line">    auth: : &#123;</span><br><span class="line">      username: <span class="string">'mikeymike'</span>,</span><br><span class="line">      password: <span class="string">'rapunz3l'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `cancelToken` æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token</span><br><span class="line">  // ï¼ˆæŸ¥çœ‹åé¢çš„ Cancellation è¿™èŠ‚äº†è§£æ›´å¤šï¼‰</span><br><span class="line">  cancelToken: new CancelToken(<span class="keyword">function</span> (cancel) &#123;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å“åº”ç»“æ„"><a href="#å“åº”ç»“æ„" class="headerlink" title="å“åº”ç»“æ„"></a>å“åº”ç»“æ„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº”</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç </span><br><span class="line">  status: 200,</span><br><span class="line"></span><br><span class="line">  // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯</span><br><span class="line">  statusText: <span class="string">'OK'</span>,</span><br><span class="line"></span><br><span class="line">  // `headers` æœåŠ¡å™¨å“åº”çš„å¤´</span><br><span class="line">  headers: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  // `config` æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯</span><br><span class="line">  config: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h3><p>åæ¥åšé¡¹ç›®æ—¶ï¼Œç”¨axiosé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå‘é€deleteè¯·æ±‚æ—¶ï¼Œæ€»æ˜¯æŠ¥405ï¼Œè¯¢é—®åç«¯ä¹‹åäº†è§£åˆ°åå°æ˜¯å…è®¸delete methodçš„ï¼Œé‚£ä¸ºå•¥è¿˜ä¼šæŠ¥405å‘¢ï¼Ÿ<br>åŸæ¥æµè§ˆå™¨åœ¨å‘é€deleteè¯·æ±‚æ—¶ï¼Œä¼šå…ˆå‘é€ä¸€ä¸ªoptionsè¯·æ±‚è¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸æµè§ˆå™¨ä»¥æ­¤æ–¹æ³•ã€æ¥å£è®¿é—®æœåŠ¡å™¨ï¼Œå¦‚æœå…è®¸ï¼Œæµè§ˆå™¨ä¼šå‘é€çœŸå®çš„deleteè¯·æ±‚ã€‚<br>ä¹‹æ‰€ä»¥æŠ¥405ï¼Œæ˜¯å› ä¸ºåå°çš„Acess-Control-Allow-Methodsé‡Œæ²¡æœ‰OPTIONSï¼Œæ‰€ä»¥å°±æŠ¥äº†ä¸ª405ã€‚</p><h4 id="ç®€å•è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚"></a>ç®€å•è¯·æ±‚</h4>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™å‡ å¤©åœ¨ç”¨Vueå†™é”€å”®ç³»ç»Ÿï¼Œæƒ³ç€åå°ç”¨nodeå†™å‡ ä¸ªæ¥å£ï¼Œç»™å‰ç«¯ç”¨ï¼Œä¹‹å‰ç™»é™†ä¿¡æ¯ï¼Œæš‚æ—¶å­˜åœ¨localStorageé‡Œï¼ŒçœŸæ˜¯è„¸çº¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="javascript" scheme="http://yoursite.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>JSX</title>
    <link href="http://yoursite.com/2018/04/05/JSX/"/>
    <id>http://yoursite.com/2018/04/05/JSX/</id>
    <published>2018-04-05T04:25:14.000Z</published>
    <updated>2019-07-29T09:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>å­¦äº†Reactæœ‰å·®ä¸å¤šä¿©æ˜ŸæœŸäº†ï¼Œåšä¸ªæ€»ç»“ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯JSX"><a href="#ä»€ä¹ˆæ˜¯JSX" class="headerlink" title="ä»€ä¹ˆæ˜¯JSX"></a>ä»€ä¹ˆæ˜¯JSX</h3><p>JSX=JavaScriptXml<br><br>JSXå¯ä»¥ç†è§£ä¸ºåœ¨JSä¸­ç¼–å†™ä¸XMLè¯­è¨€ç±»ä¼¼çš„è¯­è¨€ï¼Œä»–å¹¶ä¸èƒ½è¢«æµè§ˆå™¨è¯†åˆ«ï¼Œä»–çš„ç›®çš„æ˜¯é€šè¿‡ç¼–è¯‘å™¨å°†è¿™äº›æ ‡è®°å˜å¼‚æˆæ ‡å‡†çš„JSè¯­è¨€ã€‚æ¢å¥è¯è¯´ä»–æ˜¯jsè¯­æ³•çš„æ‹“å±•ã€‚</p><a id="more"></a><h3 id="javascriptè¡¨è¾¾å¼"><a href="#javascriptè¡¨è¾¾å¼" class="headerlink" title="javascriptè¡¨è¾¾å¼"></a>javascriptè¡¨è¾¾å¼</h3><p>è¦ä½¿ç”¨Javascriptè¡¨è¾¾å¼ä½œä¸ºå±æ€§å€¼ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªè¡¨è¾¾å¼ç”¨ä¸€å¯¹å¤§æ‹¬å·ï¼ˆ{}ï¼‰åŒ…èµ·æ¥ï¼Œä¸è¦ç”¨å¼•å·ï¼ˆâ€â€ï¼‰ã€‚æ±‚èŒè¡¨è¾¾å¼æœ¬èº«å’ŒJSXæ²¡å•¥å…³ç³»ï¼Œæ˜¯JSä¸­çš„ç‰¹æ€§ã€‚ä»–æ˜¯ä¼šè¿”å›å€¼çš„è¡¨è¾¾å¼ï¼Œä¸è¯­å¥æœ¬è´¨çš„ä¸åŒï¼Œåœ¨ç¼–å†™JSXæ—¶ï¼Œåœ¨ { } ä¸­ä¸èƒ½ä½¿ç”¨è¯­å¥ï¼ˆifè¯­å¥ã€forè¯­å¥ç­‰ç­‰ï¼‰ã€‚æˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨è¯­å¥ï¼Œä½†å¯ä»¥æŠŠè¯­å¥åŒ…è£¹åœ¨å‡½æ•°æ±‚å€¼è¡¨è¾¾å¼ä¸­è¿ç”¨ã€‚å»ºè®®æŠŠå‡½æ•°è¡¨è¾¾å¼ç‹¬ç«‹å‡ºæ¥ï¼Œåœ¨ { } è°ƒç”¨ã€‚</p><h3 id="å…³äºç”¨æ³•å’Œæ³¨æ„äº‹é¡¹"><a href="#å…³äºç”¨æ³•å’Œæ³¨æ„äº‹é¡¹" class="headerlink" title="å…³äºç”¨æ³•å’Œæ³¨æ„äº‹é¡¹"></a>å…³äºç”¨æ³•å’Œæ³¨æ„äº‹é¡¹</h3><p>å®˜ç½‘æœ‰ä¸€ç¯‡æ·±å…¥JSX<a href="https://doc.react-china.org/docs/jsx-in-depth.html" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a></p><h3 id="ç»„ä»¶æ˜¯å•¥"><a href="#ç»„ä»¶æ˜¯å•¥" class="headerlink" title="ç»„ä»¶æ˜¯å•¥"></a>ç»„ä»¶æ˜¯å•¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&lt;App/&gt;)</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/cosole.log%28APP%29.png" alt=""></p><p>as  we  can seeï¼Œç»„ä»¶å¹¶ä¸æ˜¯æˆ‘ä»¬ä¹‹å‰ä¼ ç»Ÿå¼€å‘æ¨¡å¼ä¸‹çš„å¯å¤ç”¨çš„HTML+CSSï¼Œè€Œæ˜¯å•çº¯çš„jså¯¹è±¡ï¼Œæˆ–è€…è¯´è™šæ‹ŸDOMã€‚<br>æ¥ä¸‹æ¥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&lt;ToDoList name=&#123;<span class="string">'todo'</span>&#125; onClick=&#123;()=&gt;&#123;console.log(<span class="string">'ss'</span>)&#125;&#125;/&gt;)&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>åœ¨ç»„ä»¶é‡Œæ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Œ(ToDoListæ˜¯ä¹‹å‰å†™çš„ä¸€ä¸ªå°ç»„ä»¶)ï¼Œåœ¨æ§åˆ¶å°ä¸Šå¯ä»¥çœ‹åˆ°ã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/JSX.png" alt="">;<br>å¯ä»¥çœ‹åˆ°propsé‡Œå¤šäº†nameå’Œäº‹ä»¶onClickï¼Œè¿™ä¹Ÿå°±æ˜¯Reactå£°æ˜ç»„ä»¶å±æ€§å’Œæ–¹æ³•çš„æ–¹å¼ï¼Œä»è¿™ä¸€ç‚¹æ¥çœ‹Vueè¿˜è¦å»propsé‡Œæ³¨å†Œè¦çœäº‹ä¸€ç‚¹ã€‚<br>å¯ä»¥çœ‹åˆ°ç»„ä»¶å¯¹è±¡é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å±æ€§ï¼Œè¿™äº›æ˜¯ç”¨æ¥å¹²å˜›çš„å‘¢ï¼ŸO98kï¼Œæ‰“å¼€<a href="https://babeljs.io/repl" target="_blank" rel="noopener">åœ¨çº¿Babelç¼–è¯‘å™¨</a>ï¼Œè¾“å…¥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hello</span></span>()&#123;</span><br><span class="line">  <span class="built_in">return</span> (&lt;div&gt;hello&lt;/div&gt;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°<img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/babelHello.png" alt=""><br>babelè°ƒç”¨äº†Reactçš„createElementæ–¹æ³•ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆï¼Œæˆ‘ä»¬åœ¨webpackç¯å¢ƒä¸‹ï¼Œå£°æ˜ä¸€ä¸ªç»„ä»¶ï¼Œæ˜æ˜æ²¡æœ‰ç”¨åˆ°Reactï¼Œä¹Ÿè¦å»å¼•å…¥çš„åŸå› ã€‚<br>é‚£ä¹ˆè¿™ä¸ªå‡½æ•°æ˜¯å¹²å˜›ä½¿å¾—å‘¢ï¼Ÿo98kï¼Œæ¥ä¸‹æ¥å¥½å¥½çœ‹çœ‹ã€‚</p><h3 id="createElemnt"><a href="#createElemnt" class="headerlink" title="createElemnt"></a>createElemnt</h3><p>é¦–å…ˆæŠŠReactæºç çš„åœ°å€è´´ä¸Šï¼Œ<a href="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/react.development.js" target="_blank" rel="noopener">REACTæºç </a>ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å¤åˆ¶ä¸‹æ¥çœ‹çœ‹ã€‚<br>åœ¨React0.15ç‰ˆæœ¬ä¸­ç”¨åˆ°çš„æ˜¯createClassæ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•è²Œä¼¼å·²ç»è¿‡æ—¶äº†ï¼Œ16ç‰ˆæœ¬ç”¨çš„å°±æ˜¯createElementã€‚</p><p>åœ¨æºç çš„481è¡Œï¼Œå¯ä»¥æ‰¾åˆ°è¿™ä¸ªå‡½æ•°ï¼Œä»–æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>type æ ‡ç­¾å</li><li>config é…ç½®ä¿¡æ¯classNameï¼Œäº‹ä»¶å•¥çš„ï¼Œæ²¡æœ‰åˆ™ä¸ºnull</li><li>children æ ‡ç­¾é‡Œé¢çš„å…ƒç´ å¦‚ï¼šä¸Šè¿°helloç»„ä»¶ä¸­è°ƒç”¨createElelmentæ—¶ï¼Œchildrenå€¼å°±æ˜¯â€™helloâ€™ï¼Œæœ‰æ„æ€çš„æ—¶å½“é‡Œé¢çš„å…ƒç´ æ˜¯åµŒå¥—äº†ä¸€å±‚çš„è¯ï¼Œæ¯”å¦‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">return</span> (&lt;div&gt;&lt;p&gt;sss&lt;/p&gt;&lt;/div&gt;)</span><br></pre></td></tr></table></figure></li></ul><p>é‚£ä¹ˆchildrenå¯¹åº”çš„å€¼å°±æ˜¯React.createElementçš„è¿”å›ç»“æœã€‚<br>è¿™åœ¨babelç½‘ç«™ä¸Šä¼šçœ‹çš„å¾ˆæ¸…æ¥šï¼Œæ¯”å¦‚å£°æ˜ä¸€ä¸ªç»„ä»¶å’Œæ¸²æŸ“ä¸€ä¸ªç»„ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">TodoItem</span></span>()&#123;</span><br><span class="line">  reutn (&lt;div className=<span class="string">"foo"</span>  onClick=&#123;()=&gt;&#123;cconsole.log(<span class="string">'sss'</span>)&#125;&#125; &gt;</span><br><span class="line">           &lt;p&gt;sss&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;TodoItem /&gt;</span><br></pre></td></tr></table></figure><p>åœ¨å³è¾¹å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä»£ç <br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">TodoItem</span></span>() &#123;</span><br><span class="line">  reutn(React.createElement(</span><br><span class="line">    <span class="string">"div"</span>,</span><br><span class="line">    &#123; className: <span class="string">"foo"</span>, onClick: <span class="keyword">function</span> <span class="function"><span class="title">onClick</span></span>() &#123;</span><br><span class="line">        cconsole.log(<span class="string">'sss'</span>);</span><br><span class="line">      &#125; &#125;,</span><br><span class="line">    React.createElement(</span><br><span class="line">      <span class="string">"p"</span>,</span><br><span class="line">      null,</span><br><span class="line">      <span class="string">"sss"</span></span><br><span class="line">    )</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">React.createElement(TodoItem, null);</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°æ— è®ºæ˜¯åŸç”Ÿæ ‡ç­¾è¿˜æ˜¯è‡ªå®šä¹‰ç»„ä»¶æ ‡ç­¾ï¼ŒReactéƒ½ä¼šè°ƒç”¨createElementè¿›è¡Œå¤„ç†ï¼Œè€Œå¤„ç†çš„ç»“æœæˆ‘ä»¬å¯ä»¥ä»æ¥ä¸‹æ¥çš„æºç é‡Œå¯»æ‰¾ã€‚</p><p>createElementæºç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Create and <span class="built_in">return</span> a new ReactElement of the given <span class="built_in">type</span>.</span><br><span class="line"> * See https://reactjs.org/docs/react-api.html<span class="comment">#createelement</span></span><br><span class="line"> */</span><br><span class="line"><span class="keyword">function</span> createElement(<span class="built_in">type</span>, config, children) &#123;</span><br><span class="line">  var propName;</span><br><span class="line"></span><br><span class="line">  // å†…ç½®é™æ€å˜é‡ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™ReactElementæ–¹æ³•</span><br><span class="line"></span><br><span class="line">  //å±æ€§æ‰¿è½½çš„å®¹å™¨ï¼Œå­ç»„ä»¶å†…éƒ¨å°±æ˜¯é€šè¿‡è¿™ä¸ªå¯¹è±¡è®¿é—®å¯¹åº”çš„å±æ€§</span><br><span class="line">  var props = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  var key = null;</span><br><span class="line">  var ref = null;</span><br><span class="line">  var self = null;</span><br><span class="line">  var <span class="built_in">source</span> = null;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (config != null) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hasValidRef(config)) &#123;</span><br><span class="line">      ref = config.ref;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hasValidKey(config)) &#123;</span><br><span class="line">      key = <span class="string">''</span> + config.key;</span><br><span class="line">    &#125;</span><br><span class="line">    //todo self å’Œ <span class="built_in">source</span> éƒ½æ˜¯é€šè¿‡ props ä¼ å…¥çš„</span><br><span class="line">    self = config.__self === undefined ? null : config.__self;</span><br><span class="line">    <span class="built_in">source</span> = config.__source === undefined ? null : config.__source;</span><br><span class="line">    // Remaining properties are added to a new props object</span><br><span class="line">    <span class="keyword">for</span> (propName <span class="keyword">in</span> config) &#123;</span><br><span class="line">        // æ£€éªŒæ˜¯ä¸æ˜¯ OwnPropertyï¼Œä¸”ä¸èƒ½æ˜¯ä¿ç•™çš„åç§°ã€‚å±æ€§åä¸èƒ½æ˜¯ key, ref, __self å’Œ __source</span><br><span class="line">        <span class="keyword">if</span> (hasOwnProperty.call(config, propName) &amp;&amp; !RESERVED_PROPS.hasOwnProperty(propName)) &#123;</span><br><span class="line">        props[propName] = config[propName];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //todo createElement å¯ä»¥æ¥å—ä¸æ­¢ä¸‰ä¸ªå‚æ•°ï¼Œåœ¨ children åé¢ä¼ å…¥æ›´å¤šçš„å‚æ•°ï¼Œè¡¨ç¤ºæœ‰æ›´å¤šçš„ childï¼Œå› æ­¤è¿™é‡Œè¦æŠŠå®ƒä»¬æ”¶é›†èµ·æ¥ã€‚</span><br><span class="line">  var childrenLength = arguments.length - 2;</span><br><span class="line">  <span class="keyword">if</span> (childrenLength === 1) &#123;</span><br><span class="line">    props.children = children;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (childrenLength &gt; 1) &#123;</span><br><span class="line">    var childArray = Array(childrenLength);</span><br><span class="line">    <span class="keyword">for</span> (var i = 0; i &lt; childrenLength; i++) &#123;</span><br><span class="line">      childArray[i] = arguments[i + 2];</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">      //Object.freezeä½¿å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œå¯¹è±¡çš„å±æ€§ä¸å¯åˆ é™¤ï¼Œä¸å¯ä¿®æ”¹</span><br><span class="line">      <span class="keyword">if</span> (Object.freeze) &#123;</span><br><span class="line">        Object.freeze(childArray);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    props.children = childArray;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //todo æŠŠç»„ä»¶çš„é»˜è®¤å±æ€§å€¼èµ‹äºˆç»„ä»¶çš„å®ä¾‹ä¸Š</span><br><span class="line">  // Resolve default props</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">type</span> &amp;&amp; type.defaultProps) &#123;</span><br><span class="line">    var defaultProps = type.defaultProps;</span><br><span class="line">    <span class="keyword">for</span> (propName <span class="keyword">in</span> defaultProps) &#123;</span><br><span class="line">      <span class="keyword">if</span> (props[propName] === undefined) &#123;</span><br><span class="line">        props[propName] = defaultProps[propName];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (key || ref) &#123;</span><br><span class="line">      <span class="keyword">if</span> (typeof props.$<span class="variable">$typeof</span> === <span class="string">'undefined'</span> || props.$<span class="variable">$typeof</span> !== REACT_ELEMENT_TYPE) &#123;</span><br><span class="line">        var displayName = typeof <span class="built_in">type</span> === <span class="string">'function'</span> ? type.displayName || type.name || <span class="string">'Unknown'</span> : <span class="built_in">type</span>;</span><br><span class="line">        <span class="keyword">if</span> (key) &#123;</span><br><span class="line">          defineKeyPropWarningGetter(props, displayName);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ref) &#123;</span><br><span class="line">          defineRefPropWarningGetter(props, displayName);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> ReactElement(<span class="built_in">type</span>, key, ref, self, <span class="built_in">source</span>, ReactCurrentOwner.current, props);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™é‡Œï¼Œå…¶å®è¿˜æœ‰ç‚¹æ¨¡ç³Šï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å¹²å˜›çš„ï¼Œåœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸèµ·åˆ°äº†ä¸€ä¸ªä»€ä¹ˆä½œç”¨ã€‚<br>ä½†æ˜¯å¯ä»¥åœ¨æœ€åçœ‹åˆ°createElementçš„è¿”å›å€¼å…¶å®å°±æ˜¯ReactElementæ–¹æ³•çš„è¿”å›å€¼ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±çœ‹çœ‹ReactElelmentï¼Œæ˜¯å¹²å•¥çš„ã€‚</p><h3 id="ReactElement"><a href="#ReactElement" class="headerlink" title="ReactElement"></a>ReactElement</h3><p>å…ˆçœ‹å‚æ•°</p><ul><li>type: ä½¿ç”¨ React.createElementåˆ›å»ºçš„ React ç»„ä»¶</li><li>key: ä½¿ç”¨ React ç»„ä»¶åˆ›å»ºçš„ ReactElement çš„ keyï¼ŒDOMç»“æ„æ ‡è¯†ï¼Œæå‡updateæ€§èƒ½</li><li>ref: è¿™ä¸ª ReactElement çš„ refï¼ŒçœŸå®DOMçš„å¼•ç”¨</li><li>propsï¼šå­ç»“æ„ç›¸å…³ä¿¡æ¯(æœ‰åˆ™å¢åŠ childrenå­—æ®µ/æ²¡æœ‰ä¸ºç©º)å’Œç»„ä»¶å±æ€§(å¦‚style)</li><li>self: ç”¨æ¥è®°å½•å½“å‰å…ƒç´ æ‰€åœ¨çš„ç¯å¢ƒï¼Œå› ä¸ºåˆ›å»ºç»„ä»¶çš„æ—¶å€™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå°±åƒä¹‹å‰ï¼Œæåˆ°çš„helloåµŒå¥—ç»„ä»¶ï¼Œæ‰€ä»¥æœ‰å¿…è¦å¯¹äºæ¯ä¸€å±‚çš„ç»„ä»¶ä¿å­˜thisã€‚</li><li>source: ä¸­åŒ…å«äº†ä¸€äº›æ–‡ä»¶åç§°ï¼Œè¡Œå·ç­‰ä¿¡æ¯ã€‚</li><li>owner: ç”¨æ¥è®°å½•è¯¥å…ƒç´ æ‰€å±çš„ç»„ä»¶ã€‚å€¼ä¸ºåˆ›å»ºå½“å‰ç»„ä»¶çš„å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºnullã€‚<br>ReactElement è¿™ä¸ªå‡½æ•°åªæ˜¯å°†ä»¥ä¸Šå‚æ•°æ”¾å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ã€‚<br>æºç å¦‚ä¸‹ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Factory method to create a new React element. This no longer adheres to</span><br><span class="line"> * the class pattern, so <span class="keyword">do</span> not use new to call it. Also, no instanceof check</span><br><span class="line"> * will work. Instead <span class="built_in">test</span> $<span class="variable">$typeof</span> field against Symbol.for(<span class="string">'react.element'</span>) to check</span><br><span class="line"> * <span class="keyword">if</span> something is a React Element.</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;*&#125; <span class="built_in">type</span></span><br><span class="line"> * @param &#123;*&#125; key</span><br><span class="line"> * @param &#123;string|object&#125; ref</span><br><span class="line"> * @param &#123;*&#125; self A *temporary* helper to detect places <span class="built_in">where</span> `this` is</span><br><span class="line"> * different from the `owner` when React.createElement is called, so that we</span><br><span class="line"> * can warn. We want to get rid of owner and replace string `ref`s with arrow</span><br><span class="line"> * <span class="built_in">functions</span>, and as long as `this` and owner are the same, there will be no</span><br><span class="line"> * change <span class="keyword">in</span> behavior.</span><br><span class="line"> * @param &#123;*&#125; <span class="built_in">source</span> An annotation object (added by a transpiler or otherwise)</span><br><span class="line"> * indicating filename, line number, and/or other information.</span><br><span class="line"> * @param &#123;*&#125; owner</span><br><span class="line"> * @param &#123;*&#125; props</span><br><span class="line"> * @internal</span><br><span class="line"> */</span><br><span class="line">var ReactElement = <span class="keyword">function</span> (<span class="built_in">type</span>, key, ref, self, <span class="built_in">source</span>, owner, props) &#123;</span><br><span class="line">  var element = &#123;</span><br><span class="line">    //ä½œä¸ºReactElementçš„æ ‡è¯†ï¼Œè¿ç”¨ES6çš„Symbol</span><br><span class="line">    $<span class="variable">$typeof</span>: REACT_ELEMENT_TYPE,</span><br><span class="line"></span><br><span class="line">    // Built-in properties that belong on the element</span><br><span class="line">    <span class="built_in">type</span>: <span class="built_in">type</span>,</span><br><span class="line">    key: key,</span><br><span class="line">    ref: ref,</span><br><span class="line">    props: props,</span><br><span class="line"></span><br><span class="line">    // Record the component responsible <span class="keyword">for</span> creating this element.</span><br><span class="line">    _owner: owner</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    element._store = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Object.defineProperty(element._store, <span class="string">'validated'</span>, &#123;</span><br><span class="line">      configurable: <span class="literal">false</span>,</span><br><span class="line">      enumerable: <span class="literal">false</span>,</span><br><span class="line">      writable: <span class="literal">true</span>,</span><br><span class="line">      value: <span class="literal">false</span></span><br><span class="line">    &#125;);</span><br><span class="line">    // self and <span class="built_in">source</span> are DEV only properties.</span><br><span class="line">    Object.defineProperty(element, <span class="string">'_self'</span>, &#123;</span><br><span class="line">      configurable: <span class="literal">false</span>,</span><br><span class="line">      enumerable: <span class="literal">false</span>,</span><br><span class="line">      writable: <span class="literal">false</span>,</span><br><span class="line">      value: self</span><br><span class="line">    &#125;);</span><br><span class="line">    // Two elements created <span class="keyword">in</span> two different places should be considered</span><br><span class="line">    // equal <span class="keyword">for</span> testing purposes and therefore we hide it from enumeration.</span><br><span class="line">    Object.defineProperty(element, <span class="string">'_source'</span>, &#123;</span><br><span class="line">      configurable: <span class="literal">false</span>,</span><br><span class="line">      enumerable: <span class="literal">false</span>,</span><br><span class="line">      writable: <span class="literal">false</span>,</span><br><span class="line">      value: <span class="built_in">source</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">if</span> (Object.freeze) &#123;</span><br><span class="line">      Object.freeze(element.props);</span><br><span class="line">      Object.freeze(element);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">return</span> element;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p>è¯¥æ–¹æ³•åœ¨å…¶ä»–æ–¹æ³•ä¸­ä¹Ÿç»å¸¸è¢«è°ƒç”¨ï¼Œç»“æœè¢«returnã€‚</p><h3 id="React-Component"><a href="#React-Component" class="headerlink" title="React.Component"></a>React.Component</h3><p>æˆ‘ä»¬åœ¨æœ€å¼€å§‹å£°æ˜çš„ç»„ä»¶Appï¼Œå…¶å®æ˜¯ç»§æ‰¿React.Componentç±»çš„å­ç±»ï¼Œå®ƒçš„åŸå‹å…·æœ‰setStateç­‰æ–¹æ³•ã€‚è¿™æ ·ç»„ä»¶Appå·²ç»æœ‰äº†æœ€åŸºæœ¬çš„é›å½¢ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> Component(props, context, updater) &#123;</span><br><span class="line">  this.props = props;</span><br><span class="line">  this.context = context;</span><br><span class="line">  this.refs = emptyObject;</span><br><span class="line">  // We initialize the default updater but the real one gets injected by the</span><br><span class="line">  // renderer.</span><br><span class="line">  this.updater = updater || ReactNoopUpdateQueue;</span><br><span class="line">&#125;</span><br><span class="line">Component.prototype.setState = <span class="keyword">function</span> (partialState, callback) &#123;</span><br><span class="line">  !(typeof partialState === <span class="string">'object'</span> || typeof partialState === <span class="string">'function'</span> || partialState == null) ? invariant(<span class="literal">false</span>, <span class="string">'setState(...): takes an object of state variables to update or a function which returns an object of state variables.'</span>) : void 0;</span><br><span class="line">  this.updater.enqueueSetState(this, partialState, callback, <span class="string">'setState'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Component.prototype.forceUpdate = <span class="keyword">function</span> (callback) &#123;</span><br><span class="line">  this.updater.enqueueForceUpdate(this, callback, <span class="string">'forceUpdate'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>è´´å¼ å›¾<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/ReactComponent.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å­¦äº†Reactæœ‰å·®ä¸å¤šä¿©æ˜ŸæœŸäº†ï¼Œåšä¸ªæ€»ç»“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯JSX&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯JSX&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯JSX&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯JSX&lt;/h3&gt;&lt;p&gt;JSX=JavaScriptXml&lt;br&gt;&lt;br&gt;JSXå¯ä»¥ç†è§£ä¸ºåœ¨JSä¸­ç¼–å†™ä¸XMLè¯­è¨€ç±»ä¼¼çš„è¯­è¨€ï¼Œä»–å¹¶ä¸èƒ½è¢«æµè§ˆå™¨è¯†åˆ«ï¼Œä»–çš„ç›®çš„æ˜¯é€šè¿‡ç¼–è¯‘å™¨å°†è¿™äº›æ ‡è®°å˜å¼‚æˆæ ‡å‡†çš„JSè¯­è¨€ã€‚æ¢å¥è¯è¯´ä»–æ˜¯jsè¯­æ³•çš„æ‹“å±•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ " scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
</feed>
