TCP UDP 概述

UDP 是一个简单的面向数据报的传输层协议：
进程的每个输出操作都正好产生一个 UDP 数据报，并组装成一份待发送的 IP 数据报。

UDP 不提供可靠性：它把应用程序传给 IP 层的数据发送出去，但是并不保证它们能到达目的地。
应用程序必须关心 IP 数据报的长度。如果它超过网络的 MTU，那么就要对 IP 数据报进行分片。

传输层主要为两台主机上的应用程序提供端到端的通信。
在 TCP/IP 协议族中，有两个互不相同的传输协议： TCP（传输控制协议）和 UDP（用户数据报协议）。

TCP 为两台主机提供高可靠性的数据通信。
它所做的工作包括把应用程序交给它的数据分成合适的小块交给下面的网络层，
确认接收到的分组，设置发送最后确认分组的超时时钟等。
由于传输层提供了高可靠性的端到端的通信，因此应用层可以忽略所有这些细节。

而另一方面， UDP 则为应用层提供一种非常简单的服务。
它只是把称作数据报的分组从一台主机发送到另一台主机，但并不保证该数据报能到达另一端。
任何必需的可靠性必须由应用层来提供。

TCP 与 UDP 的区别
1. TCP 是面向连接的协议，UDP 是无连接协议
TCP 发送数据前使用三次握手建立连接，UDP 发送数据前不需要建立连接。

2. TCP 可靠，UDP 不可靠
TCP 丢包会自动重传，UDP 不会(任何必需的可靠性必须由应用层来提供)。 TCP 可靠性由三个机制保证：1. 序号（TCP 报文的序号）2. 确认（ACK 机制）3. 重传（超时或者冗余的 ACK）

3. TCP 有序，UDP 无序
消息在传输过程中可能会乱序，后发送的消息可能会先到达，TCP 会对其进行重新排序，UDP 不会。

4.TCP 无界，UDP 有界
TCP 通过字节流传输，UDP 中每一个包都是单独的。

5. TCP 有流量控制（拥塞控制），UDP 没有
TCP 协议的流量控制是基于滑窗协议实现的。 拥塞控制和流量控制不同，流量控制是点对点的通信量抑制，抑制发送端发送速率，使得接收端来得及接收。

6. TCP 传输慢，UDP 传输快；
因为 TCP 需要建立连接、保证可靠性和有序性，所以比较耗时。 这就是为什么视频流、广播电视、在线多媒体游戏等选择使用 UDP。

7. TCP 是重量级的，UDP 是轻量级的
TCP 要建立连接、保证可靠性和有序性，就会传输更多的信息，如 TCP 的包头比较大。

8. TCP 的 头部比 UDP 大

OSI七层模型
![](https://pic2.zhimg.com/80/v2-436927a69a3574532059a78623d3095d_1440w.webp)


	* 物理层：RJ45、CLOCK、IEEE802.3 （中继器，集线器）
	* 数据链路：PPP、FR、HDLC、VLAN、MAC （网桥，交换机）
	* 网络层：IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP、 （路由器）
	* 传输层：TCP、UDP、SPX
	* 会话层：NFS、SQL、NETBIOS、RPC
	* 表示层：JPEG、MPEG、ASII
	* 应用层：FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS
* 每一层的作用如下：
	* 物理层：通过媒介传输比特,确定机械及电气规范（比特Bit）
	* 数据链路层：将比特组装成帧和点到点的传递（帧Frame）
	* 网络层：负责数据包从源到宿的传递和网际互连（包PackeT）
	* 传输层：提供端到端的可靠报文传递和错误恢复（段Segment）
	* 会话层：建立、管理和终止会话（会话协议数据单元SPDU）
	* 表示层：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）
	* 应用层：允许访问OSI环境的手段（应用协议数据单元APDU）

+ 网桥：工作在数据链路层，在不同或相同类型的LAN之间存储并转发数据帧，必要时进行链路层上的协议转换。可连接两个或多个网络，在其中传送信息包。


+ 交换机：工作在数据链路层，原理等同于多端口网桥。作用是连接数个相同网段的不同主机，减少网内冲突，隔离冲突域。利用存储转发和过滤技术来从物理上分割网段。


+ 路由器：工作在网络层，在不同的网络间存储并转发分组。可在异种网络之间（即不同类型的局域网互连，局域网与广域网，广域网与广域网）传输数据并进行路径选择，使用专门的软件协议从逻辑上对整个网络进行划分。


+ 网关：对高层协议（包括传输层及更高层次）进行转换的网间连接器。允许使用不兼容的协议，比如SPX/IPX和TCP/IP的系统和网络互连。因为协议转换是网关最重要的功能，所以答案是工作在传输层及以上层次。


+ 网卡：在物理层上网卡主要是完成物理接口的连接,电信号的传送以及将数据分解为适当大小的数据包之后向网络上发送的功能. 数据链路层功能包括链路建立和拆除，帧定界同步顺序差错控制这些。大多认为主要工作在物理层。

#### https链接过程
![](https://pic2.zhimg.com/80/v2-22c7091dfa8fb587d9f37d7c3edc387d_1440w.webp)
如何预防https中间人攻击
